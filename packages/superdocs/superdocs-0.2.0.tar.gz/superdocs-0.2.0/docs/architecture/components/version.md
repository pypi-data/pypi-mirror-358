# _version.py - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º SuperDocs. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –¥–ª—è –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö —Å–∏—Å—Ç–µ–º—ã - –æ—Ç CLI –¥–æ setup.py –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

### –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞
```python
__version__ = "0.1.2"
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**:
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (SemVer)
- –°—Ç—Ä–æ–∫–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –≤–µ—Ä—Å–∏–∏ –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
```python
__version_info__ = (0, 1, 2)
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π –≤ –≤–∏–¥–µ –∫–æ—Ä—Ç–µ–∂–∞.

## üìä –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§–æ—Ä–º–∞—Ç –≤–µ—Ä—Å–∏–∏: MAJOR.MINOR.PATCH

#### MAJOR (0)
- **–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è API**
- –ö–∞—Ä–¥–∏–Ω–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –ü–æ–∫–∞ 0 - –ø—Ä–æ–¥—É–∫—Ç –≤ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

#### MINOR (1) 
- **–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** —Å –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é
- –ù–æ–≤—ã–µ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã –∏–ª–∏ —Ñ–æ—Ä–º–∞—Ç—ã

#### PATCH (2)
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫** –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è API
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –£–ª—É—á—à–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ

### –í CLI –º–æ–¥—É–ª–µ
```python
from superdocs._version import __version__

parser.add_argument(
    "--version", "-V",
    action="version",
    version=f"mcpdoc {__version__}",
)
```

### –í pyproject.toml
```toml
[project]
name = "superdocs"
version = "0.1.2"  # –î–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å _version.py
```

### –í setup —Å–∫—Ä–∏–ø—Ç–∞—Ö
```python
from superdocs._version import __version__

setup(
    name="superdocs",
    version=__version__,
    # ...
)
```

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏

### 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```bash
# Patch —Ä–µ–ª–∏–∑ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
0.1.2 ‚Üí 0.1.3

# Minor —Ä–µ–ª–∏–∑ (–Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)  
0.1.2 ‚Üí 0.2.0

# Major —Ä–µ–ª–∏–∑ (breaking changes)
0.1.2 ‚Üí 1.0.0
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
```python
# _version.py
__version__ = "0.2.0"
__version_info__ = (0, 2, 0)
```

### 3. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å pyproject.toml
```toml
[project]
version = "0.2.0"
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞ –∏ —Ç–µ–≥–∞
```bash
git add superdocs/_version.py pyproject.toml
git commit -m "Bump version to 0.2.0"
git tag v0.2.0
git push origin main --tags
```

## üìà –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

### v0.1.2 (—Ç–µ–∫—É—â–∞—è)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- –£–ª—É—á—à–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### v0.1.1 
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ SSE —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
- –£–ª—É—á—à–µ–Ω–∏–µ splash —ç–∫—Ä–∞–Ω–∞
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

### v0.1.0
- –ü–µ—Ä–≤—ã–π –ø—É–±–ª–∏—á–Ω—ã–π —Ä–µ–ª–∏–∑
- –ë–∞–∑–æ–≤–∞—è MCP —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- YAML/JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## üõ†Ô∏è –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```python
# scripts/bump_version.py
import re
from pathlib import Path

def bump_version(version_type: str):
    """–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤–µ—Ä—Å–∏—é –≤ —Ñ–∞–π–ª–∞—Ö"""
    # –õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è _version.py –∏ pyproject.toml
```

#### 2. –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
```python
# tests/test_version.py
def test_version_sync():
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –≤–µ—Ä—Å–∏–π –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö"""
    from superdocs._version import __version__
    import toml
    
    with open("pyproject.toml") as f:
        pyproject = toml.load(f)
    
    assert __version__ == pyproject["project"]["version"]
```

#### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π changelog
```python
def generate_changelog(version: str):
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç changelog –Ω–∞ –æ—Å–Ω–æ–≤–µ git –∫–æ–º–º–∏—Ç–æ–≤"""
    # –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–º–º–∏—Ç–æ–≤ –º–µ–∂–¥—É —Ç–µ–≥–∞–º–∏
    # –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è markdown
```

## üîç –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
```python
from superdocs._version import __version_info__

def check_compatibility(required_version: tuple):
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π"""
    return __version_info__ >= required_version

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
if not check_compatibility((0, 2, 0)):
    raise Exception("–¢—Ä–µ–±—É–µ—Ç—Å—è SuperDocs >= 0.2.0")
```

### –£—Å–ª–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
```python
from superdocs._version import __version_info__

def get_features():
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ—Ä—Å–∏–∏"""
    features = ["list_doc_sources", "fetch_docs"]
    
    if __version_info__ >= (0, 2, 0):
        features.extend(["browse_index", "explore_hierarchy"])
        
    if __version_info__ >= (0, 3, 0):
        features.extend(["search_docs", "cache_management"])
        
    return features
```

### –ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
```python
import httpx
from superdocs._version import __version__

async def send_usage_metrics():
    """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞–Ω–æ–Ω–∏–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"""
    await httpx.post("https://analytics.example.com/usage", json={
        "version": __version__,
        "transport": "stdio",
        "sources_count": 3
    })
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–¥–¥–µ–ª–∫–∏
```python
# –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –ø–æ–¥–ø–∏—Å—å –≤–µ—Ä—Å–∏–∏
import hashlib
import hmac

VERSION_KEY = "secret_key_for_version_validation"

def get_version_hash():
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ö–µ—à –≤–µ—Ä—Å–∏–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏"""
    return hmac.new(
        VERSION_KEY.encode(),
        __version__.encode(),
        hashlib.sha256
    ).hexdigest()
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
```python
def validate_version():
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤–µ—Ä—Å–∏—è –Ω–µ –±—ã–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–∞"""
    expected_hash = "expected_hash_for_current_version"
    actual_hash = get_version_hash()
    
    if actual_hash != expected_hash:
        raise Exception("Version integrity check failed")
```

## üì¶ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ —Å–±–æ—Ä–∫–∏

### GitHub Actions
```yaml
- name: Get version
  id: version
  run: |
    VERSION=$(python -c "from superdocs._version import __version__; print(__version__)")
    echo "::set-output name=version::$VERSION"

- name: Create release
  uses: actions/create-release@v1
  with:
    tag_name: v${{ steps.version.outputs.version }}
    release_name: Release ${{ steps.version.outputs.version }}
```

### GitLab CI
```yaml
variables:
  VERSION: $(python -c "from superdocs._version import __version__; print(__version__)")

release:
  script:
    - echo "Releasing version $VERSION"
    - twine upload dist/*
  only:
    - tags
```

## üéØ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –ë–ª–∏–∂–∞–π—à–∏–µ —Ä–µ–ª–∏–∑—ã

#### v0.2.0 - –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- `browse_index()` MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
- `explore_hierarchy()` —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

#### v0.3.0 - –ü–æ–∏—Å–∫ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- `search_docs()` –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
- –ú–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### v1.0.0 - –°—Ç–∞–±–∏–ª—å–Ω—ã–π API
- –ó–∞–º–æ—Ä–∞–∂–∏–≤–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ API
- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- Enterprise —Ñ—É–Ω–∫—Ü–∏–∏

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –ø–ª–∞–Ω—ã
- –ü–ª–∞–≥–∏–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (v2.0.0)
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (v2.1.0)
- AI-powered –ø–æ–∏—Å–∫ (v3.0.0)

–ú–æ–¥—É–ª—å `_version.py` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º SuperDocs –∏ —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞. 