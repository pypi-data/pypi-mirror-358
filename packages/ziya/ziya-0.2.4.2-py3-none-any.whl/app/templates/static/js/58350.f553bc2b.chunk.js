"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[58350],{58350:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var c=n(65043),o=n(85672),a=n(4015),l=n(91686),i=n(6051),r=n(42261),s=n(54522),d=n(98139),p=n.n(d),m=n(44320),g=n(35296),f=n(89122),b=n(99598);const h={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},u=c.createContext({});var y=n(62149),x=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(c=Object.getOwnPropertySymbols(e);o<c.length;o++)t.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(e,c[o])&&(n[c[o]]=e[c[o]])}return n};function v(e,t,n){const o=c.useMemo((()=>{return t||(e=n,(0,y.A)(e).map((e=>Object.assign(Object.assign({},null===e||void 0===e?void 0:e.props),{key:e.key}))));var e}),[t,n]);return c.useMemo((()=>o.map((t=>{var{span:n}=t,c=x(t,["span"]);return"filled"===n?Object.assign(Object.assign({},c),{filled:!0}):Object.assign(Object.assign({},c),{span:"number"===typeof n?n:(0,m.ko)(e,n)})}))),[o,e])}var j=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(c=Object.getOwnPropertySymbols(e);o<c.length;o++)t.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(e,c[o])&&(n[c[o]]=e[c[o]])}return n};const O=(e,t)=>{const[n,o]=(0,c.useMemo)((()=>function(e,t){let n=[],c=[],o=!1,a=0;return e.filter((e=>e)).forEach((e=>{const{filled:l}=e,i=j(e,["filled"]);if(l)return c.push(i),n.push(c),c=[],void(a=0);const r=t-a;a+=e.span||1,a>=t?(a>t?(o=!0,c.push(Object.assign(Object.assign({},i),{span:r}))):c.push(i),n.push(c),c=[],a=0):c.push(i)})),c.length>0&&n.push(c),n=n.map((e=>{const n=e.reduce(((e,t)=>e+(t.span||1)),0);return n<t?(e[e.length-1].span=t-n+1,e):e})),[n,o]}(t,e)),[t,e]);return n},S=e=>{let{children:t}=e;return t};function w(e){return void 0!==e&&null!==e}const A=e=>{const{itemPrefixCls:t,component:n,span:o,className:a,style:l,labelStyle:i,contentStyle:r,bordered:s,label:d,content:m,colon:g,type:f}=e,b=n;return s?c.createElement(b,{className:p()({["".concat(t,"-item-label")]:"label"===f,["".concat(t,"-item-content")]:"content"===f},a),style:l,colSpan:o},w(d)&&c.createElement("span",{style:i},d),w(m)&&c.createElement("span",{style:r},m)):c.createElement(b,{className:p()("".concat(t,"-item"),a),style:l,colSpan:o},c.createElement("div",{className:"".concat(t,"-item-container")},(d||0===d)&&c.createElement("span",{className:p()("".concat(t,"-item-label"),{["".concat(t,"-item-no-colon")]:!g}),style:i},d),(m||0===m)&&c.createElement("span",{className:p()("".concat(t,"-item-content")),style:r},m)))};function z(e,t,n){let{colon:o,prefixCls:a,bordered:l}=t,{component:i,type:r,showLabel:s,showContent:d,labelStyle:p,contentStyle:m}=n;return e.map(((e,t)=>{let{label:n,children:g,prefixCls:f=a,className:b,style:h,labelStyle:u,contentStyle:y,span:x=1,key:v}=e;return"string"===typeof i?c.createElement(A,{key:"".concat(r,"-").concat(v||t),className:b,style:h,labelStyle:Object.assign(Object.assign({},p),u),contentStyle:Object.assign(Object.assign({},m),y),span:x,colon:o,component:i,itemPrefixCls:f,bordered:l,label:s?n:null,content:d?g:null,type:r}):[c.createElement(A,{key:"label-".concat(v||t),className:b,style:Object.assign(Object.assign(Object.assign({},p),h),u),span:1,colon:o,component:i[0],itemPrefixCls:f,bordered:l,label:n,type:"label"}),c.createElement(A,{key:"content-".concat(v||t),className:b,style:Object.assign(Object.assign(Object.assign({},m),h),y),span:2*x-1,component:i[1],itemPrefixCls:f,bordered:l,content:g,type:"content"})]}))}const C=e=>{const t=c.useContext(u),{prefixCls:n,vertical:o,row:a,index:l,bordered:i}=e;return o?c.createElement(c.Fragment,null,c.createElement("tr",{key:"label-".concat(l),className:"".concat(n,"-row")},z(a,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),c.createElement("tr",{key:"content-".concat(l),className:"".concat(n,"-row")},z(a,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):c.createElement("tr",{key:l,className:"".concat(n,"-row")},z(a,e,Object.assign({component:i?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))};var E=n(32516),k=n(94414),M=n(78855),P=n(78446);const N=e=>{const{componentCls:t,labelBg:n}=e;return{["&".concat(t,"-bordered")]:{["> ".concat(t,"-view")]:{border:"".concat((0,E.zA)(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit),"> table":{tableLayout:"auto"},["".concat(t,"-row")]:{borderBottom:"".concat((0,E.zA)(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit),"&:last-child":{borderBottom:"none"},["> ".concat(t,"-item-label, > ").concat(t,"-item-content")]:{padding:"".concat((0,E.zA)(e.padding)," ").concat((0,E.zA)(e.paddingLG)),borderInlineEnd:"".concat((0,E.zA)(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit),"&:last-child":{borderInlineEnd:"none"}},["> ".concat(t,"-item-label")]:{color:e.colorTextSecondary,backgroundColor:n,"&::after":{display:"none"}}}},["&".concat(t,"-middle")]:{["".concat(t,"-row")]:{["> ".concat(t,"-item-label, > ").concat(t,"-item-content")]:{padding:"".concat((0,E.zA)(e.paddingSM)," ").concat((0,E.zA)(e.paddingLG))}}},["&".concat(t,"-small")]:{["".concat(t,"-row")]:{["> ".concat(t,"-item-label, > ").concat(t,"-item-content")]:{padding:"".concat((0,E.zA)(e.paddingXS)," ").concat((0,E.zA)(e.padding))}}}}}},B=(0,M.OF)("Descriptions",(e=>(e=>{const{componentCls:t,extraColor:n,itemPaddingBottom:c,itemPaddingEnd:o,colonMarginRight:a,colonMarginLeft:l,titleMarginBottom:i}=e;return{[t]:Object.assign(Object.assign(Object.assign({},(0,k.dF)(e)),N(e)),{"&-rtl":{direction:"rtl"},["".concat(t,"-header")]:{display:"flex",alignItems:"center",marginBottom:i},["".concat(t,"-title")]:Object.assign(Object.assign({},k.L9),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),["".concat(t,"-extra")]:{marginInlineStart:"auto",color:n,fontSize:e.fontSize},["".concat(t,"-view")]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},["".concat(t,"-row")]:{"> th, > td":{paddingBottom:c,paddingInlineEnd:o},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},["".concat(t,"-item-label")]:{color:e.colorTextTertiary,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:"".concat((0,E.zA)(l)," ").concat((0,E.zA)(a))},["&".concat(t,"-item-no-colon::after")]:{content:'""'}},["".concat(t,"-item-no-label")]:{"&::after":{margin:0,content:'""'}},["".concat(t,"-item-content")]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},["".concat(t,"-item")]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",["".concat(t,"-item-label")]:{display:"inline-flex",alignItems:"baseline"},["".concat(t,"-item-content")]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{["".concat(t,"-row")]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{["".concat(t,"-row")]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}})((0,P.oX)(e,{}))),(e=>({labelBg:e.colorFillAlter,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText})));var L=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(c=Object.getOwnPropertySymbols(e);o<c.length;o++)t.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(e,c[o])&&(n[c[o]]=e[c[o]])}return n};const I=e=>{const{prefixCls:t,title:n,extra:o,column:a,colon:l=!0,bordered:i,layout:r,children:s,className:d,rootClassName:y,style:x,size:j,labelStyle:S,contentStyle:w,items:A}=e,z=L(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","items"]),{getPrefixCls:E,direction:k,descriptions:M}=c.useContext(g.QO),P=E("descriptions",t),N=(0,b.A)(),I=c.useMemo((()=>{var e;return"number"===typeof a?a:null!==(e=(0,m.ko)(N,Object.assign(Object.assign({},h),a)))&&void 0!==e?e:3}),[N,a]),T=v(N,A,s),_=(0,f.A)(j),H=O(I,T),[R,F,W]=B(P),X=c.useMemo((()=>({labelStyle:S,contentStyle:w})),[S,w]);return R(c.createElement(u.Provider,{value:X},c.createElement("div",Object.assign({className:p()(P,null===M||void 0===M?void 0:M.className,{["".concat(P,"-").concat(_)]:_&&"default"!==_,["".concat(P,"-bordered")]:!!i,["".concat(P,"-rtl")]:"rtl"===k},d,y,F,W),style:Object.assign(Object.assign({},null===M||void 0===M?void 0:M.style),x)},z),(n||o)&&c.createElement("div",{className:"".concat(P,"-header")},n&&c.createElement("div",{className:"".concat(P,"-title")},n),o&&c.createElement("div",{className:"".concat(P,"-extra")},o)),c.createElement("div",{className:"".concat(P,"-view")},c.createElement("table",null,c.createElement("tbody",null,H.map(((e,t)=>c.createElement(C,{key:t,index:t,colon:l,prefixCls:P,vertical:"vertical"===r,bordered:i,row:e})))))))))};I.Item=S;const T=I;var _=n(76399),H=n(58168);const R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};var F=n(22172),W=function(e,t){return c.createElement(F.A,(0,H.A)({},e,{ref:t,icon:R}))};const X=c.forwardRef(W);var G=n(46237),U=n(89967),V=n(74017),D=n(1259),Q=n(36091),q=n(70579);const J=e=>{let{visible:t,onClose:n}=e;const[d,p]=(0,c.useState)(null),[m,g]=(0,c.useState)(!1);(0,c.useEffect)((()=>{t&&f()}),[t]);const f=async()=>{g(!0);try{const e=await fetch("/api/mcp/status");if(e.ok){const t=await e.json();p(t)}}catch(e){console.error("Failed to fetch MCP status:",e)}finally{g(!1)}};return(0,q.jsx)(o.A,{title:"MCP Server Status",open:t,onCancel:n,footer:[(0,q.jsx)(a.Ay,{icon:(0,q.jsx)(X,{}),onClick:f,children:"Refresh"},"refresh"),(0,q.jsx)(a.Ay,{type:"primary",onClick:async()=>{g(!0);try{(await fetch("/api/mcp/initialize",{method:"POST"})).ok&&await f()}catch(e){console.error("Failed to reinitialize MCP:",e)}finally{g(!1)}},loading:m,children:"Reinitialize"},"reinit"),(0,q.jsx)(a.Ay,{onClick:n,children:"Close"},"close")],width:700,children:m?(0,q.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,q.jsx)(l.A,{size:"large"})}):d?(0,q.jsxs)(i.A,{direction:"vertical",style:{width:"100%"},size:"large",children:[(0,q.jsx)(r.A,{message:"MCP System ".concat(d.initialized?"Initialized":"Not Initialized"),description:(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{children:[d.connected_servers,"/",d.total_servers," servers connected"]}),(0,q.jsx)("div",{style:{fontSize:"12px",marginTop:"4px",opacity:.8},children:(()=>{if(!d)return null;const e=(e,t)=>e.includes("/.ziya/")?"(user's home)":e!==("".concat(process.cwd(),"/mcp_config.json")||0)||e.includes("/.ziya/")?"":e.includes("/mcp_config.json")&&e.split("/").length>2?"(project root)":"(current working directory)";return d.config_path&&d.config_exists?"Using config: ".concat(d.config_path):d.config_search_paths&&d.config_search_paths.length>0?(0,q.jsxs)("div",{children:[(0,q.jsx)("div",{children:"No MCP configuration file found in search path."}),(0,q.jsx)("div",{style:{fontSize:"11px",opacity:.7,marginTop:"2px"},children:"Using built-in server defaults."}),(0,q.jsxs)("div",{style:{fontSize:"11px",opacity:.7,marginTop:"4px",wordBreak:"break-all"},children:["Search path: ",d.config_search_paths.map(((t,n)=>(0,q.jsxs)("div",{style:{marginTop:n>0?"2px":"0"},children:[n>0&&"\u2193 ",(0,q.jsx)("code",{style:{backgroundColor:"rgba(0,0,0,0.1)",padding:"1px 3px",borderRadius:"2px",fontSize:"10px",fontFamily:"monospace"},children:t}),(0,q.jsx)("span",{style:{marginLeft:"4px",fontStyle:"italic"},children:e(t)})]},n)))]})]}):"Using built-in server defaults"})()})]}),type:d.initialized&&d.connected_servers>0?"success":"warning",showIcon:!0}),(0,q.jsx)(s.A,{dataSource:Object.entries(d.servers),renderItem:e=>{let[t,n]=e;return(0,q.jsx)(s.A.Item,{children:(0,q.jsxs)(T,{title:(0,q.jsxs)("span",{children:[t," ",n.builtin&&(0,q.jsx)(_.A,{color:"blue",children:"built-in"})]}),column:1,size:"small",children:[(0,q.jsx)(T.Item,{label:"Status",children:(0,q.jsx)(_.A,{color:n.connected?"green":"red",icon:n.connected?(0,q.jsx)(G.A,{}):(0,q.jsx)(U.A,{}),children:n.connected?"Connected":"Disconnected"})}),(0,q.jsx)(T.Item,{label:"Capabilities",children:(0,q.jsxs)(i.A,{children:[(0,q.jsxs)(_.A,{icon:(0,q.jsx)(V.A,{}),children:[n.tools," tools"]}),(0,q.jsxs)(_.A,{icon:(0,q.jsx)(D.A,{}),children:[n.resources," resources"]}),(0,q.jsxs)(_.A,{icon:(0,q.jsx)(Q.A,{}),children:[n.prompts," prompts"]})]})})]})})}})]}):(0,q.jsx)(r.A,{message:"Failed to load MCP status",type:"error"})})}},46237:(e,t,n)=>{n.d(t,{A:()=>r});var c=n(58168),o=n(65043);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var l=n(22172),i=function(e,t){return o.createElement(l.A,(0,c.A)({},e,{ref:t,icon:a}))};const r=o.forwardRef(i)},89967:(e,t,n)=>{n.d(t,{A:()=>r});var c=n(58168),o=n(65043);const a={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};var l=n(22172),i=function(e,t){return o.createElement(l.A,(0,c.A)({},e,{ref:t,icon:a}))};const r=o.forwardRef(i)},36091:(e,t,n)=>{n.d(t,{A:()=>r});var c=n(58168),o=n(65043);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};var l=n(22172),i=function(e,t){return o.createElement(l.A,(0,c.A)({},e,{ref:t,icon:a}))};const r=o.forwardRef(i)}}]);
//# sourceMappingURL=58350.f553bc2b.chunk.js.map