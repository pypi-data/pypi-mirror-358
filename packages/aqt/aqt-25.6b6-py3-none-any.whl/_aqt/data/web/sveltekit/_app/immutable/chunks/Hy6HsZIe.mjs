import{j as A,K as y,L as n,o as u,M as E,w}from"./DvQPdglG.mjs";import{l as b}from"./DWmaQdPb.mjs";import{a as M}from"./jy7gnWqU.mjs";function q(e,c,a=c){var d=A();b(e,"input",r=>{var v=r?e.defaultValue:e.value;if(v=k(e)?m(v):v,a(v),d&&v!==(v=c())){var f=e.selectionStart,o=e.selectionEnd;e.value=v!=null?v:"",o!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(o,e.value.length))}}),(u&&e.defaultValue!==e.value||y(c)==null&&e.value)&&a(k(e)?m(e.value):e.value),n(()=>{var r=c();k(e)&&r===m(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r!=null?r:"")})}const h=new Set;function B(e,c,a,d,r=d){var t;var v=a.getAttribute("type")==="checkbox",f=e;let o=!1;if(c!==null)for(var _ of c)f=(t=f[_])!=null?t:f[_]=[];f.push(a),b(a,"change",()=>{var l=a.__value;v&&(l=S(f,l,a.checked)),r(l)},()=>r(v?[]:null)),n(()=>{var l=d();if(u&&a.defaultChecked!==a.checked){o=!0;return}v?(l=l||[],a.checked=l.includes(a.__value)):a.checked=M(a.__value,l)}),E(()=>{var l=f.indexOf(a);l!==-1&&f.splice(l,1)}),h.has(f)||(h.add(f),w(()=>{f.sort((l,s)=>l.compareDocumentPosition(s)===4?-1:1),h.delete(f)})),w(()=>{if(o){var l;if(v)l=S(f,l,a.checked);else{var s=f.find(C=>C.checked);l=s==null?void 0:s.__value}r(l)}})}function D(e,c,a=c){b(e,"change",d=>{var r=d?e.defaultChecked:e.checked;a(r)}),(u&&e.defaultChecked!==e.checked||y(c)==null)&&a(e.checked),n(()=>{var d=c();e.checked=!!d})}function S(e,c,a){for(var d=new Set,r=0;r<e.length;r+=1)e[r].checked&&d.add(e[r].__value);return a||d.delete(c),Array.from(d)}function k(e){var c=e.type;return c==="number"||c==="range"}function m(e){return e===""?null:+e}export{D as a,B as b,q as c};
