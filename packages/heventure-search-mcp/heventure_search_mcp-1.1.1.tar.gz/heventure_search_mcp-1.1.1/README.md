# MCP Web Search Server

ä¸€ä¸ªæ— éœ€API keyçš„ç½‘é¡µæœç´¢MCPï¼ˆModel Context Protocolï¼‰æœåŠ¡å™¨ï¼Œæ”¯æŒDuckDuckGoå’Œå¿…åº”æœç´¢å¼•æ“æä¾›ç½‘é¡µæœç´¢åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **å¤šå¼•æ“æœç´¢**: æ”¯æŒDuckDuckGoå’Œå¿…åº”æœç´¢å¼•æ“ï¼Œæ— éœ€API key
- ğŸ“„ **ç½‘é¡µå†…å®¹è·å–**: è·å–æŒ‡å®šç½‘é¡µçš„æ–‡æœ¬å†…å®¹
- ğŸš€ **å¼‚æ­¥å¤„ç†**: åŸºäºasyncioçš„é«˜æ€§èƒ½å¼‚æ­¥å¤„ç†
- ğŸ›¡ï¸ **å®‰å…¨å¯é **: ä¸éœ€è¦ä»»ä½•å¤–éƒ¨APIå¯†é’¥ï¼Œä¿æŠ¤éšç§
- ğŸŒ **å¤šç§æœç´¢æ–¹å¼**: æ”¯æŒAPIå’ŒHTMLä¸¤ç§æœç´¢æ–¹å¼
- âš¡ **çµæ´»é€‰æ‹©**: å¯é€‰æ‹©å•ä¸€æœç´¢å¼•æ“æˆ–ç»„åˆä½¿ç”¨

## å®‰è£…æ–¹å¼

### æ–¹å¼ä¸€ï¼šé€šè¿‡ PyPI å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# ä» PyPI å®‰è£…
pip install heventure-search-mcp

# ç„¶åè¿è¡Œ
heventure-search-mcp
```

### æ–¹å¼äºŒï¼šé€šè¿‡ uvx å®‰è£…

```bash
# ä» PyPI è¿è¡Œ
uvx heventure-search-mcp

# æˆ–è€…ä» GitHub è¿è¡Œ
uvx --from git+https://github.com/HughesCuit/heventure-search-mcp.git server.py
```

### æ–¹å¼ä¸‰ï¼šé€šè¿‡ pip ä»æºç å®‰è£…

```bash
# ç›´æ¥ä» GitHub å®‰è£…
pip install git+https://github.com/HughesCuit/heventure-search-mcp.git

# ç„¶åè¿è¡Œï¼ˆä¸‰ç§æ–¹å¼ä»»é€‰å…¶ä¸€ï¼‰
heventure-search-mcp                    # ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·
python -m server                        # ç›´æ¥è¿è¡Œæ¨¡å—
python -c "import server; import asyncio; asyncio.run(server.main())"  # ç¼–ç¨‹æ–¹å¼
```

### æ–¹å¼å››ï¼šæ‰‹åŠ¨å®‰è£…ä¾èµ–

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/HughesCuit/heventure-search-mcp.git
cd heventure-search-mcp

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

## ä½¿ç”¨æ–¹æ³•

### ç›´æ¥è¿è¡ŒæœåŠ¡å™¨

```bash
python server.py
```

### ä½œä¸ºMCPæœåŠ¡å™¨ä½¿ç”¨

åœ¨ä½ çš„MCPå®¢æˆ·ç«¯é…ç½®ä¸­æ·»åŠ æ­¤æœåŠ¡å™¨ï¼š

```json
{
  "mcpServers": {
    "web-search": {
      "command": "python",
      "args": ["/path/to/server.py"]
    }
  }
}
```

### åœ¨Trae AIä¸­ä½¿ç”¨

åœ¨Trae AIä¸­æ·»åŠ æ­¤MCPæœåŠ¡å™¨ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹é…ç½®ï¼š

```json
{
  "mcpServers": {
    "heventure-search-mcp": {
      "command": "uvx",
      "args": [
        "-y",
        "heventure-search-mcp"
      ]
    }
  }
}
```

æˆ–è€…å¦‚æœä½ å·²ç»æœ¬åœ°å®‰è£…äº†åŒ…ï¼š

```json
{
  "mcpServers": {
    "heventure-search-mcp": {
      "command": "python",
      "args": [
        "-m",
        "heventure_search_mcp"
      ]
    }
  }
}
```

## å¯ç”¨å·¥å…·

### 1. web_search

æœç´¢ç½‘é¡µå†…å®¹ï¼Œæ”¯æŒå¤šç§æœç´¢å¼•æ“

**å‚æ•°:**
- `query` (string, å¿…éœ€): æœç´¢æŸ¥è¯¢è¯
- `max_results` (integer, å¯é€‰): æœ€å¤§ç»“æœæ•°é‡ (é»˜è®¤: 10, èŒƒå›´: 1-20)
- `search_engine` (string, å¯é€‰): æœç´¢å¼•æ“é€‰æ‹© (é»˜è®¤: "both")
  - `"duckduckgo"`: ä»…ä½¿ç”¨DuckDuckGoæœç´¢
  - `"bing"`: ä»…ä½¿ç”¨å¿…åº”æœç´¢
  - `"both"`: åŒæ—¶ä½¿ç”¨ä¸¤ä¸ªæœç´¢å¼•æ“

**ç¤ºä¾‹:**
```json
{
  "query": "Pythonç¼–ç¨‹æ•™ç¨‹",
  "max_results": 5,
  "search_engine": "both"
}
```

**ä½¿ç”¨ä¸åŒæœç´¢å¼•æ“:**
```json
// ä»…ä½¿ç”¨DuckDuckGo
{
  "query": "æœºå™¨å­¦ä¹ ç®—æ³•",
  "search_engine": "duckduckgo"
}

// ä»…ä½¿ç”¨å¿…åº”
{
  "query": "äººå·¥æ™ºèƒ½å‘å±•",
  "search_engine": "bing"
}
```

### 2. get_webpage_content

è·å–æŒ‡å®šç½‘é¡µçš„æ–‡æœ¬å†…å®¹

**å‚æ•°:**
- `url` (string, å¿…éœ€): è¦è·å–å†…å®¹çš„ç½‘é¡µURL

**ç¤ºä¾‹:**
```json
{
  "url": "https://example.com"
}
```

## æŠ€æœ¯å®ç°

### æœç´¢å¼•æ“

æœ¬æœåŠ¡æ”¯æŒå¤šä¸ªæœç´¢å¼•æ“ï¼Œæä¾›æ›´å…¨é¢çš„æœç´¢ç»“æœï¼š

#### DuckDuckGo
1. **æ— éœ€API key**: æä¾›å…è´¹çš„æœç´¢API
2. **éšç§ä¿æŠ¤**: ä¸è·Ÿè¸ªç”¨æˆ·æœç´¢å†å²
3. **å³æ—¶ç­”æ¡ˆ**: æ”¯æŒå³æ—¶ç­”æ¡ˆå’Œç›¸å…³ä¸»é¢˜
4. **å¤šç§æ¥å£**: æ”¯æŒAPIå’ŒHTMLä¸¤ç§è®¿é—®æ–¹å¼

#### å¿…åº”æœç´¢
1. **ä¸°å¯Œç»“æœ**: æä¾›è¯¦ç»†çš„æœç´¢ç»“æœå’Œæ‘˜è¦
2. **é«˜è´¨é‡**: å¾®è½¯æœç´¢å¼•æ“çš„é«˜è´¨é‡ç»“æœ
3. **HTMLè§£æ**: é€šè¿‡HTMLé¡µé¢è§£æè·å–ç»“æœ
4. **è¡¥å……æœç´¢**: ä¸DuckDuckGoå½¢æˆè‰¯å¥½äº’è¡¥

### æœç´¢ç­–ç•¥

1. **DuckDuckGoç­–ç•¥**: ä¼˜å…ˆä½¿ç”¨APIï¼Œä¸è¶³æ—¶ä½¿ç”¨HTMLè§£æ
2. **å¿…åº”ç­–ç•¥**: é€šè¿‡HTMLé¡µé¢è§£æè·å–æœç´¢ç»“æœ
3. **ç»„åˆç­–ç•¥**: å½“é€‰æ‹©"both"æ—¶ï¼Œåˆå¹¶ä¸¤ä¸ªå¼•æ“çš„ç»“æœ
4. **ç»“æœä¼˜åŒ–**: è‡ªåŠ¨å»é‡ã€æ’åºå’Œæ ¼å¼åŒ–ç»“æœ

### å†…å®¹æå–

- ä½¿ç”¨BeautifulSoupè§£æHTMLå†…å®¹
- è‡ªåŠ¨ç§»é™¤è„šæœ¬å’Œæ ·å¼æ ‡ç­¾
- æ¸…ç†å’Œæ ¼å¼åŒ–æ–‡æœ¬å†…å®¹
- é™åˆ¶å†…å®¹é•¿åº¦é¿å…è¿‡é•¿å“åº”

## é¡¹ç›®ç»“æ„

```
mcp_dev/
â”œâ”€â”€ server.py          # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”œâ”€â”€ requirements.txt   # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ README.md         # é¡¹ç›®è¯´æ˜
â””â”€â”€ config.json       # MCPé…ç½®ç¤ºä¾‹
```

## é…ç½®è¯´æ˜

### ç”¨æˆ·ä»£ç†

æœåŠ¡å™¨ä½¿ç”¨æ ‡å‡†çš„æµè§ˆå™¨ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²æ¥é¿å…è¢«ç½‘ç«™é˜»æ­¢ï¼š

```python
'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'
```

### è¶…æ—¶è®¾ç½®

- ç½‘é¡µå†…å®¹è·å–è¶…æ—¶: 10ç§’
- æœç´¢è¯·æ±‚è¶…æ—¶: é»˜è®¤aiohttpè¶…æ—¶

### å†…å®¹é™åˆ¶

- ç½‘é¡µå†…å®¹æœ€å¤§é•¿åº¦: 2000å­—ç¬¦
- æœ€å¤§æœç´¢ç»“æœæ•°: 20ä¸ª

## é”™è¯¯å¤„ç†

æœåŠ¡å™¨åŒ…å«å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼š

- ç½‘ç»œè¯·æ±‚å¤±è´¥è‡ªåŠ¨é‡è¯•
- è§£æé”™è¯¯ä¼˜é›…é™çº§
- è¯¦ç»†çš„é”™è¯¯æ—¥å¿—è®°å½•
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯

## æ³¨æ„äº‹é¡¹

1. **ç½‘ç»œä¾èµ–**: éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥
2. **é€Ÿç‡é™åˆ¶**: è¯·åˆç†ä½¿ç”¨ï¼Œé¿å…è¿‡äºé¢‘ç¹çš„è¯·æ±‚
3. **å†…å®¹å‡†ç¡®æ€§**: æœç´¢ç»“æœæ¥è‡ªç¬¬ä¸‰æ–¹ï¼Œè¯·è‡ªè¡ŒéªŒè¯å†…å®¹å‡†ç¡®æ€§
4. **æ³•å¾‹åˆè§„**: è¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„å’Œç½‘ç«™ä½¿ç”¨æ¡æ¬¾

## å¼€å‘å’Œå‘å¸ƒ

### æœ¬åœ°å¼€å‘

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/HughesCuit/heventure-search-mcp.git
cd heventure-search-mcp

# å®‰è£…å¼€å‘ä¾èµ–
pip install -e .
pip install build twine

# è¿è¡Œæµ‹è¯•
python test_server.py

# è¿è¡ŒåŸºå‡†æµ‹è¯•
python benchmark.py
```

### å‘å¸ƒåˆ°PyPI

é¡¹ç›®åŒ…å«è‡ªåŠ¨åŒ–å‘å¸ƒè„šæœ¬ï¼š

```bash
# å‘å¸ƒåˆ°TestPyPIï¼ˆæµ‹è¯•ï¼‰
python publish.py test

# å‘å¸ƒåˆ°æ­£å¼PyPI
python publish.py prod

# ä»…æ„å»ºåŒ…
python publish.py build

# æ¸…ç†æ„å»ºæ–‡ä»¶
python publish.py clean
```

**å‘å¸ƒå‰å‡†å¤‡ï¼š**

1. é…ç½®PyPI API Tokenï¼š
   ```bash
   # åœ¨ ~/.pypirc ä¸­é…ç½®
   [pypi]
   username = __token__
   password = your-api-token
   
   [testpypi]
   username = __token__
   password = your-test-api-token
   ```

2. æ›´æ–°ç‰ˆæœ¬å·ï¼ˆåœ¨ `pyproject.toml` ä¸­ï¼‰
3. æ›´æ–° `CHANGELOG.md`ï¼ˆå¦‚æœæœ‰ï¼‰
4. ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼