[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.sdist]
include = ["src/**/*.py", "src/latch_curate/construct/vendor/ensembl_map.json"]

[tool.hatch.build.targets.wheel.force-include]
"src/latch_curate/construct/vendor/ensembl_map.json" = "latch_curate/construct/vendor/ensembl_map.json"

# note(kenny): Needed to force reinstall from local directory when the
# pyproject file has not changed. 
# https://docs.astral.sh/uv/concepts/cache/#dynamic-metadata
[tool.uv]
reinstall-package = ["latch_curate"]

[project]
name = "latch-curate"
version = "0.2.4"
description = "Tools for curating single cell data"
readme = "README.md"
requires-python = ">=3.10"
authors = [
  { name = "Kenny Workman", email = "kenny@latch.bio" }
]
dependencies = [
  "scanpy==1.11.1",
  "scikit-image==0.25.2",
  "igraph==0.11.8",
  "harmonypy==0.0.10",
  "geoparse==2.0.4",
  "pysradb==2.2.2",
  "docker==7.1.0",
  "openai==1.81.0",
  "click==8.2.1",
  "latch>=2.63.1",
  "tiktoken>=0.9.0",
]

[project.scripts]
latch-curate = "latch_curate.main:main"

# [tool.setuptools.packages.find]
# where   = ["."]
# include = ["latch_curate*"]
# exclude = ["sandbox*", "workflows*"]
