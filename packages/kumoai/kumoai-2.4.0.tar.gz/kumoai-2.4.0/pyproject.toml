[project]
name="kumoai"
version="2.4.0"
dynamic=["dependencies"]
authors=[
    {name="Kumo.AI", email="hello@kumo.ai"},
]
description="AI on the Modern Data Stack"
readme="README.md"
requires-python=">=3.9"
keywords=[
    "deep-learning",
    "graph-neural-networks",
    "cloud-data-warehouse",
]
classifiers=[
    "Development Status :: 5 - Production/Stable",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python",
    "Programming Language :: Python :: 3.9",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Python :: 3 :: Only",
]

[project.optional-dependencies]
doc=[
    "sphinx==6.0.0",
    "sphinx-book-theme",
    "sphinx-copybutton",
    "sphinx-autodoc-typehints",
    "graphviz",
]
test=[
    "pytest",
    "pytest-mock",
    "requests-mock",
    "pandas==1.5.2",
    "numpy==1.23.5",
    "pyarrow == 8.0.0"
]

[project.urls]
homepage="https://kumo.ai"
documentation="https://kumo.ai/docs"

[tool.pytest.ini_options]
addopts = [
    "--capture=no",
    "--color=yes",
    "-vv",
]

[tool.yapf]
based_on_style="pep8"
split_before_named_assigns=false
blank_line_before_nested_class_or_def=false

[tool.isort]
multi_line_output=3
include_trailing_comma=true
skip=[".gitignore", "__init__.py"]

[tool.mypy]
files=["kumoai"]
install_types=true
non_interactive=true
ignore_missing_imports=true
show_error_codes=true
warn_redundant_casts=true
warn_unused_configs=true
warn_unused_ignores=true
disallow_untyped_defs=true
disallow_incomplete_defs=true

[tool.ruff]  # https://docs.astral.sh/ruff/rules
src=["kumoai"]
line-length=80
indent-width=4
target-version="py38"

[tool.ruff.lint]
select=[
    "D",  # pydocstyle
]
ignore = [
    "D100",  # TODO Don't ignore "Missing docstring in public module"
    "D101",  # TODO Don't ignore "Missing docstring in public class"
    "D102",  # TODO Don't ignore "Missing docstring in public method"
    "D103",  # TODO Don't ignore "Missing docstring in public function"
    "D104",  # TODO Don't ignore "Missing docstring in public package"
    "D105",  # Ignore "Missing docstring in magic method"
    "D107",  # Ignore "Missing docstring in __init__"
    "D205",  # Ignore "blank line required between summary line and description"
    "D415",  # First line should end with a period
]

[tool.ruff.format]
quote-style="single"

[tool.ruff.lint.pydocstyle]
convention="google"

[build-system]
requires = ["hatchling", "setuptools"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.sdist]
exclude = [
  "test/",
  "examples/",
]

[tool.hatch.metadata]
allow-direct-references = true

[tool.hatch.metadata.hooks.custom]
path = "hatch_build.py"
