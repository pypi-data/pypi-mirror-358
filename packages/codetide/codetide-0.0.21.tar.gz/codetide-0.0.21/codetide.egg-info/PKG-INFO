Metadata-Version: 2.4
Name: codetide
Version: 0.0.21
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Operating System :: OS Independent
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: loguru==0.7.3
Requires-Dist: pathspec==0.12.1
Requires-Dist: pydantic==2.10.3
Requires-Dist: pygit2==1.18.0
Requires-Dist: pyyaml==6.0.2
Requires-Dist: tree-sitter==0.24.0
Requires-Dist: tree-sitter-python==0.23.6
Requires-Dist: tree-sitter-typescript==0.23.2
Provides-Extra: visualization
Requires-Dist: plotly==5.24.1; extra == "visualization"
Requires-Dist: networkx==3.4.2; extra == "visualization"
Requires-Dist: numpy==2.2.0; extra == "visualization"
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: license-file
Dynamic: provides-extra
Dynamic: requires-dist

<!-- [![Docs](https://img.shields.io/badge/docs-CodeTide.github.io-red)](https://brunov21.github.io/CodeTide/) -->
# <img src="./docs/assets/codetide-logo.png" alt="code-tide-logo" width="35" height="auto"/> CodeTide
[![GitHub Stars](https://img.shields.io/github/stars/BrunoV21/CodeTide?style=social)](https://github.com/BrunoV21/CodeTide/stargazers)
[![PyPI Downloads](https://static.pepy.tech/badge/CodeTide)](https://pepy.tech/projects/CodeTide)
![PyPI - Python Version](https://img.shields.io/pypi/pyversions/CodeTide?style=flat)
![PyPI - Version](https://img.shields.io/pypi/v/CodeTide?style=flat)
[![Pydantic v2](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/pydantic/pydantic/main/docs/badge/v2.json)](https://pydantic.dev)
--- 

**CodeTide** is a fully local, privacy-preserving tool for parsing and understanding Python codebases using symbolic, structural analysis. No internet, no LLMs, no embeddings - just fast, explainable, and deterministic code intelligence.

---

## âœ… Key Features

- âœ… 100% **local & private** - all parsing and querying happens on your machine.
- ğŸ“¦ Structured parsing of codebases using [Tree-sitter](https://tree-sitter.github.io/tree-sitter/).
- ğŸ§  Retrieval of relevant code snippets by symbolic ID - not vector similarity.
- ğŸ§± Visualize the architecture and hierarchy of your project.
- âš¡ Fast, cacheable parsing with smart update detection.
- ğŸ” Designed to work alongside tools like Copilot, GPT, and Claude - on your terms.

---

## ğŸ”Œ VSCode Extension

CodeTide is available as a native [**Visual Studio Code extension**](https://marketplace.visualstudio.com/items?itemName=BrunoV21.codetide), giving you direct access to structural code understanding inside your editor.

- Navigate code intelligently
- Retrieve context-aware snippets
- Send context directly to LLMs like Copilot or GPT
- Works seamlessly with any other extensions

ğŸ”— **Install it now**: [CodeTide on VSCode Marketplace](https://marketplace.visualstudio.com/items?itemName=BrunoV21.codetide)  
ğŸ”§ **Extension source code**: [CodeTide VSCode Extension on GitHub](https://github.com/BrunoV21/CodeTide-vsExtension/tree/main)

---

## âš™ï¸ Installation

### ğŸ“¦ From PyPI

```bash
pip install codetide --upgrade
````

### ğŸ› ï¸ From Source

```bash
git clone https://github.com/BrunoV21/CodeTide.git
cd CodeTide
pip install -e .
```

---

## ğŸš€ Example: Running CodeTide on Itself

Here's how to parse the CodeTide repository and extract a snippet from the Python parser:

```python
from codetide import CodeTide
from codetide.core.common import writeFile
from dotenv import load_dotenv
import asyncio
import time
import os

async def main():
    st = time.time()
    tide = await CodeTide.from_path(os.getenv("CODETIDE_REPO_PATH"))
    tide.serialize(include_cached_ids=True)
    output = tide.get(["codetide.parsers.python_parser.PythonParser"], degree=1, as_string=True)

    writeFile(output, "./storage/context.txt")
    print(f"took {time.time()-st:.2f}s")

if __name__ == "__main__":
    load_dotenv()
    asyncio.run(main())
```

This example:

* Parses the codebase using Tree-sitter
* Serializes the result for fast reuse
* Retrieves a specific class with full local context

---

Here's how to deserialize a CodeTide repository and reuse it:

```python
from codetide import CodeTide
from codetide.core.common import writeFile
from dotenv import load_dotenv
import asyncio
import time
import os

async def main():
    st = time.time()
    tide = CodeTide.deserialize(rootpath=os.getenv("CODETIDE_REPO_PATH"))
    tide.codebase._build_cached_elements()
    await tide.check_for_updates(include_cached_ids=True)
    output = tide.get(["codetide.parsers.python_parser.PythonParser"], degree=2, as_string=True)

    writeFile(output, "./storage/context.txt")
    print(f"took {time.time()-st:.2f}s")

if __name__ == "__main__":
    load_dotenv()
    asyncio.run(main())
```

This example:

* Deserializes the previously serialized CodeTide
* Checks for updates to the codebase
* Retrieves a specific class with full local context (up to second degree connections)
---

Here's how to levarage CodeTide's tree view functionalites to get a broad picture of your project:

```python
from codetide import CodeTide
from dotenv import load_dotenv
import time
import os

def main():
    st = time.time()
    tide = CodeTide.deserialize(rootpath=os.getenv("CODETIDE_REPO_PATH"))

    modules_tree_view = tide.codebase.get_tree_view(include_modules=True)
    print(modules_tree_view)
    
    print(f"took {time.time()-st:.2f}s")

if __name__ == "__main__":
    load_dotenv()
    asyncio.run(main())
```

<details>
<summary>Output:</summary>

```bash
â”œâ”€â”€ codetide
â”‚   â”œâ”€â”€ core
â”‚   â”‚   â”œâ”€â”€ common.py
â”‚   â”‚   â”‚   â”œâ”€â”€ CONTEXT_INTRUCTION
â”‚   â”‚   â”‚   â”œâ”€â”€ TARGET_INSTRUCTION
â”‚   â”‚   â”‚   â”œâ”€â”€ readFile
â”‚   â”‚   â”‚   â”œâ”€â”€ wrap_content
â”‚   â”‚   â”‚   â”œâ”€â”€ wrap_package_dependencies   
â”‚   â”‚   â”‚   â””â”€â”€ writeFile
â”‚   â”‚   â”œâ”€â”€ defaults.py
â”‚   â”‚   â”‚   â”œâ”€â”€ DEFAULT_BATCH_SIZE
â”‚   â”‚   â”‚   â”œâ”€â”€ DEFAULT_CACHED_ELEMENTS_FILE
â”‚   â”‚   â”‚   â”œâ”€â”€ DEFAULT_CACHED_IDS_FILE     
â”‚   â”‚   â”‚   â”œâ”€â”€ DEFAULT_ENCODING
â”‚   â”‚   â”‚   â”œâ”€â”€ DEFAULT_MAX_CONCURRENT_TASKS
â”‚   â”‚   â”‚   â”œâ”€â”€ DEFAULT_SERIALIZATION_PATH
â”‚   â”‚   â”‚   â”œâ”€â”€ INSTALLATION_DIR
â”‚   â”‚   â”‚   â””â”€â”€ LANGUAGE_EXTENSIONS
â”‚   â”‚   â”œâ”€â”€ html.py
â”‚   â”‚   â”‚   â””â”€â”€ render_html_view
â”‚   â”‚   â”œâ”€â”€ mermaid.py
â”‚   â”‚   â”‚   â”œâ”€â”€ _render_class_contents
â”‚   â”‚   â”‚   â”œâ”€â”€ _render_file_contents
â”‚   â”‚   â”‚   â”œâ”€â”€ _render_mermaid_node
â”‚   â”‚   â”‚   â”œâ”€â”€ _safe_mermaid_id
â”‚   â”‚   â”‚   â”œâ”€â”€ save_mermaid_to_html_file
â”‚   â”‚   â”‚   â””â”€â”€ to_mermaid_boxy_flowchart
â”‚   â”‚   â””â”€â”€ models.py
â”‚   â”‚       â”œâ”€â”€ BaseCodeElement
â”‚   â”‚       â”‚   â”œâ”€â”€ file_path
â”‚   â”‚       â”‚   â”œâ”€â”€ raw
â”‚   â”‚       â”‚   â”œâ”€â”€ stored_unique_id
â”‚   â”‚       â”‚   â”œâ”€â”€ apply_second_line_indent_to_first
â”‚   â”‚       â”‚   â”œâ”€â”€ file_path_without_suffix
â”‚   â”‚       â”‚   â”œâ”€â”€ unique_id
â”‚   â”‚       â”‚   â””â”€â”€ unique_id
â”‚   â”‚       â”œâ”€â”€ ClassAttribute
â”‚   â”‚       â”‚   â”œâ”€â”€ class_id
â”‚   â”‚       â”‚   â””â”€â”€ visibility
â”‚   â”‚       â”œâ”€â”€ ClassDefinition
â”‚   â”‚       â”‚   â”œâ”€â”€ attributes
â”‚   â”‚       â”‚   â”œâ”€â”€ bases
â”‚   â”‚       â”‚   â”œâ”€â”€ bases_references
â”‚   â”‚       â”‚   â”œâ”€â”€ methods
â”‚   â”‚       â”‚   â”œâ”€â”€ name
â”‚   â”‚       â”‚   â”œâ”€â”€ add_attribute
â”‚   â”‚       â”‚   â”œâ”€â”€ add_method
â”‚   â”‚       â”‚   â”œâ”€â”€ all_methods_ids
â”‚   â”‚       â”‚   â””â”€â”€ references
â”‚   â”‚       â”œâ”€â”€ CodeBase
â”‚   â”‚       â”‚   â”œâ”€â”€ _cached_elements
â”‚   â”‚       â”‚   â”œâ”€â”€ root
â”‚   â”‚       â”‚   â”œâ”€â”€ _build_cached_elements
â”‚   â”‚       â”‚   â”œâ”€â”€ _build_tree_dict
â”‚   â”‚       â”‚   â”œâ”€â”€ _list_all_unique_ids_for_property
â”‚   â”‚       â”‚   â”œâ”€â”€ _render_class_contents
â”‚   â”‚       â”‚   â”œâ”€â”€ _render_file_contents
â”‚   â”‚       â”‚   â”œâ”€â”€ _render_tree_node
â”‚   â”‚       â”‚   â”œâ”€â”€ all_classes
â”‚   â”‚       â”‚   â”œâ”€â”€ all_functions
â”‚   â”‚       â”‚   â”œâ”€â”€ all_imports
â”‚   â”‚       â”‚   â”œâ”€â”€ all_variables
â”‚   â”‚       â”‚   â”œâ”€â”€ deserialize_cache_elements
â”‚   â”‚       â”‚   â”œâ”€â”€ get
â”‚   â”‚       â”‚   â”œâ”€â”€ get_import
â”‚   â”‚       â”‚   â”œâ”€â”€ get_tree_view
â”‚   â”‚       â”‚   â”œâ”€â”€ serialize_cache_elements
â”‚   â”‚       â”‚   â””â”€â”€ unique_ids
â”‚   â”‚       â”œâ”€â”€ CodeContextStructure
â”‚   â”‚       â”‚   â”œâ”€â”€ _cached_elements
â”‚   â”‚       â”‚   â”œâ”€â”€ _unique_class_elements_ids
â”‚   â”‚       â”‚   â”œâ”€â”€ class_attributes
â”‚   â”‚       â”‚   â”œâ”€â”€ class_methods
â”‚   â”‚       â”‚   â”œâ”€â”€ classes
â”‚   â”‚       â”‚   â”œâ”€â”€ functions
â”‚   â”‚       â”‚   â”œâ”€â”€ imports
â”‚   â”‚       â”‚   â”œâ”€â”€ preloaded
â”‚   â”‚       â”‚   â”œâ”€â”€ requested_elements
â”‚   â”‚       â”‚   â”œâ”€â”€ variables
â”‚   â”‚       â”‚   â”œâ”€â”€ add_class
â”‚   â”‚       â”‚   â”œâ”€â”€ add_class_attribute
â”‚   â”‚       â”‚   â”œâ”€â”€ add_class_method
â”‚   â”‚       â”‚   â”œâ”€â”€ add_function
â”‚   â”‚       â”‚   â”œâ”€â”€ add_import
â”‚   â”‚       â”‚   â”œâ”€â”€ add_preloaded
â”‚   â”‚       â”‚   â”œâ”€â”€ add_variable
â”‚   â”‚       â”‚   â”œâ”€â”€ as_list_str
â”‚   â”‚       â”‚   â””â”€â”€ from_list_of_elements
â”‚   â”‚       â”œâ”€â”€ CodeFileModel
â”‚   â”‚       â”‚   â”œâ”€â”€ classes
â”‚   â”‚       â”‚   â”œâ”€â”€ file_path
â”‚   â”‚       â”‚   â”œâ”€â”€ functions
â”‚   â”‚       â”‚   â”œâ”€â”€ imports
â”‚   â”‚       â”‚   â”œâ”€â”€ raw
â”‚   â”‚       â”‚   â”œâ”€â”€ variables
â”‚   â”‚       â”‚   â”œâ”€â”€ _list_all
â”‚   â”‚       â”‚   â”œâ”€â”€ add_class
â”‚   â”‚       â”‚   â”œâ”€â”€ add_function
â”‚   â”‚       â”‚   â”œâ”€â”€ add_import
â”‚   â”‚       â”‚   â”œâ”€â”€ add_variable
â”‚   â”‚       â”‚   â”œâ”€â”€ all_classes
â”‚   â”‚       â”‚   â”œâ”€â”€ all_functions
â”‚   â”‚       â”‚   â”œâ”€â”€ all_imports
â”‚   â”‚       â”‚   â”œâ”€â”€ all_variables
â”‚   â”‚       â”‚   â”œâ”€â”€ get
â”‚   â”‚       â”‚   â”œâ”€â”€ get_import
â”‚   â”‚       â”‚   â””â”€â”€ list_raw_contents
â”‚   â”‚       â”œâ”€â”€ CodeReference
â”‚   â”‚       â”‚   â”œâ”€â”€ name
â”‚   â”‚       â”‚   â””â”€â”€ unique_id
â”‚   â”‚       â”œâ”€â”€ FunctionDefinition
â”‚   â”‚       â”‚   â”œâ”€â”€ decorators
â”‚   â”‚       â”‚   â”œâ”€â”€ modifiers
â”‚   â”‚       â”‚   â”œâ”€â”€ name
â”‚   â”‚       â”‚   â”œâ”€â”€ references
â”‚   â”‚       â”‚   â””â”€â”€ signature
â”‚   â”‚       â”œâ”€â”€ FunctionSignature
â”‚   â”‚       â”‚   â”œâ”€â”€ parameters
â”‚   â”‚       â”‚   â””â”€â”€ return_type
â”‚   â”‚       â”œâ”€â”€ ImportStatement
â”‚   â”‚       â”‚   â”œâ”€â”€ alias
â”‚   â”‚       â”‚   â”œâ”€â”€ definition_id
â”‚   â”‚       â”‚   â”œâ”€â”€ import_type
â”‚   â”‚       â”‚   â”œâ”€â”€ name
â”‚   â”‚       â”‚   â”œâ”€â”€ raw
â”‚   â”‚       â”‚   â”œâ”€â”€ source
â”‚   â”‚       â”‚   â””â”€â”€ as_dependency
â”‚   â”‚       â”œâ”€â”€ MethodDefinition
â”‚   â”‚       â”‚   â””â”€â”€ class_id
â”‚   â”‚       â”œâ”€â”€ Parameter
â”‚   â”‚       â”‚   â”œâ”€â”€ default_value
â”‚   â”‚       â”‚   â”œâ”€â”€ name
â”‚   â”‚       â”‚   â”œâ”€â”€ type_hint
â”‚   â”‚       â”‚   â””â”€â”€ is_optional
â”‚   â”‚       â”œâ”€â”€ PartialClasses
â”‚   â”‚       â”‚   â”œâ”€â”€ attributes
â”‚   â”‚       â”‚   â”œâ”€â”€ class_header
â”‚   â”‚       â”‚   â”œâ”€â”€ class_id
â”‚   â”‚       â”‚   â”œâ”€â”€ filepath
â”‚   â”‚       â”‚   â”œâ”€â”€ methods
â”‚   â”‚       â”‚   â””â”€â”€ raw
â”‚   â”‚       â””â”€â”€ VariableDeclaration
â”‚   â”‚           â”œâ”€â”€ modifiers
â”‚   â”‚           â”œâ”€â”€ name
â”‚   â”‚           â”œâ”€â”€ raw
â”‚   â”‚           â”œâ”€â”€ references
â”‚   â”‚           â”œâ”€â”€ type_hint
â”‚   â”‚           â””â”€â”€ value
â”‚   â”œâ”€â”€ parsers
â”‚   â”‚   â”œâ”€â”€ base_parser.py
â”‚   â”‚   â”‚   â””â”€â”€ BaseParser
â”‚   â”‚   â”‚       â”œâ”€â”€ extension
â”‚   â”‚   â”‚       â”œâ”€â”€ import_statement_template
â”‚   â”‚   â”‚       â”œâ”€â”€ language
â”‚   â”‚   â”‚       â”œâ”€â”€ parse_file
â”‚   â”‚   â”‚       â”œâ”€â”€ resolve_inter_files_dependencies
â”‚   â”‚   â”‚       â”œâ”€â”€ resolve_intra_file_dependencies
â”‚   â”‚   â”‚       â””â”€â”€ tree_parser
â”‚   â”‚   â”œâ”€â”€ generic_parser.py
â”‚   â”‚   â”‚   â””â”€â”€ GenericParser
â”‚   â”‚   â”‚       â”œâ”€â”€ _filepath
â”‚   â”‚   â”‚       â”œâ”€â”€ extension
â”‚   â”‚   â”‚       â”œâ”€â”€ import_statement_template
â”‚   â”‚   â”‚       â”œâ”€â”€ language
â”‚   â”‚   â”‚       â”œâ”€â”€ parse_code
â”‚   â”‚   â”‚       â”œâ”€â”€ parse_file
â”‚   â”‚   â”‚       â”œâ”€â”€ resolve_inter_files_dependencies
â”‚   â”‚   â”‚       â”œâ”€â”€ resolve_intra_file_dependencies
â”‚   â”‚   â”‚       â””â”€â”€ tree_parser
â”‚   â”‚   â””â”€â”€ python_parser.py
â”‚   â”‚       â””â”€â”€ PythonParser
â”‚   â”‚           â”œâ”€â”€ _filepath
â”‚   â”‚           â”œâ”€â”€ _tree_parser
â”‚   â”‚           â”œâ”€â”€ _default_unique_import_id
â”‚   â”‚           â”œâ”€â”€ _find_elements_references
â”‚   â”‚           â”œâ”€â”€ _find_references
â”‚   â”‚           â”œâ”€â”€ _generate_unique_import_id
â”‚   â”‚           â”œâ”€â”€ _get_content
â”‚   â”‚           â”œâ”€â”€ _get_element_count
â”‚   â”‚           â”œâ”€â”€ _process_aliased_import
â”‚   â”‚           â”œâ”€â”€ _process_assignment
â”‚   â”‚           â”œâ”€â”€ _process_block
â”‚   â”‚           â”œâ”€â”€ _process_class_node
â”‚   â”‚           â”œâ”€â”€ _process_decorated_definition
â”‚   â”‚           â”œâ”€â”€ _process_expression_statement
â”‚   â”‚           â”œâ”€â”€ _process_function_definition
â”‚   â”‚           â”œâ”€â”€ _process_import_node
â”‚   â”‚           â”œâ”€â”€ _process_node
â”‚   â”‚           â”œâ”€â”€ _process_parameters
â”‚   â”‚           â”œâ”€â”€ _process_type_parameter
â”‚   â”‚           â”œâ”€â”€ _skip_init_paths
â”‚   â”‚           â”œâ”€â”€ count_occurences_in_code
â”‚   â”‚           â”œâ”€â”€ extension
â”‚   â”‚           â”œâ”€â”€ filepath
â”‚   â”‚           â”œâ”€â”€ filepath
â”‚   â”‚           â”œâ”€â”€ import_statement_template
â”‚   â”‚           â”œâ”€â”€ init_tree_parser
â”‚   â”‚           â”œâ”€â”€ language
â”‚   â”‚           â”œâ”€â”€ parse_code
â”‚   â”‚           â”œâ”€â”€ parse_file
â”‚   â”‚           â”œâ”€â”€ resolve_inter_files_dependencies
â”‚   â”‚           â”œâ”€â”€ resolve_intra_file_dependencies
â”‚   â”‚           â”œâ”€â”€ tree_parser
â”‚   â”‚           â””â”€â”€ tree_parser
â”‚   â””â”€â”€ autocomplete.py
â”‚       â””â”€â”€ AutoComplete
â”‚           â”œâ”€â”€ __init__
â”‚           â”œâ”€â”€ get_fuzzy_suggestions
â”‚           â””â”€â”€ get_suggestions
â”œâ”€â”€ examples
â”‚   â”œâ”€â”€ parse_codetide.py
â”‚   â”‚   â””â”€â”€ main
â”‚   â””â”€â”€ parse_project.py
â”‚       â””â”€â”€ main
â””â”€â”€ setup.py
    â”œâ”€â”€ here
    â”œâ”€â”€ long_description
    â”œâ”€â”€ requirements
    â””â”€â”€ requirements_visualization
```
</details>

## ğŸ§  Philosophy

CodeTide is about giving developers structure-aware tools that are **fast, predictable, and private**. Your code is parsed, navigated, and queried as a symbolic graph - not treated as a black box of tokens. Whether youâ€™re building, refactoring, or feeding context into an LLM - **you stay in control**.

> Like a tide, your codebase evolves - and CodeTide helps you move with it, intelligently.

## âŒ What CodeTide *Does Not* Use

To be clear, CodeTide **does not rely on**:

* âŒ Large Language Models (LLMs)
* âŒ Embedding models or token similarity
* âŒ Vector databases or search indexes
* âŒ External APIs or cloud services

Instead, it uses:

* âœ… [Tree-sitter](https://tree-sitter.github.io/tree-sitter/) for lightweight, fast, and accurate parsing
* âœ… Deterministic logic and symbolic references to navigate your codebase

---

## ğŸ—ºï¸ Roadmap

Hereâ€™s whatâ€™s next for CodeTide:

- ğŸ§© **Support more languages** already integrated with [Tree-sitter](https://tree-sitter.github.io/tree-sitter/)  
  â†’ **TypeScript** is the top priority. **Now available in Beta**
  
~~- ğŸ§­ **Handle relative imports** in Python projects  
  â†’ Improve resolution for intra-package navigation.~~
- ğŸ¤– **Long-term vision**: Release a native **CodeTide Agent**  
  â†’ Seamless, intelligent context resolution directly integrated into the CodeTide core.  
  â†’ Unlock **clinical issue detection**, **guided refactors**, and **agent-level navigation**.

---

## ğŸ“„ License

CodeTide is licensed under the **Apache 2.0 License**.

---

## ğŸ§‘â€ğŸ’» Contributing
Interested in contributing to CodeTide? We welcome contributions of all kinds - especially new language parsers!

If you'd like to add support for a new language (e.g., Rust, Java, Go), see our [CONTRIBUTING.md](./CONTRIBUTING.md) guide. You'll implement your parser by extending our BaseParser interface and providing robust test coverage. Reference implementations are available for Python and TypeScript in the tests/parsers directory.
