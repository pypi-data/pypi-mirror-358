/*! For license information please see 764.b43e8ded39ba35187eda.js.LICENSE.txt */
"use strict";(self.webpackChunk_jupyterlite_terminal=self.webpackChunk_jupyterlite_terminal||[]).push([[764],{585:(t,e,n)=>{n.d(e,{Ju:()=>c});var s,i,r=n(9399),o=n(3291);!function(t){t[t.TOP=0]="TOP",t[t.MIDDLE=1]="MIDDLE",t[t.BOTTOM=2]="BOTTOM"}(s||(s={})),function(t){t[t.LEFT=0]="LEFT",t[t.INNER=1]="INNER",t[t.RIGHT=2]="RIGHT"}(i||(i={}));class a{options;constructor(t){this.options=t}addHeaderRow(t){this._headerRows.push(t),this._updateColumnWidths(t)}addRow(t){this._rows.push(t),this._updateColumnWidths(t)}static defaultColorByColumn(){return new Map([[1,r.Q.styleBrightBlue],[2,r.Q.styleBrightPurple],[3,r.Q.styleGreen],[4,r.Q.styleYellow]])}*lines(){const{sortByColumn:t}=this.options;if(void 0!==t){const e=(n,s,i)=>{const r=t[n];return s[r]<i[r]?-1:s[r]>i[r]?1:t.length>n+1?e(n+1,s,i):0};this._rows.sort(((t,n)=>e(0,t,n)))}const e=this._columnWidths.length,n=this.horizontalSpacer(s.TOP);void 0!==n&&(yield(0,o.BO)(n));for(const t of this._headerRows){let n="";for(let s=0;s<e;s++){n+=this.verticalSpacer(0===s?i.LEFT:i.INNER);const e=t[s]??"";n+=e+" ".repeat(this._columnWidths[s]-e.length)}n+=this.verticalSpacer(i.RIGHT),yield(0,o.BO)(n)}if(this._headerRows.length>0){const t=this.horizontalSpacer(s.MIDDLE);void 0!==t&&(yield(0,o.BO)(t))}for(const t of this._rows){let n="";for(let s=0;s<e;s++){n+=this.verticalSpacer(0===s?i.LEFT:i.INNER);const e=t[s]??"";if(e){const t=this.options.colorByColumn?.get(s);n+=void 0!==t?t+e+r.Q.styleReset:e}n+=" ".repeat(this._columnWidths[s]-e.length)}n+=this.verticalSpacer(i.RIGHT),yield(0,o.BO)(n)}const a=this.horizontalSpacer(s.BOTTOM);void 0!==a&&(yield(0,o.BO)(a))}write(t,e="",n="\n"){for(const s of this.lines())t.write(e+s+n)}_updateColumnWidths(t){const e=t.map((t=>t.length)),n=Math.min(this._columnWidths.length,e.length);for(let t=0;t<n;t++)this._columnWidths[t]=Math.max(this._columnWidths[t],e[t]);e.length>n&&this._columnWidths.push(...e.slice(n))}_columnWidths=[];_headerRows=[];_rows=[]}class c extends a{constructor(t={}){super(t)}horizontalSpacer(t){const e=(t=>{switch(t){case s.TOP:return"╭┬╮";case s.MIDDLE:return"├┼┤";case s.BOTTOM:return"╰┴╯"}})(t);return e[0]+this._columnWidths.map((t=>"─".repeat(t+2))).join(e[1])+e[2]}verticalSpacer(t){return t===i.LEFT?"│ ":t===i.RIGHT?" │":" │ "}}},3291:(t,e,n)=>{function s(t,e){return`${t=t.replace(/\/+$/,"")}/${e=e.replace(/^\/+/,"")}`}function i(t,e=0){if(t.length<1)return"";const n=Math.min(...t.map((t=>t.length))),s=t[0];let i=e;for(;i<n&&t.every((t=>t[i]===s[i]));)i++;return s.slice(0,i)}function r(t){return t.replace(/\s+$/,"")}function o(t,e){if(t.length<1)return[];if(e<1)return[t.join("  ")];const n=t.length,s=Math.max(...t.map((t=>t.length))),i=Math.min(Math.floor(e/(s+2)),n),r=Math.ceil(n/i),o=[];for(let e=0;e<r;++e){let a="";for(let o=0;o<i;++o){const i=o*r+e;if(i>=n)continue;const c=t[i];a+=c,i+r<n&&(a+=" ".repeat(s+2-c.length))}o.push(a)}return o}n.d(e,{BO:()=>r,Il:()=>i,oq:()=>s,tp:()=>o})},4133:(t,e,n)=>{var s,i,r,o;n.d(e,{Gc:()=>a,OJ:()=>i,Uq:()=>r,tc:()=>s}),function(t){t[t.ISTRIP=32]="ISTRIP",t[t.INLCR=64]="INLCR",t[t.IGNCR=128]="IGNCR",t[t.ICRNL=256]="ICRNL",t[t.IUCLC=512]="IUCLC",t[t.IXON=1024]="IXON",t[t.IXANY=2048]="IXANY",t[t.IMAXBEL=8192]="IMAXBEL",t[t.IUTF8=16384]="IUTF8"}(s||(s={})),function(t){t[t.OPOST=1]="OPOST",t[t.OLCUC=2]="OLCUC",t[t.ONLCR=4]="ONLCR",t[t.OCRNL=8]="OCRNL",t[t.ONOCR=16]="ONOCR",t[t.ONLRET=32]="ONLRET",t[t.TABDLY=6144]="TABDLY"}(i||(i={})),function(t){t[t.ISIG=1]="ISIG",t[t.ICANON=2]="ICANON",t[t.ECHO=8]="ECHO",t[t.ECHOE=16]="ECHOE",t[t.ECHOK=32]="ECHOK",t[t.ECHONL=64]="ECHONL",t[t.NOFLSH=128]="NOFLSH",t[t.ECHOCTL=512]="ECHOCTL",t[t.ECHOPRT=1024]="ECHOPRT",t[t.ECHOKE=2048]="ECHOKE",t[t.IEXTEN=32768]="IEXTEN"}(r||(r={})),function(t){t[t.VINTR=0]="VINTR",t[t.VQUIT=1]="VQUIT",t[t.VERASE=2]="VERASE",t[t.VKILL=3]="VKILL",t[t.VEOF=4]="VEOF",t[t.VTIME=5]="VTIME",t[t.VMIN=6]="VMIN",t[t.VSWTCH=7]="VSWTCH",t[t.VSTART=8]="VSTART",t[t.VSTOP=9]="VSTOP",t[t.VSUSP=10]="VSUSP",t[t.VEOL=11]="VEOL",t[t.VREPRINT=12]="VREPRINT",t[t.VDISCARD=13]="VDISCARD",t[t.VWERASE=14]="VWERASE",t[t.VLNEXT=15]="VLNEXT",t[t.VEOL2=16]="VEOL2"}(o||(o={}));class a{constructor(){this.setDefaultShell()}clone(){return{c_iflag:this.c_iflag,c_oflag:this.c_oflag,c_cflag:this.c_cflag,c_lflag:this.c_lflag,c_cc:[...this.c_cc]}}log(t){const e=(t,e,n)=>{const s=[];for(const[e,i]of Object.entries(t).filter((([t,e])=>t[0].match(/\D/))))(n&i)>0&&s.push(e);return`  ${e} = ${n} 0x${n.toString(16)} = ${s.join(" ")}`},n=["Cockle "+t+":"];n.push(e(s,"c_iflag",this.c_iflag)),n.push(e(i,"c_oflag",this.c_oflag)),n.push(`  c_cflag = ${this.c_cflag} 0x${this.c_cflag.toString(16)}`),n.push(e(r,"c_lflag",this.c_lflag)),n.push(`  c_cc = ${this.c_cc}`),console.log(n.join("\n"))}set(t){this.c_iflag=t.c_iflag,this.c_oflag=t.c_oflag,this.c_cflag=t.c_cflag,this.c_lflag=t.c_lflag,this.c_cc=[...t.c_cc],this.log("Termios set")}setDefaultShell(){this.setDefaultWasm(),this.c_oflag|=i.ONOCR}setDefaultWasm(){this.c_iflag=s.IUTF8|s.IMAXBEL|s.IXON|s.ICRNL,this.c_oflag=i.OPOST|i.ONLCR,this.c_cflag=191,this.c_lflag=r.IEXTEN|r.ECHOKE|r.ECHOCTL|r.ECHOK|r.ECHOE|r.ECHO|r.ICANON|r.ISIG,this.c_cc=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}setRawMode(){this.c_iflag&=~(s.ISTRIP|s.INLCR|s.IGNCR|s.ICRNL|s.IXON),this.c_oflag&=~i.OPOST,this.c_lflag&=~(r.ECHO|r.ECHONL|r.ICANON|r.ISIG|r.IEXTEN)}c_iflag=0;c_oflag=0;c_cflag=0;c_lflag=0;c_cc=[]}},9056:(t,e,n)=>{const s=Symbol("Comlink.proxy"),i=Symbol("Comlink.endpoint"),r=Symbol("Comlink.releaseProxy"),o=Symbol("Comlink.finalizer"),a=Symbol("Comlink.thrown"),c=t=>"object"==typeof t&&null!==t||"function"==typeof t,l={canHandle:t=>c(t)&&t[s],serialize(t){const{port1:e,port2:n}=new MessageChannel;return h(t,e),[n,[n]]},deserialize:t=>(t.start(),function(t){const e=new Map;return t.addEventListener("message",(function(t){const{data:n}=t;if(!n||!n.id)return;const s=e.get(n.id);if(s)try{s(n)}finally{e.delete(n.id)}})),C(t,e,[],void 0)}(t))},u=new Map([["proxy",l],["throw",{canHandle:t=>c(t)&&a in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function h(t,e=globalThis,n=["*"]){e.addEventListener("message",(function i(r){if(!r||!r.data)return;if(!function(t,e){for(const n of t){if(e===n||"*"===n)return!0;if(n instanceof RegExp&&n.test(e))return!0}return!1}(n,r.origin))return void console.warn(`Invalid origin '${r.origin}' for comlink proxy`);const{id:c,type:l,path:u}=Object.assign({path:[]},r.data),g=(r.data.argumentList||[]).map(_);let E;try{const e=u.slice(0,-1).reduce(((t,e)=>t[e]),t),n=u.reduce(((t,e)=>t[e]),t);switch(l){case"GET":E=n;break;case"SET":e[u.slice(-1)[0]]=_(r.data.value),E=!0;break;case"APPLY":E=n.apply(e,g);break;case"CONSTRUCT":E=function(t){return Object.assign(t,{[s]:!0})}(new n(...g));break;case"ENDPOINT":{const{port1:e,port2:n}=new MessageChannel;h(t,n),E=function(t,e){return T.set(t,e),t}(e,[e])}break;case"RELEASE":E=void 0;break;default:return}}catch(t){E={value:t,[a]:0}}Promise.resolve(E).catch((t=>({value:t,[a]:0}))).then((n=>{const[s,r]=d(n);e.postMessage(Object.assign(Object.assign({},s),{id:c}),r),"RELEASE"===l&&(e.removeEventListener("message",i),f(e),o in t&&"function"==typeof t[o]&&t[o]())})).catch((t=>{const[n,s]=d({value:new TypeError("Unserializable return value"),[a]:0});e.postMessage(Object.assign(Object.assign({},n),{id:c}),s)}))})),e.start&&e.start()}function f(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function g(t){if(t)throw new Error("Proxy has been released and is not useable")}function E(t){return m(t,new Map,{type:"RELEASE"}).then((()=>{f(t)}))}const p=new WeakMap,O="FinalizationRegistry"in globalThis&&new FinalizationRegistry((t=>{const e=(p.get(t)||0)-1;p.set(t,e),0===e&&E(t)}));function C(t,e,n=[],s=function(){}){let o=!1;const a=new Proxy(s,{get(s,i){if(g(o),i===r)return()=>{!function(t){O&&O.unregister(t)}(a),E(t),e.clear(),o=!0};if("then"===i){if(0===n.length)return{then:()=>a};const s=m(t,e,{type:"GET",path:n.map((t=>t.toString()))}).then(_);return s.then.bind(s)}return C(t,e,[...n,i])},set(s,i,r){g(o);const[a,c]=d(r);return m(t,e,{type:"SET",path:[...n,i].map((t=>t.toString())),value:a},c).then(_)},apply(s,r,a){g(o);const c=n[n.length-1];if(c===i)return m(t,e,{type:"ENDPOINT"}).then(_);if("bind"===c)return C(t,e,n.slice(0,-1));const[l,u]=I(a);return m(t,e,{type:"APPLY",path:n.map((t=>t.toString())),argumentList:l},u).then(_)},construct(s,i){g(o);const[r,a]=I(i);return m(t,e,{type:"CONSTRUCT",path:n.map((t=>t.toString())),argumentList:r},a).then(_)}});return function(t,e){const n=(p.get(e)||0)+1;p.set(e,n),O&&O.register(t,e,t)}(a,t),a}function I(t){const e=t.map(d);return[e.map((t=>t[0])),(n=e.map((t=>t[1])),Array.prototype.concat.apply([],n))];var n}const T=new WeakMap;function d(t){for(const[e,n]of u)if(n.canHandle(t)){const[s,i]=n.serialize(t);return[{type:"HANDLER",name:e,value:s},i]}return[{type:"RAW",value:t},T.get(t)||[]]}function _(t){switch(t.type){case"HANDLER":return u.get(t.name).deserialize(t.value);case"RAW":return t.value}}function m(t,e,n,s){return new Promise((i=>{const r=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.set(r,i),t.start&&t.start(),t.postMessage(Object.assign({id:r},n),s)}))}var N=n(3226);class R extends N.g{initDriveFS(t){}}h(new R)}}]);