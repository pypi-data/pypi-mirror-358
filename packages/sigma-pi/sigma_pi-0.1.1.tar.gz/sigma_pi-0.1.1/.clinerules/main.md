# SigmaPI 开发计划

## 1. 核心目标

我们的核心目标是重构 `PI-Calculator`，创建一个名为 `SigmaPI` 的、简洁高效的 Python 脚本，用于计算模型的预测完整性（PI），并为后续的“模型动物园”和 TensorBoard 集成打下坚实的基础。

## 2. 项目结构

所有代码将集中在根目录的 `main.py` 文件中，以保持项目的轻量级和易用性。测试脚本和模型案例将存放在 `tests/` 目录下。

```plain
SigmaPI/
├── main.py         # 核心计算逻辑和 PIMonitor 类
├── tests/          # 测试脚本和模型动物园
└── README.md       # 项目说明
```

## 3. 工程准则

- **环境管理**: 开发和测试应在包含 `torch` 和 `matplotlib` 的虚拟环境中进行。
- **代码风格**: 代码必须简洁、自解释，移除所有不必要的注释。
- **API 设计**: `main.py` 应提供一个易于使用的 `PIMonitor` 类，并可选择性地暴露底层的纯计算函数。
- **测试驱动**: 任何对 `main.py` 的核心逻辑修改，都必须通过 `tests/` 目录下的脚本进行验证。

## 4. 后续开发路线图 (参考 Issue)

1. **TensorBoard 集成**:
    - 在 `PIMonitor` 中添加一个选项，使其能够将计算出的所有指标（PI, Surprise, Tau 等）自动写入 TensorBoard 日志，方便在训练过程中进行实时可视化。
2. **模型动物园扩展**:
    - 在 `tests/` 目录下增加更多的模型架构（如 Transformer, ResNet）和任务（如 NLP, CV），以验证 `SigmaPI` 在不同场景下的有效性和泛化能力。
3. **参数搜索研究**:
    - 设计实验来探索 `alpha` 和 `gamma` 这两个核心超参数对 PI 分数的影响，并研究启发式的参数搜索方案。
4. **ΦID/PI 混合算法探索**:
    - 在未来，研究将 `SigmaPI` 的功能性指标与 `OmegaID` 的经验性指标相结合的可能性，以开发更强大的整合信息度量方法。

## 5. 工作流

- **核心循环**: `分析需求 -> 编辑 main.py -> 运行 tests/ 脚本验证 -> 提交`。
- **状态追踪**: 每完成一个重要功能（如 TensorBoard 集成），就在 `.clinerules/process.md` 中更新待办事项清单和关键发现。
