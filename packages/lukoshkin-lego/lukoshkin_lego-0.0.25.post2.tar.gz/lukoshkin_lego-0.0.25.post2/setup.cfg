[flake8]
# Base flake8 configuration:
# https://flake8.pycqa.org/en/latest/user/configuration.html
format = wemake
show-source = true
statistics = false
doctests = true

# darglint configuration:
# https://github.com/terrencepreilly/darglint
strictness = long
docstring-style = numpy

# Plugins:
accept-encodings = utf-8
inline_quotes = "
max-complexity = 6
max-line-length = 110
## We adhere 80-char line length, however, we leave a bit more for comments.

# wemake-python-styleguide settings:
i-control-code = false
ignore = C812 C815 C816 C901 D100 D105 D106 D107 D401 DAR101 DAR103 DAR201
  DAR203 DAR301 DAR401 E203 E266 E501 E800 P103 RST201 RST301 RST303 RST304
  W503 W504 WPS100 WPS110 WPS111 WPS115 WPS202 WPS210 WPS211 WPS212 WPS213
  WPS214 WPS217 WPS219 WPS201 WPS221 WPS226 WPS229 WPS231 WPS232 WPS237 WPS238
  WPS303 WPS305 WPS306 WPS326 WPS332 WPS337 WPS348 WPS352 WPS358 WPS361 WPS407
  WPS410 WPS421 WPS426 WPS430 WPS431 WPS432 WPS435 WPS458 WPS505 WPS613 X100

# I001 I005 - so-called "isort" inside flake8, which doesn't even respect the
# configuration of the real isort.

# Excluding some directories:
exclude =
  ## Use leading underscore in the file name to mark it as a draft
  _*.py

  __init__.py
  .git
  __pycache__
  .venv
  .eggs
  *.egg
  venv
  *.md
  scripts/*.py

per-file-ignores =
  ## Allow for tests:
  ## - `assert` keyword,
  ## - magic numbers,
  ## - and use generators from `random` lib.
  tests/*.py: S101 S311 WPS226 WPS432
  test_*.py: S101 S311 WPS226 WPS432
  ## Allow naming of exceptions not ending with Error
  exceptions.py: N818
  ## Allow use of the breakline char for long prompts
  *prompt.py: N400
  *prompts/*.py: N400
  ## Allow block variables to appear after the end of the block
  ## Ignore missing docstrings in magic methods
  lego/utils/profiling.py: WPS441


[isort]
## Seems like setting it here works
line_length = 79
multi_line_output = 3
include_trailing_comma = true
indent = 4


[mypy]
allow_redefinition = true
check_untyped_defs = true
disallow_untyped_calls = true
disallow_untyped_decorators = false
follow_imports = skip
ignore_errors = false
ignore_missing_imports = true
local_partial_types = true
no_implicit_optional = true
show_error_codes = true
strict_equality = true
strict_optional = true
warn_no_return = true
warn_redundant_casts = true
warn_unreachable = true
warn_unused_configs = true

# TODO: switch to true
disallow_any_explicit = false
disallow_any_generics = false
warn_unused_ignores = false
