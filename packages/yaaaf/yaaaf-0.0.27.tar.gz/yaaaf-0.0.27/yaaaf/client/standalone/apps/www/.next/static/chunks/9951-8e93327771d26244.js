"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9951,8414,5225,9104],{98414:(e,t,s)=>{s.r(t),s.d(t,{useAutoScroll:()=>l});var r=s(2265);function l(e){let t=(0,r.useRef)(null),s=(0,r.useRef)(null),[l,n]=(0,r.useState)(!0),a=()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)};return(0,r.useEffect)(()=>{t.current&&(s.current=t.current.scrollTop)},[]),(0,r.useEffect)(()=>{l&&a()},e),{containerRef:t,scrollToBottom:a,handleScroll:()=>{if(t.current){let{scrollTop:e,scrollHeight:r,clientHeight:l}=t.current,a=!!s.current&&e<s.current,i=s.current?s.current-e:0;a&&i>10?n(!1):n(50>Math.abs(r-e-l)),s.current=e}},shouldAutoScroll:l,handleTouchStart:()=>{n(!1)}}}},45225:(e,t,s)=>{s.r(t),s.d(t,{useAutosizeTextArea:()=>l});var r=s(2265);function l(e){let{ref:t,maxHeight:s=Number.MAX_SAFE_INTEGER,borderWidth:l=0,dependencies:n}=e,a=(0,r.useRef)(null);(0,r.useLayoutEffect)(()=>{if(!t.current)return;let e=t.current,r=2*l;null===a.current&&(a.current=e.scrollHeight-r),e.style.removeProperty("height");let n=Math.max(Math.min(e.scrollHeight,s),a.current);e.style.height="".concat(n+r,"px")},[s,t,...n])}},79951:(e,t,s)=>{s.r(t),s.d(t,{Chat:()=>f,ChatContainer:()=>x,ChatForm:()=>h,ChatMessages:()=>p});var r=s(57437),l=s(2265),n=s(16343),a=s(37440),i=s(98414),o=s(82321),c=s(49232),u=s(34929),d=s(84343),m=s(89104);function f(e){let{messages:t,handleSubmit:s,input:n,handleInputChange:a,stop:i,isGenerating:o,append:f,suggestions:g,className:v,onRateResponse:b,setMessages:j,onArtifactClick:N}=e,y=t.at(-1),w=0===t.length,C=(null==y?void 0:y.role)==="user",k=t.findLast(e=>"assistant"===e.role),S=null==k?void 0:k.id,I=(0,l.useRef)(t);I.current=t;let z=(0,l.useCallback)(()=>{if(null==i||i(),!j)return;let e=[...I.current],t=e.findLast(e=>"assistant"===e.role);if(!t)return;let s=!1,r={...t};if(t.toolInvocations){let e=t.toolInvocations.map(e=>"call"===e.state?(s=!0,{...e,state:"result",result:{content:"Tool execution was cancelled",__cancelled:!0}}):e);s&&(r={...r,toolInvocations:e})}if(t.parts&&t.parts.length>0){let e=t.parts.map(e=>"tool-invocation"===e.type&&e.toolInvocation&&"call"===e.toolInvocation.state?(s=!0,{...e,toolInvocation:{...e.toolInvocation,state:"result",result:{content:"Tool execution was cancelled",__cancelled:!0}}}):e);s&&(r={...r,parts:e})}if(s){let s=e.findIndex(e=>e.id===t.id);-1!==s&&(e[s]=r,j(e))}},[i,j,I]),T=(0,l.useCallback)(e=>({actions:(0,r.jsx)(c.CopyButton,{content:e.content,copyMessage:"Copied response to clipboard!"})}),[]);return(0,r.jsxs)(x,{className:v,children:[t.length>0?(0,r.jsx)(p,{messages:t,children:(0,r.jsx)(d.MessageList,{messages:t,isTyping:C,messageOptions:T,onArtifactClick:N})}):null,(0,r.jsx)(h,{className:"mt-auto",isPending:o||C,handleSubmit:s,children:(0,r.jsx)(u.MessageInput,{value:n,onChange:a,stop:z,isGenerating:o,onRateResponse:b,lastMessageId:S})}),w&&f&&g?(0,r.jsx)(m.PromptSuggestions,{label:"Example queries ...",append:f,suggestions:g}):null]})}function p(e){let{messages:t,children:s}=e,{containerRef:l,scrollToBottom:a,handleScroll:c,shouldAutoScroll:u,handleTouchStart:d}=(0,i.useAutoScroll)([t]);return(0,r.jsxs)("div",{className:"grid grid-cols-1 overflow-y-auto pb-4",ref:l,onScroll:c,onTouchStart:d,children:[(0,r.jsx)("div",{className:"max-w-full [grid-column:1/1] [grid-row:1/1]",children:s}),!u&&(0,r.jsx)("div",{className:"pointer-events-none flex flex-1 items-end justify-end [grid-column:1/1] [grid-row:1/1]",children:(0,r.jsx)("div",{className:"sticky bottom-0 left-0 flex w-full justify-end",children:(0,r.jsx)(o.z,{onClick:a,className:"pointer-events-auto h-8 w-8 rounded-full ease-in-out animate-in fade-in-0 slide-in-from-bottom-1",size:"icon",variant:"ghost",children:(0,r.jsx)(n.Z,{className:"h-4 w-4"})})})})]})}f.displayName="Chat";let x=(0,l.forwardRef)((e,t)=>{let{className:s,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("grid max-h-full w-full grid-rows-[1fr_auto]",s),...l})});x.displayName="ChatContainer";let h=(0,l.forwardRef)((e,t)=>{let{children:s,handleSubmit:l,isPending:n,className:a}=e;return(0,r.jsx)("form",{ref:t,onSubmit:l,className:a,children:s})});h.displayName="ChatForm"},56089:(e,t,s)=>{s.r(t),s.d(t,{InterruptPrompt:()=>i});var r=s(57437),l=s(45811),n=s(71636),a=s(55188);function i(e){let{isOpen:t,close:s}=e;return(0,r.jsx)(l.M,{children:t&&(0,r.jsxs)(n.E.div,{initial:{top:0,filter:"blur(5px)"},animate:{top:-40,filter:"blur(0px)",transition:{type:"spring",filter:{type:"tween"}}},exit:{top:0,filter:"blur(5px)"},className:"absolute left-1/2 flex -translate-x-1/2 overflow-hidden whitespace-nowrap rounded-full border bg-background py-1 text-center text-sm text-muted-foreground",children:[(0,r.jsx)("span",{className:"ml-2.5",children:"Press Enter again to interrupt"}),(0,r.jsx)("button",{className:"ml-1 mr-2.5 flex items-center",type:"button",onClick:s,"aria-label":"Close",children:(0,r.jsx)(a.Z,{className:"h-3 w-3"})})]})})}},34929:(e,t,s)=>{s.r(t),s.d(t,{MessageInput:()=>f});var r=s(57437),l=s(2265),n=s(28556),a=s(36871),i=s(8423),o=s(44639),c=s(37440),u=s(45225),d=s(82321),m=s(56089);function f(e){let{placeholder:t="Ask AI...",className:s,onKeyDown:f,submitOnEnter:p=!0,stop:x,isGenerating:h,enableInterrupt:g=!0,onRateResponse:v,lastMessageId:b,...j}=e,[N,y]=(0,l.useState)(!1);(0,l.useEffect)(()=>{h||y(!1)},[h]);let w=(0,l.useRef)(null),[C,k]=(0,l.useState)(0);return(0,l.useEffect)(()=>{w.current&&k(w.current.offsetHeight)},[j.value]),(0,u.useAutosizeTextArea)({ref:w,maxHeight:240,borderWidth:1,dependencies:[j.value]}),(0,r.jsxs)("div",{className:"relative flex w-full",children:[g&&(0,r.jsx)(m.InterruptPrompt,{isOpen:N,close:()=>y(!1)}),(0,r.jsxs)("div",{className:"relative flex w-full items-center space-x-2",children:[v&&b&&(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsx)(d.z,{type:"button",size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-green-600","aria-label":"Rate response positively",onClick:()=>v(b,"thumbs-up"),children:(0,r.jsx)(n.Z,{className:"h-4 w-4"})}),(0,r.jsx)(d.z,{type:"button",size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-red-600","aria-label":"Rate response negatively",onClick:()=>v(b,"thumbs-down"),children:(0,r.jsx)(a.Z,{className:"h-4 w-4"})})]}),(0,r.jsx)("div",{className:"relative flex-1",children:(0,r.jsx)("textarea",{"aria-label":"Write your prompt here",placeholder:t,ref:w,onKeyDown:e=>{if(p&&"Enter"===e.key&&!e.shiftKey){var t,s;if(e.preventDefault(),h&&x&&g){if(N)x(),y(!1),null===(s=e.currentTarget.form)||void 0===s||s.requestSubmit();else if(j.value){y(!0);return}}null===(t=e.currentTarget.form)||void 0===t||t.requestSubmit()}null==f||f(e)},className:(0,c.cn)("z-10 w-full grow resize-none rounded-xl border border-input bg-background p-3 pr-24 text-sm ring-offset-background transition-[border] placeholder:text-muted-foreground focus-visible:border-primary focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",s),...j})})]}),(0,r.jsx)("div",{className:"absolute right-3 top-3 z-20 flex gap-2",children:h&&x?(0,r.jsx)(d.z,{type:"button",size:"icon",className:"h-8 w-8","aria-label":"Stop generating",onClick:x,children:(0,r.jsx)(i.Z,{className:"h-3 w-3 animate-pulse",fill:"currentColor"})}):(0,r.jsx)(d.z,{type:"submit",size:"icon",className:"h-8 w-8 transition-opacity","aria-label":"Send message",disabled:""===j.value||h,children:(0,r.jsx)(o.Z,{className:"h-5 w-5"})})})]})}f.displayName="MessageInput"},84343:(e,t,s)=>{s.r(t),s.d(t,{MessageList:()=>a});var r=s(57437),l=s(48250),n=s(43303);function a(e){let{messages:t,showTimeStamps:s=!0,isTyping:a=!1,messageOptions:i,onArtifactClick:o}=e;return(0,r.jsxs)("div",{className:"space-y-4 overflow-visible",children:[t.map((e,t)=>{let n="function"==typeof i?i(e):i;return(0,r.jsx)(l.ChatMessage,{showTimeStamp:s,...e,...n,onArtifactClick:o},t)}),a&&(0,r.jsx)(n.TypingIndicator,{})]})}},89104:(e,t,s)=>{s.r(t),s.d(t,{PromptSuggestions:()=>l});var r=s(57437);function l(e){let{label:t,append:s,suggestions:l}=e;return(0,r.jsxs)("div",{className:"space-y-6 pt-20",children:[(0,r.jsx)("h2",{className:"text-center text-2xl font-bold",children:t}),(0,r.jsx)("div",{className:"flex gap-6 text-sm",children:l.map(e=>(0,r.jsx)("button",{onClick:()=>s({role:"user",content:e}),className:"h-max flex-1 rounded-xl border bg-background p-4 hover:bg-muted",children:(0,r.jsx)("p",{children:e})},e))})]})}},43303:(e,t,s)=>{s.r(t),s.d(t,{TypingIndicator:()=>n});var r=s(57437),l=s(47774);function n(){return(0,r.jsx)("div",{className:"justify-left flex space-x-1",children:(0,r.jsx)("div",{className:"rounded-lg bg-muted p-3",children:(0,r.jsxs)("div",{className:"flex -space-x-2.5",children:[(0,r.jsx)(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce"}),(0,r.jsx)(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce [animation-delay:90ms]"}),(0,r.jsx)(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce [animation-delay:180ms]"})]})})})}}}]);