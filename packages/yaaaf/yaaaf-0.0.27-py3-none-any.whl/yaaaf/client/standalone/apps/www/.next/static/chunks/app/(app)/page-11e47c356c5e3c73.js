(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7198],{13207:(e,a,t)=>{Promise.resolve().then(t.bind(t,61276))},61276:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>_});var s=t(57437),r=t(2265),l=t(76817),n=t(37440),i=t(1149),o=t(82321),c=t(26098),d=t(20933);let f=c.fC,u=c.xz,m=c.h_;c.x8;let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(c.aV,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});h.displayName=c.aV.displayName;let g=r.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(m,{children:[(0,s.jsx)(h,{}),(0,s.jsxs)(c.VY,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[r,(0,s.jsxs)(c.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(d.Pxu,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});g.displayName=c.VY.displayName;let x=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};x.displayName="DialogHeader";let p=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(c.Dx,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});function b(e){let{title:a="About",message:t,variant:r="ghost",size:l="icon",className:c}=e;return(0,s.jsxs)(f,{children:[(0,s.jsx)(u,{asChild:!0,children:(0,s.jsx)(o.z,{variant:r,size:l,className:(0,n.cn)("h-8 w-8 rounded-full transition-colors duration-200 hover:bg-accent hover:text-accent-foreground",c),"aria-label":"Show information",children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})})}),(0,s.jsxs)(g,{className:"sm:max-w-md",children:[(0,s.jsx)(x,{children:(0,s.jsxs)(p,{className:"flex items-center gap-2",children:[(0,s.jsx)(i.Z,{className:"h-5 w-5 text-blue-500"}),a]})}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("div",{className:"whitespace-pre-wrap text-sm leading-relaxed text-muted-foreground",children:t})})]})]})}p.displayName=c.Dx.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(c.dk,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})}).displayName=c.dk.displayName;var v=t(55188),N=t(70482);t(74590);var j=(0,t(58064).$)("0aeb6d65912eb7884fa9dbba1b577158e0b0d792");function w(e){let{artifactId:a,onClose:t}=e,[l,n]=(0,r.useState)(null),[i,c]=(0,r.useState)(!0),[d,f]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=async()=>{try{c(!0),f(null),console.log("Fetching artifact with ID:",a);let e=await j(a);if(console.log("Raw artifact response:",e),e&&(void 0!==e.data||void 0!==e.code||void 0!==e.image))console.log("Setting artifact data to:",e),n(e);else throw console.error("Invalid artifact data structure:",e),Error("Invalid artifact data structure received from server")}catch(e){f(e instanceof Error?e.message:"Failed to load artifact"),console.error("Error fetching artifact:",e)}finally{c(!1)}};a&&e()},[a]),(0,s.jsxs)("div",{className:"h-full flex flex-col bg-background border-l border-border",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold",children:["Artifact: ",a]}),(0,s.jsx)(o.z,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",children:(0,s.jsx)(v.Z,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-auto p-4",children:[i&&(0,s.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,s.jsx)("div",{className:"text-muted-foreground",children:"Loading artifact..."})}),d&&(0,s.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,s.jsx)("div",{className:"text-red-500",children:d})}),!i&&!d&&l&&(l?(console.log("Artifact data:",l),(0,s.jsx)(N.ArtefactPage,{data:l.data,code:l.code,image:l.image})):(console.log("No artifact data available"),null)),!i&&!d&&!l&&(0,s.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,s.jsx)("div",{className:"text-muted-foreground",children:"No artifact data found"})})]})]})}w.displayName="ArtefactPanel";var y=t(79951),k=t(47611);let A=null;async function S(e,a){try{console.log("Sending feedback for stream ".concat(e,": ").concat(a));let t=await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stream_id:e,rating:a})});if(t.ok){let e=await t.json();console.log("Feedback saved successfully:",e)}else console.error("Failed to save feedback:",t.statusText)}catch(e){console.error("Error sending feedback:",e)}}function _(){let[e,a]=(0,r.useState)(null),t=(A||(A=Math.random().toString(36).substring(2,15)),A),{messages:i,input:o,handleInputChange:c,handleSubmit:d,append:f,stop:u,isLoading:m,setMessages:h}=(0,l.RJ)({api:"/api/chat",body:{session_id:t}}),g=async(e,a)=>{console.log("Rating message ".concat(e," with ").concat(a)),await S(t,a)};return(0,s.jsx)("div",{className:"h-[90vh] w-full bg-background",children:(0,s.jsxs)("div",{className:"flex h-full",children:[(0,s.jsx)("div",{className:(0,n.cn)("flex h-full flex-col border-r transition-all duration-300",e?"w-1/2 border-border":"w-full border-transparent"),children:(0,s.jsxs)("div",{className:"mx-auto flex h-full w-full max-w-4xl flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-border/50 p-4",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("h1",{className:"text-lg font-semibold text-foreground",children:"YAAAF Chat"})}),(0,s.jsx)(b,{title:k.fH,message:k.Hk,className:"text-muted-foreground hover:text-foreground"})]}),(0,s.jsx)(y.Chat,{className:"grow",messages:i,handleSubmit:d,input:o,handleInputChange:c,isGenerating:m,stop:u,append:f,setMessages:h,suggestions:k.SZ.split(","),onArtifactClick:a,onRateResponse:g})]})}),e&&(0,s.jsx)("div",{className:"h-full w-1/2",children:(0,s.jsx)(w,{artifactId:e,onClose:()=>a(null)})})]})})}},89779:(e,a,t)=>{"use strict";t.d(a,{J:()=>s});let s={name:"YAAAF",url:"https://github.com/fractalego/yaaaf",ogImage:"",description:"YAAAF - Yet Another Agents Framework. A simple and extensible framework for building chatbots with LLMs.",links:{github:"https://github.com/fractalego/yaaaf",docs:"https://yaaaf.readthedocs.io/en/latest/"}}},49604:(e,a,t)=>{"use strict";t.d(a,{BM:()=>l,Rs:()=>n});var s=t(2265);let r=/https?:\/\/[^\s<>"]+/gi;function l(e){return e.replace(r,e=>'<a href="'.concat(e,'" target="_blank" rel="noopener noreferrer" class="text-primary underline underline-offset-2 hover:text-primary/80">').concat(e,"</a>"))}function n(e){var a,t;if("string"!=typeof e||!r.test(e))return e;let l=e.split(r),n=e.match(r)||[],i=[];for(let e=0;e<l.length;e++)l[e]&&i.push(l[e]),n[e]&&i.push((a=n[e],t="url-link-".concat(e),s.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:t||"text-primary underline underline-offset-2 hover:text-primary/80"},a)));return 1===i.length?i[0]:i}},37440:(e,a,t)=>{"use strict";t.d(a,{cn:()=>l});var s=t(21738),r=t(93507);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.m)((0,s.W)(a))}t(89779)},70482:(e,a,t)=>{"use strict";t.d(a,{ArtefactPage:()=>l});var s=t(57437);t(2265);var r=t(49604);function l(e){let a=e.data;a=(a=(a=(a=a.replaceAll('class="dataframe"',"")).replaceAll("text-align: right;","text-align: left;")).replaceAll("<table",'<table class="text-left text-sm font-light text-surface dark:text-white"')).replaceAll("<tr",'<tr class="border-b border-neutral-200 dark:border-white/10"'),a=(0,r.BM)(a);let t="";if(e.image){let s="data:image/png;charset=utf-8;base64,"+e.image;t='\n    <div class="flex">\n         <div class="m-5 align-baseline"><img alt="Image" src='.concat(s,' /></div>\n         <div class="m-5 align-baseline"><pre>').concat(e.code,'</pre></div>\n     </div>\n     <div class="columns-[70vw]">\n        <div class="m-5 align-baseline">').concat(a,"</div>\n     </div>\n    ")}else t='\n     <div class="flex">\n        <div class="m-5 align-baseline"><pre>'.concat(e.code,'</pre></div>\n     </div>\n     <div class="columns-[70vw]">\n        <div class="m-5 align-baseline">').concat(a,"</div>\n     </div>\n    ");return(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:t}})}l.displayName="ArtefactPage"}},e=>{var a=a=>e(e.s=a);e.O(0,[8218,5458,6496,6129,2731,9681,1634,5940,5502,102,55,8250,9951,2971,7023,1744],()=>a(13207)),_N_E=e.O()}]);