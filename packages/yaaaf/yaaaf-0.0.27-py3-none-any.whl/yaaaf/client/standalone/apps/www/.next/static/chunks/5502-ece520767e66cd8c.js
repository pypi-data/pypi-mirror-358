(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5502,6719,86],{76817:(e,t,r)=>{"use strict";let a;r.d(t,{RJ:()=>e6});var n,o,s,l,i=r(2265),u="vercel.ai.error",c=Symbol.for(u),d=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,u)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};n=c;var p=d;function f(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}Symbol.for("vercel.ai.error.AI_APICallError"),Symbol.for("vercel.ai.error.AI_EmptyResponseBodyError");var h="AI_InvalidArgumentError",g=`vercel.ai.error.${h}`,y=Symbol.for(g),m=class extends p{constructor({message:e,cause:t,argument:r}){super({name:h,message:e,cause:t}),this[o]=!0,this.argument=r}static isInstance(e){return p.hasMarker(e,g)}};o=y,Symbol.for("vercel.ai.error.AI_InvalidPromptError"),Symbol.for("vercel.ai.error.AI_InvalidResponseDataError");var E="AI_JSONParseError",v=`vercel.ai.error.${E}`,_=Symbol.for(v),b=class extends p{constructor({text:e,cause:t}){super({name:E,message:`JSON parsing failed: Text: ${e}.
Error message: ${f(t)}`,cause:t}),this[s]=!0,this.text=e}static isInstance(e){return p.hasMarker(e,v)}};s=_,Symbol.for("vercel.ai.error.AI_LoadAPIKeyError"),Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError"),Symbol.for("vercel.ai.error.AI_NoSuchModelError"),Symbol.for("vercel.ai.error.AI_TooManyEmbeddingValuesForCallError");var I="AI_TypeValidationError",w=`vercel.ai.error.${I}`,T=Symbol.for(w),k=class e extends p{constructor({value:e,cause:t}){super({name:I,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${f(t)}`,cause:t}),this[l]=!0,this.value=e}static isInstance(e){return p.hasMarker(e,w)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};function S(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(S):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&S(t)))}l=T,Symbol.for("vercel.ai.error.AI_UnsupportedFunctionalityError");let A=(e,t=21)=>(r=t)=>{let a="",n=0|r;for(;n--;)a+=e[Math.random()*e.length|0];return a};var R=r(53935),x=r.n(R);r(20357);var C=(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:a="-"}={})=>{let n=A(r,t);if(null==e)return n;if(r.includes(a))throw new m({argument:"separator",message:`The separator "${a}" must not be part of the alphabet "${r}".`});return t=>`${e}${a}${n(t)}`})(),N=Symbol.for("vercel.ai.validator");function O({text:e,schema:t}){try{let r=x().parse(e);if(null==t)return{success:!0,value:r,rawValue:r};let a=function({value:e,schema:t}){let r="object"==typeof t&&null!==t&&N in t&&!0===t[N]&&"validate"in t?t:{[N]:!0,validate:e=>{let r=t.safeParse(e);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}};try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:k.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:k.wrap({value:e,cause:t})}}}({value:r,schema:t});return a.success?{...a,rawValue:r}:a}catch(t){return{success:!1,error:b.isInstance(t)?t:new b({text:e,cause:t})}}}var{btoa:D,atob:j}=globalThis;Symbol("Let zodToJsonSchema decide on which parser to use");var L={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},F={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},M={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},P={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},V={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}};L.code,F.code,M.code,P.code,V.code,L.name,L.code,F.name,F.code,M.name,M.code,P.name,P.code,V.name,V.code,[L,F,M,P,V].map(e=>e.code);var B=[{code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},{code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},{code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},{code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},{code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},{code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},{code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},{code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},{code:"d",name:"finish_message",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},{code:"e",name:"finish_step",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&"boolean"==typeof e.isContinued&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},{code:"f",name:"start_step",parse:e=>{if(null==e||"object"!=typeof e||!("messageId"in e)||"string"!=typeof e.messageId)throw Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},{code:"g",name:"reasoning",parse:e=>{if("string"!=typeof e)throw Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},{code:"h",name:"source",parse:e=>{if(null==e||"object"!=typeof e)throw Error('"source" parts expect a Source object.');return{type:"source",value:e}}},{code:"i",name:"redacted_reasoning",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data)throw Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:e.data}}}},{code:"j",name:"reasoning_signature",parse:e=>{if(null==e||"object"!=typeof e||!("signature"in e)||"string"!=typeof e.signature)throw Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:e.signature}}}},{code:"k",name:"file",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data||!("mimeType"in e)||"string"!=typeof e.mimeType)throw Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:e}}}],J=Object.fromEntries(B.map(e=>[e.code,e]));Object.fromEntries(B.map(e=>[e.name,e.code]));var U=B.map(e=>e.code),Z=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let r=e.slice(0,t);if(!U.includes(r))throw Error(`Failed to parse stream string. Invalid code ${r}.`);let a=JSON.parse(e.slice(t+1));return J[r].parse(a)};async function Y({stream:e,onTextPart:t,onReasoningPart:r,onReasoningSignaturePart:a,onRedactedReasoningPart:n,onSourcePart:o,onFilePart:s,onDataPart:l,onErrorPart:i,onToolCallStreamingStartPart:u,onToolCallDeltaPart:c,onToolCallPart:d,onToolResultPart:p,onMessageAnnotationsPart:f,onFinishMessagePart:h,onFinishStepPart:g,onStartStepPart:y}){let m=e.getReader(),E=new TextDecoder,v=[],_=0;for(;;){let{value:e}=await m.read();if(e&&(v.push(e),_+=e.length,10!==e[e.length-1]))continue;if(0===v.length)break;let b=function(e,t){let r=new Uint8Array(t),a=0;for(let t of e)r.set(t,a),a+=t.length;return e.length=0,r}(v,_);for(let{type:e,value:m}of(_=0,E.decode(b,{stream:!0}).split("\n").filter(e=>""!==e).map(Z)))switch(e){case"text":await (null==t?void 0:t(m));break;case"reasoning":await (null==r?void 0:r(m));break;case"reasoning_signature":await (null==a?void 0:a(m));break;case"redacted_reasoning":await (null==n?void 0:n(m));break;case"file":await (null==s?void 0:s(m));break;case"source":await (null==o?void 0:o(m));break;case"data":await (null==l?void 0:l(m));break;case"error":await (null==i?void 0:i(m));break;case"message_annotations":await (null==f?void 0:f(m));break;case"tool_call_streaming_start":await (null==u?void 0:u(m));break;case"tool_call_delta":await (null==c?void 0:c(m));break;case"tool_call":await (null==d?void 0:d(m));break;case"tool_result":await (null==p?void 0:p(m));break;case"finish_message":await (null==h?void 0:h(m));break;case"finish_step":await (null==g?void 0:g(m));break;case"start_step":await (null==y?void 0:y(m));break;default:throw Error(`Unknown stream part type: ${e}`)}}}async function $({stream:e,update:t,onToolCall:r,onFinish:a,generateId:n=C,getCurrentDate:o=()=>new Date,lastMessage:s}){var l,i;let u,c,d;let p=(null==s?void 0:s.role)==="assistant",f=p?1+(null!=(i=null==(l=s.toolInvocations)?void 0:l.reduce((e,t)=>{var r;return Math.max(e,null!=(r=t.step)?r:0)},0))?i:0):0,h=p?structuredClone(s):{id:n(),createdAt:o(),role:"assistant",content:"",parts:[]};function g(e,t){let r=h.parts.find(t=>"tool-invocation"===t.type&&t.toolInvocation.toolCallId===e);null!=r?r.toolInvocation=t:h.parts.push({type:"tool-invocation",toolInvocation:t})}let y=[],m=p?null==s?void 0:s.annotations:void 0,E={},v={completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},_="unknown";function b(){let e=[...y];(null==m?void 0:m.length)&&(h.annotations=m),t({message:{...structuredClone(h),revisionId:n()},data:e,replaceLastMessage:p})}await Y({stream:e,onTextPart(e){null==u?(u={type:"text",text:e},h.parts.push(u)):u.text+=e,h.content+=e,b()},onReasoningPart(e){var t;null==d?(d={type:"text",text:e},null!=c&&c.details.push(d)):d.text+=e,null==c?(c={type:"reasoning",reasoning:e,details:[d]},h.parts.push(c)):c.reasoning+=e,h.reasoning=(null!=(t=h.reasoning)?t:"")+e,b()},onReasoningSignaturePart(e){null!=d&&(d.signature=e.signature)},onRedactedReasoningPart(e){null==c&&(c={type:"reasoning",reasoning:"",details:[]},h.parts.push(c)),c.details.push({type:"redacted",data:e.data}),d=void 0,b()},onFilePart(e){h.parts.push({type:"file",mimeType:e.mimeType,data:e.data}),b()},onSourcePart(e){h.parts.push({type:"source",source:e}),b()},onToolCallStreamingStartPart(e){null==h.toolInvocations&&(h.toolInvocations=[]),E[e.toolCallId]={text:"",step:f,toolName:e.toolName,index:h.toolInvocations.length};let t={state:"partial-call",step:f,toolCallId:e.toolCallId,toolName:e.toolName,args:void 0};h.toolInvocations.push(t),g(e.toolCallId,t),b()},onToolCallDeltaPart(e){let t=E[e.toolCallId];t.text+=e.argsTextDelta;let{value:r}=function(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=O({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=O({text:function(e){let t=["ROOT"],r=-1,a=null;function n(e,n,o){switch(e){case'"':r=n,t.pop(),t.push(o),t.push("INSIDE_STRING");break;case"f":case"t":case"n":r=n,a=n,t.pop(),t.push(o),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(o),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=n,t.pop(),t.push(o),t.push("INSIDE_NUMBER");break;case"{":r=n,t.pop(),t.push(o),t.push("INSIDE_OBJECT_START");break;case"[":r=n,t.pop(),t.push(o),t.push("INSIDE_ARRAY_START")}}function o(e,a){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":r=a,t.pop()}}function s(e,a){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=a,t.pop()}}for(let l=0;l<e.length;l++){let i=e[l];switch(t[t.length-1]){case"ROOT":n(i,l,"FINISH");break;case"INSIDE_OBJECT_START":switch(i){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":r=l,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===i&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===i&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===i&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":n(i,l,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":o(i,l);break;case"INSIDE_STRING":switch(i){case'"':t.pop(),r=l;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:r=l}break;case"INSIDE_ARRAY_START":"]"===i?(r=l,t.pop()):(r=l,n(i,l,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(i){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=l,t.pop();break;default:r=l}break;case"INSIDE_ARRAY_AFTER_COMMA":n(i,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),r=l;break;case"INSIDE_NUMBER":switch(i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=l;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&s(i,l),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&o(i,l);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&o(i,l);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&s(i,l);break;default:t.pop()}break;case"INSIDE_LITERAL":{let n=e.substring(a,l+1);"false".startsWith(n)||"true".startsWith(n)||"null".startsWith(n)?r=l:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?o(i,l):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&s(i,l))}}}let l=e.slice(0,r+1);for(let r=t.length-1;r>=0;r--)switch(t[r]){case"INSIDE_STRING":l+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":l+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":l+="]";break;case"INSIDE_LITERAL":{let t=e.substring(a,e.length);"true".startsWith(t)?l+="true".slice(t.length):"false".startsWith(t)?l+="false".slice(t.length):"null".startsWith(t)&&(l+="null".slice(t.length))}}return l}(e)})).success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"}}(t.text),a={state:"partial-call",step:t.step,toolCallId:e.toolCallId,toolName:t.toolName,args:r};h.toolInvocations[t.index]=a,g(e.toolCallId,a),b()},async onToolCallPart(e){let t={state:"call",step:f,...e};if(null!=E[e.toolCallId]?h.toolInvocations[E[e.toolCallId].index]=t:(null==h.toolInvocations&&(h.toolInvocations=[]),h.toolInvocations.push(t)),g(e.toolCallId,t),b(),r){let t=await r({toolCall:e});if(null!=t){let r={state:"result",step:f,...e,result:t};h.toolInvocations[h.toolInvocations.length-1]=r,g(e.toolCallId,r),b()}}},onToolResultPart(e){let t=h.toolInvocations;if(null==t)throw Error("tool_result must be preceded by a tool_call");let r=t.findIndex(t=>t.toolCallId===e.toolCallId);if(-1===r)throw Error("tool_result must be preceded by a tool_call with the same toolCallId");let a={...t[r],state:"result",...e};t[r]=a,g(e.toolCallId,a),b()},onDataPart(e){y.push(...e),b()},onMessageAnnotationsPart(e){null==m?m=[...e]:m.push(...e),b()},onFinishStepPart(e){f+=1,u=e.isContinued?u:void 0,c=void 0,d=void 0},onStartStepPart(e){p||(h.id=e.messageId),h.parts.push({type:"step-start"}),b()},onFinishMessagePart(e){_=e.finishReason,null!=e.usage&&(v=function({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}(e.usage))},onErrorPart(e){throw Error(e)}}),null==a||a({message:h,finishReason:_,usage:v})}async function q({stream:e,onTextPart:t}){let r=e.pipeThrough(new TextDecoderStream).getReader();for(;;){let{done:e,value:a}=await r.read();if(e)break;await t(a)}}async function W({stream:e,update:t,onFinish:r,getCurrentDate:a=()=>new Date,generateId:n=C}){let o={type:"text",text:""},s={id:n(),createdAt:a(),role:"assistant",content:"",parts:[o]};await q({stream:e,onTextPart:e=>{s.content+=e,o.text+=e,t({message:{...s},data:[],replaceLastMessage:!1})}}),null==r||r(s,{usage:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},finishReason:"unknown"})}var z=()=>fetch;async function K({api:e,body:t,streamProtocol:r="data",credentials:a,headers:n,abortController:o,restoreMessagesOnFailure:s,onResponse:l,onUpdate:i,onFinish:u,onToolCall:c,generateId:d,fetch:p=z(),lastMessage:f,requestType:h="generate"}){var g,y,m;let E="resume"===h?p(`${e}?chatId=${t.id}`,{method:"GET",headers:{"Content-Type":"application/json",...n},signal:null==(g=null==o?void 0:o())?void 0:g.signal,credentials:a}):p(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",...n},signal:null==(y=null==o?void 0:o())?void 0:y.signal,credentials:a}),v=await E.catch(e=>{throw s(),e});if(l)try{await l(v)}catch(e){throw e}if(!v.ok)throw s(),Error(null!=(m=await v.text())?m:"Failed to fetch the chat response.");if(!v.body)throw Error("The response body is empty.");switch(r){case"text":await W({stream:v.body,update:i,onFinish:u,generateId:d});return;case"data":await $({stream:v.body,update:i,lastMessage:f,onToolCall:c,onFinish({message:e,finishReason:t,usage:r}){u&&null!=e&&u(e,{usage:r,finishReason:t})},generateId:d});return;default:throw Error(`Unknown stream protocol: ${r}`)}}function G(e){return null==e?void 0:e.reduce((e,t)=>{var r;return Math.max(e,null!=(r=t.step)?r:0)},0)}function H(e){var t;return null!=(t=e.parts)?t:[...e.toolInvocations?e.toolInvocations.map(e=>({type:"tool-invocation",toolInvocation:e})):[],...e.reasoning?[{type:"reasoning",reasoning:e.reasoning,details:[{type:"text",text:e.reasoning}]}]:[],...e.content?[{type:"text",text:e.content}]:[]]}function X(e){return e.map(e=>({...e,parts:H(e)}))}async function Q(e){if(!e)return[];if(globalThis.FileList&&e instanceof globalThis.FileList)return Promise.all(Array.from(e).map(async e=>{let{name:t,type:r}=e;return{name:t,contentType:r,url:await new Promise((t,r)=>{let a=new FileReader;a.onload=e=>{var r;t(null==(r=e.target)?void 0:r.result)},a.onerror=e=>r(e),a.readAsDataURL(e)})}}));if(Array.isArray(e))return e;throw Error("Invalid attachments type")}function ee(e){if("assistant"!==e.role)return!1;let t=e.parts.reduce((e,t,r)=>"step-start"===t.type?r:e,-1),r=e.parts.slice(t+1).filter(e=>"tool-invocation"===e.type);return r.length>0&&r.every(e=>"result"in e.toolInvocation)}Symbol.for("vercel.ai.schema");var et=r(43483),er=Object.prototype.hasOwnProperty;let ea=new WeakMap,en=()=>{},eo=en(),es=Object,el=e=>e===eo,ei=e=>"function"==typeof e,eu=(e,t)=>({...e,...t}),ec=e=>ei(e.then),ed={},ep={},ef="undefined",eh=typeof window!=ef,eg=typeof document!=ef,ey=eh&&"Deno"in window,em=()=>eh&&typeof window.requestAnimationFrame!=ef,eE=(e,t)=>{let r=ea.get(e);return[()=>!el(t)&&e.get(t)||ed,a=>{if(!el(t)){let n=e.get(t);t in ep||(ep[t]=n),r[5](t,eu(n,a),n||ed)}},r[6],()=>!el(t)&&t in ep?ep[t]:!el(t)&&e.get(t)||ed]},ev=!0,[e_,eb]=eh&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[en,en],eI={initFocus:e=>(eg&&document.addEventListener("visibilitychange",e),e_("focus",e),()=>{eg&&document.removeEventListener("visibilitychange",e),eb("focus",e)}),initReconnect:e=>{let t=()=>{ev=!0,e()},r=()=>{ev=!1};return e_("online",t),e_("offline",r),()=>{eb("online",t),eb("offline",r)}}},ew=!i.useId,eT=!eh||ey,ek=e=>em()?window.requestAnimationFrame(e):setTimeout(e,1),eS=eT?i.useEffect:i.useLayoutEffect,eA="undefined"!=typeof navigator&&navigator.connection,eR=!eT&&eA&&(["slow-2g","2g"].includes(eA.effectiveType)||eA.saveData),ex=new WeakMap,eC=(e,t)=>es.prototype.toString.call(e)==="[object ".concat(t,"]"),eN=0,eO=e=>{let t,r;let a=typeof e,n=eC(e,"Date"),o=eC(e,"RegExp"),s=eC(e,"Object");if(es(e)!==e||n||o)t=n?e.toJSON():"symbol"==a?e.toString():"string"==a?JSON.stringify(e):""+e;else{if(t=ex.get(e))return t;if(t=++eN+"~",ex.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=eO(e[r])+",";ex.set(e,t)}if(s){t="#";let a=es.keys(e).sort();for(;!el(r=a.pop());)el(e[r])||(t+=r+":"+eO(e[r])+",");ex.set(e,t)}}return t},eD=e=>{if(ei(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?eO(e):"",t]},ej=0,eL=()=>++ej;async function eF(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[a,n,o,s]=t,l=eu({populateCache:!0,throwOnError:!0},"boolean"==typeof s?{revalidate:s}:s||{}),i=l.populateCache,u=l.rollbackOnError,c=l.optimisticData,d=e=>"function"==typeof u?u(e):!1!==u,p=l.throwOnError;if(ei(n)){let e=[];for(let t of a.keys())!/^\$(inf|sub)\$/.test(t)&&n(a.get(t)._k)&&e.push(t);return Promise.all(e.map(f))}return f(n);async function f(e){let r;let[n]=eD(e);if(!n)return;let[s,u]=eE(a,n),[f,h,g,y]=ea.get(a),m=()=>{let t=f[n];return(ei(l.revalidate)?l.revalidate(s().data,e):!1!==l.revalidate)&&(delete g[n],delete y[n],t&&t[0])?t[0](2).then(()=>s().data):s().data};if(t.length<3)return m();let E=o,v=eL();h[n]=[v,0];let _=!el(c),b=s(),I=b.data,w=b._c,T=el(w)?I:w;if(_&&u({data:c=ei(c)?c(T,I):c,_c:T}),ei(E))try{E=E(T)}catch(e){r=e}if(E&&ec(E)){if(E=await E.catch(e=>{r=e}),v!==h[n][0]){if(r)throw r;return E}r&&_&&d(r)&&(i=!0,u({data:T,_c:eo}))}if(i&&!r&&(ei(i)?u({data:i(E,T),error:eo,_c:eo}):u({data:E,error:eo,_c:eo})),h[n][1]=eL(),Promise.resolve(m()).then(()=>{u({_c:eo})}),r){if(p)throw r;return}return E}}let eM=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},eP=(e,t)=>{if(!ea.has(e)){let r=eu(eI,t),a=Object.create(null),n=eF.bind(eo,e),o=en,s=Object.create(null),l=(e,t)=>{let r=s[e]||[];return s[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},i=(t,r,a)=>{e.set(t,r);let n=s[t];if(n)for(let e of n)e(r,a)},u=()=>{if(!ea.has(e)&&(ea.set(e,[a,Object.create(null),Object.create(null),Object.create(null),n,i,l]),!eT)){let t=r.initFocus(setTimeout.bind(eo,eM.bind(eo,a,0))),n=r.initReconnect(setTimeout.bind(eo,eM.bind(eo,a,1)));o=()=>{t&&t(),n&&n(),ea.delete(e)}}};return u(),[e,n,u,o]}return[e,ea.get(e)[4]]},[eV,eB]=eP(new Map),eJ=eu({onLoadingSlow:en,onSuccess:en,onError:en,onErrorRetry:(e,t,r,a,n)=>{let o=r.errorRetryCount,s=n.retryCount,l=~~((Math.random()+.5)*(1<<(s<8?s:8)))*r.errorRetryInterval;(el(o)||!(s>o))&&setTimeout(a,l,n)},onDiscarded:en,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:eR?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:eR?5e3:3e3,compare:function e(t,r){var a,n;if(t===r)return!0;if(t&&r&&(a=t.constructor)===r.constructor){if(a===Date)return t.getTime()===r.getTime();if(a===RegExp)return t.toString()===r.toString();if(a===Array){if((n=t.length)===r.length)for(;n--&&e(t[n],r[n]););return -1===n}if(!a||"object"==typeof t){for(a in n=0,t)if(er.call(t,a)&&++n&&!er.call(r,a)||!(a in r)||!e(t[a],r[a]))return!1;return Object.keys(r).length===n}}return t!=t&&r!=r},isPaused:()=>!1,cache:eV,mutate:eB,fallback:{}},{isOnline:()=>ev,isVisible:()=>{let e=eg&&document.visibilityState;return el(e)||"hidden"!==e}}),eU=(e,t)=>{let r=eu(e,t);if(t){let{use:a,fallback:n}=e,{use:o,fallback:s}=t;a&&o&&(r.use=a.concat(o)),n&&s&&(r.fallback=eu(n,s))}return r},eZ=(0,i.createContext)({}),eY=eh&&window.__SWR_DEVTOOLS_USE__,e$=eY?window.__SWR_DEVTOOLS_USE__:[],eq=e=>ei(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],eW=()=>eu(eJ,(0,i.useContext)(eZ)),ez=e$.concat(e=>(t,r,a)=>{let n=r&&((...e)=>{let[a]=eD(t),[,,,n]=ea.get(eV);if(a.startsWith("$inf$"))return r(...e);let o=n[a];return el(o)?r(...e):(delete n[a],o)});return e(t,n,a)}),eK=(e,t,r)=>{let a=t[e]||(t[e]=[]);return a.push(r),()=>{let e=a.indexOf(r);e>=0&&(a[e]=a[a.length-1],a.pop())}};eY&&(window.__SWR_DEVTOOLS_REACT__=i);let eG=()=>{};eG(),new WeakMap;let eH=i.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),eX={dedupe:!0};es.defineProperty(e=>{let{value:t}=e,r=(0,i.useContext)(eZ),a=ei(t),n=(0,i.useMemo)(()=>a?t(r):t,[a,r,t]),o=(0,i.useMemo)(()=>a?n:eU(r,n),[a,r,n]),s=n&&n.provider,l=(0,i.useRef)(eo);s&&!l.current&&(l.current=eP(s(o.cache||eV),n));let u=l.current;return u&&(o.cache=u[0],o.mutate=u[1]),eS(()=>{if(u)return u[2]&&u[2](),u[3]},[]),(0,i.createElement)(eZ.Provider,eu(e,{value:o}))},"defaultValue",{value:eJ});let eQ=(a=(e,t,r)=>{let{cache:a,compare:n,suspense:o,fallbackData:s,revalidateOnMount:l,revalidateIfStale:u,refreshInterval:c,refreshWhenHidden:d,refreshWhenOffline:p,keepPreviousData:f}=r,[h,g,y,m]=ea.get(a),[E,v]=eD(e),_=(0,i.useRef)(!1),b=(0,i.useRef)(!1),I=(0,i.useRef)(E),w=(0,i.useRef)(t),T=(0,i.useRef)(r),k=()=>T.current,S=()=>k().isVisible()&&k().isOnline(),[A,R,x,C]=eE(a,E),N=(0,i.useRef)({}).current,O=el(s)?el(r.fallback)?eo:r.fallback[E]:s,D=(e,t)=>{for(let r in N)if("data"===r){if(!n(e[r],t[r])&&(!el(e[r])||!n(U,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},j=(0,i.useMemo)(()=>{let e=!!E&&!!t&&(el(l)?!k().isPaused()&&!o&&!1!==u:l),r=t=>{let r=eu(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},a=A(),n=C(),s=r(a),i=a===n?s:r(n),c=s;return[()=>{let e=r(A());return D(e,c)?(c.data=e.data,c.isLoading=e.isLoading,c.isValidating=e.isValidating,c.error=e.error,c):(c=e,e)},()=>i]},[a,E]),L=(0,et.useSyncExternalStore)((0,i.useCallback)(e=>x(E,(t,r)=>{D(r,t)||e()}),[a,E]),j[0],j[1]),F=!_.current,M=h[E]&&h[E].length>0,P=L.data,V=el(P)?O&&ec(O)?eH(O):O:P,B=L.error,J=(0,i.useRef)(V),U=f?el(P)?el(J.current)?V:J.current:P:V,Z=(!M||!!el(B))&&(F&&!el(l)?l:!k().isPaused()&&(o?!el(V)&&u:el(V)||u)),Y=!!(E&&t&&F&&Z),$=el(L.isValidating)?Y:L.isValidating,q=el(L.isLoading)?Y:L.isLoading,W=(0,i.useCallback)(async e=>{let t,a;let o=w.current;if(!E||!o||b.current||k().isPaused())return!1;let s=!0,l=e||{},i=!y[E]||!l.dedupe,u=()=>ew?!b.current&&E===I.current&&_.current:E===I.current,c={isValidating:!1,isLoading:!1},d=()=>{R(c)},p=()=>{let e=y[E];e&&e[1]===a&&delete y[E]},f={isValidating:!0};el(A().data)&&(f.isLoading=!0);try{if(i&&(R(f),r.loadingTimeout&&el(A().data)&&setTimeout(()=>{s&&u()&&k().onLoadingSlow(E,r)},r.loadingTimeout),y[E]=[o(v),eL()]),[t,a]=y[E],t=await t,i&&setTimeout(p,r.dedupingInterval),!y[E]||y[E][1]!==a)return i&&u()&&k().onDiscarded(E),!1;c.error=eo;let e=g[E];if(!el(e)&&(a<=e[0]||a<=e[1]||0===e[1]))return d(),i&&u()&&k().onDiscarded(E),!1;let l=A().data;c.data=n(l,t)?l:t,i&&u()&&k().onSuccess(t,E,r)}catch(r){p();let e=k(),{shouldRetryOnError:t}=e;!e.isPaused()&&(c.error=r,i&&u()&&(e.onError(r,E,e),(!0===t||ei(t)&&t(r))&&(!k().revalidateOnFocus||!k().revalidateOnReconnect||S())&&e.onErrorRetry(r,E,e,e=>{let t=h[E];t&&t[0]&&t[0](3,e)},{retryCount:(l.retryCount||0)+1,dedupe:!0})))}return s=!1,d(),!0},[E,a]),z=(0,i.useCallback)((...e)=>eF(a,I.current,...e),[]);if(eS(()=>{w.current=t,T.current=r,el(P)||(J.current=P)}),eS(()=>{if(!E)return;let e=W.bind(eo,eX),t=0;k().revalidateOnFocus&&(t=Date.now()+k().focusThrottleInterval);let r=eK(E,h,(r,a={})=>{if(0==r){let r=Date.now();k().revalidateOnFocus&&r>t&&S()&&(t=r+k().focusThrottleInterval,e())}else if(1==r)k().revalidateOnReconnect&&S()&&e();else if(2==r)return W();else if(3==r)return W(a)});return b.current=!1,I.current=E,_.current=!0,R({_k:v}),Z&&(el(V)||eT?e():ek(e)),()=>{b.current=!0,r()}},[E]),eS(()=>{let e;function t(){let t=ei(c)?c(A().data):c;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!A().error&&(d||k().isVisible())&&(p||k().isOnline())?W(eX).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[c,d,p,E]),(0,i.useDebugValue)(U),o&&el(V)&&E){if(!ew&&eT)throw Error("Fallback data is required when using Suspense in SSR.");w.current=t,T.current=r,b.current=!1;let e=m[E];if(el(e)||eH(z(e)),el(B)){let e=W(eX);el(U)||(e.status="fulfilled",e.value=!0),eH(e)}else throw B}return{mutate:z,get data(){return N.data=!0,U},get error(){return N.error=!0,B},get isValidating(){return N.isValidating=!0,$},get isLoading(){return N.isLoading=!0,q}}},function(...e){let t=eW(),[r,n,o]=eq(e),s=eU(t,o),l=a,{use:i}=s,u=(i||[]).concat(ez);for(let e=u.length;e--;)l=u[e](l);return l(r,n||s.fetcher||null,s)});var e0=r(29420),e1=r.n(e0);function e2(e,t){return null!=t?e1()(e,t):e}function e6({api:e="/api/chat",id:t,initialMessages:r,initialInput:a="",sendExtraMessageFields:n,onToolCall:o,experimental_prepareRequestBody:s,maxSteps:l=1,streamProtocol:u="data",onResponse:c,onFinish:d,onError:p,credentials:f,headers:h,body:g,generateId:y=C,fetch:m,keepLastMessageOnError:E=!0,experimental_throttle:v}={}){let[_]=(0,i.useState)(y),b=null!=t?t:_,I="string"==typeof e?[e,b]:b,w=function(e){let[t,r]=(0,i.useState)(e);return(0,i.useEffect)(()=>{!function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if("object"!=typeof t&&"object"!=typeof r)return t===r;if(t.constructor!==r.constructor)return!1;if(t instanceof Date&&r instanceof Date)return t.getTime()===r.getTime();if(Array.isArray(t)){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(!e(t[a],r[a]))return!1;return!0}let a=Object.keys(t),n=Object.keys(r);if(a.length!==n.length)return!1;for(let o of a)if(!n.includes(o)||!e(t[o],r[o]))return!1;return!0}(e,t)&&r(e)},[e,t]),t}(null!=r?r:[]),{data:T,mutate:k}=eQ([I,"messages"],null,{fallbackData:(0,i.useMemo)(()=>X(w),[w])}),S=(0,i.useRef)(T||[]);(0,i.useEffect)(()=>{S.current=T||[]},[T]);let{data:A,mutate:R}=eQ([I,"streamData"],null),x=(0,i.useRef)(A);(0,i.useEffect)(()=>{x.current=A},[A]);let{data:N="ready",mutate:O}=eQ([I,"status"],null),{data:D,mutate:j}=eQ([I,"error"],null),L=(0,i.useRef)(null),F=(0,i.useRef)({credentials:f,headers:h,body:g});(0,i.useEffect)(()=>{F.current={credentials:f,headers:h,body:g}},[f,h,g]);let M=(0,i.useCallback)(async(t,r="generate")=>{var a,i;O("submitted"),j(void 0);let f=X(t.messages),h=f.length,g=G(null==(a=f[f.length-1])?void 0:a.toolInvocations);try{let a=new AbortController;L.current=a;let l=e2(k,v),p=e2(R,v),h=S.current;l(f,!1);let g=n?f:f.map(({role:e,content:t,experimental_attachments:r,data:a,annotations:n,toolInvocations:o,parts:s})=>({role:e,content:t,...void 0!==r&&{experimental_attachments:r},...void 0!==a&&{data:a},...void 0!==n&&{annotations:n},...void 0!==o&&{toolInvocations:o},...void 0!==s&&{parts:s}})),_=x.current;await K({api:e,body:null!=(i=null==s?void 0:s({id:b,messages:f,requestData:t.data,requestBody:t.body}))?i:{id:b,messages:g,data:t.data,...F.current.body,...t.body},streamProtocol:u,credentials:F.current.credentials,headers:{...F.current.headers,...t.headers},abortController:()=>L.current,restoreMessagesOnFailure(){E||l(h,!1)},onResponse:c,onUpdate({message:e,data:t,replaceLastMessage:r}){O("streaming"),l([...r?f.slice(0,f.length-1):f,e],!1),(null==t?void 0:t.length)&&p([...null!=_?_:[],...t],!1)},onToolCall:o,onFinish:d,generateId:y,fetch:m,lastMessage:f[f.length-1],requestType:r}),L.current=null,O("ready")}catch(e){if("AbortError"===e.name)return L.current=null,O("ready"),null;p&&e instanceof Error&&p(e),j(e),O("error")}let _=S.current;(function({originalMaxToolInvocationStep:e,originalMessageCount:t,maxSteps:r,messages:a}){var n;let o=a[a.length-1];return r>1&&null!=o&&(a.length>t||G(o.toolInvocations)!==e)&&ee(o)&&(null!=(n=G(o.toolInvocations))?n:0)<r})({originalMaxToolInvocationStep:g,originalMessageCount:h,maxSteps:l,messages:_})&&await M({messages:_})},[k,O,e,F,c,d,p,j,R,x,u,n,s,o,l,S,L,y,m,E,v,b]),P=(0,i.useCallback)(async(e,{data:t,headers:r,body:a,experimental_attachments:n=e.experimental_attachments}={})=>{var o,s;let l=await Q(n);return M({messages:S.current.concat({...e,id:null!=(o=e.id)?o:y(),createdAt:null!=(s=e.createdAt)?s:new Date,experimental_attachments:l.length>0?l:void 0,parts:H(e)}),headers:r,body:a,data:t})},[M,y]),V=(0,i.useCallback)(async({data:e,headers:t,body:r}={})=>{let a=S.current;return 0===a.length?null:M({messages:"assistant"===a[a.length-1].role?a.slice(0,-1):a,headers:t,body:r,data:e})},[M]),B=(0,i.useCallback)(()=>{L.current&&(L.current.abort(),L.current=null)},[]),J=(0,i.useCallback)(async()=>{M({messages:S.current},"resume")},[M]),U=(0,i.useCallback)(e=>{"function"==typeof e&&(e=e(S.current));let t=X(e);k(t,!1),S.current=t},[k]),Z=(0,i.useCallback)(e=>{"function"==typeof e&&(e=e(x.current)),R(e,!1),x.current=e},[R]),[Y,$]=(0,i.useState)(a),q=(0,i.useCallback)(async(e,t={},r)=>{var a;if(null==(a=null==e?void 0:e.preventDefault)||a.call(e),!Y&&!t.allowEmptySubmit)return;r&&(F.current={...F.current,...r});let n=await Q(t.experimental_attachments);M({messages:S.current.concat({id:y(),createdAt:new Date,role:"user",content:Y,experimental_attachments:n.length>0?n:void 0,parts:[{type:"text",text:Y}]}),headers:t.headers,body:t.body,data:t.data}),$("")},[Y,y,M]),W=(0,i.useCallback)(({toolCallId:e,result:t})=>{let r=S.current;!function({messages:e,toolCallId:t,toolResult:r}){var a;let n=e[e.length-1],o=n.parts.find(e=>"tool-invocation"===e.type&&e.toolInvocation.toolCallId===t);if(null==o)return;let s={...o.toolInvocation,state:"result",result:r};o.toolInvocation=s,n.toolInvocations=null==(a=n.toolInvocations)?void 0:a.map(e=>e.toolCallId===t?s:e)}({messages:r,toolCallId:e,toolResult:t}),k([...r.slice(0,r.length-1),{...r[r.length-1]}],!1),"submitted"!==N&&"streaming"!==N&&ee(r[r.length-1])&&M({messages:r})},[k,N,M]);return{messages:null!=T?T:[],id:b,setMessages:U,data:A,setData:Z,error:D,append:P,reload:V,stop:B,experimental_resume:J,input:Y,setInput:$,handleInputChange:e=>{$(e.target.value)},handleSubmit:q,isLoading:"submitted"===N||"streaming"===N,status:N,addToolResult:W}}},45811:(e,t,r)=>{"use strict";r.d(t,{M:()=>m});var a=r(57437),n=r(2265),o=r(46673),s=r(43768),l=r(29149),i=r(85853);class u extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:t,isPresent:r}=e,o=(0,n.useId)(),s=(0,n.useRef)(null),l=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:c}=(0,n.useContext)(i._);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:n}=l.current;if(r||!s.current||!e||!t)return;s.current.dataset.motionPopId=o;let i=document.createElement("style");return c&&(i.nonce=c),document.head.appendChild(i),i.sheet&&i.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(a,"px !important;\n            left: ").concat(n,"px !important;\n          }\n        ")),()=>{document.head.removeChild(i)}},[r]),(0,a.jsx)(u,{isPresent:r,childRef:s,sizeRef:l,children:n.cloneElement(t,{ref:s})})}let d=e=>{let{children:t,initial:r,isPresent:o,onExitComplete:i,custom:u,presenceAffectsLayout:d,mode:f}=e,h=(0,s.h)(p),g=(0,n.useId)(),y=(0,n.useCallback)(e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;i&&i()},[h,i]),m=(0,n.useMemo)(()=>({id:g,initial:r,isPresent:o,custom:u,onExitComplete:y,register:e=>(h.set(e,!1),()=>h.delete(e))}),d?[Math.random(),y]:[o,y]);return(0,n.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[o]),n.useEffect(()=>{o||h.size||!i||i()},[o]),"popLayout"===f&&(t=(0,a.jsx)(c,{isPresent:o,children:t})),(0,a.jsx)(l.O.Provider,{value:m,children:t})};function p(){return new Map}var f=r(31463);let h=e=>e.key||"";function g(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}var y=r(27009);let m=e=>{let{children:t,custom:r,initial:l=!0,onExitComplete:i,presenceAffectsLayout:u=!0,mode:c="sync",propagate:p=!1}=e,[m,E]=(0,f.oO)(p),v=(0,n.useMemo)(()=>g(t),[t]),_=p&&!m?[]:v.map(h),b=(0,n.useRef)(!0),I=(0,n.useRef)(v),w=(0,s.h)(()=>new Map),[T,k]=(0,n.useState)(v),[S,A]=(0,n.useState)(v);(0,y.L)(()=>{b.current=!1,I.current=v;for(let e=0;e<S.length;e++){let t=h(S[e]);_.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[S,_.length,_.join("-")]);let R=[];if(v!==T){let e=[...v];for(let t=0;t<S.length;t++){let r=S[t],a=h(r);_.includes(a)||(e.splice(t,0,r),R.push(r))}"wait"===c&&R.length&&(e=R),A(g(e)),k(v);return}let{forceRender:x}=(0,n.useContext)(o.p);return(0,a.jsx)(a.Fragment,{children:S.map(e=>{let t=h(e),n=(!p||!!m)&&(v===S||_.includes(t));return(0,a.jsx)(d,{isPresent:n,initial:(!b.current||!!l)&&void 0,custom:n?void 0:r,presenceAffectsLayout:u,mode:c,onExitComplete:n?void 0:()=>{if(!w.has(t))return;w.set(t,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==x||x(),A(I.current),p&&(null==E||E()),i&&i())},children:e},t)})})}},16343:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(85666).Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},44639:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(85666).Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},49067:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(85666).Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]])},78169:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(85666).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},76660:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(85666).Z)("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]])},47774:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(85666).Z)("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]])},27069:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(85666).Z)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]])},85712:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(85666).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8423:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(85666).Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},99118:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(85666).Z)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]])},36871:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(85666).Z)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]])},28556:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(85666).Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]])},53935:(e,t,r)=>{"use strict";var a=r(7393).Buffer;let n=void 0!==a,o=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,s=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function l(e,t,r){null==r&&null!==t&&"object"==typeof t&&(r=t,t=void 0),n&&a.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let l=JSON.parse(e,t);if(null===l||"object"!=typeof l)return l;let u=r&&r.protoAction||"error",c=r&&r.constructorAction||"error";if("ignore"===u&&"ignore"===c)return l;if("ignore"!==u&&"ignore"!==c){if(!1===o.test(e)&&!1===s.test(e))return l}else if("ignore"!==u&&"ignore"===c){if(!1===o.test(e))return l}else if(!1===s.test(e))return l;return i(l,{protoAction:u,constructorAction:c,safe:r&&r.safe})}function i(e,{protoAction:t="error",constructorAction:r="error",safe:a}={}){let n=[e];for(;n.length;){let e=n;for(let o of(n=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(!0===a)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if("ignore"!==r&&Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(!0===a)return null;if("error"===r)throw SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(let e in o){let t=o[e];t&&"object"==typeof t&&n.push(t)}}}return e}function u(e,t,r){let a=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return l(e,t,r)}finally{Error.stackTraceLimit=a}}e.exports=u,e.exports.default=u,e.exports.parse=u,e.exports.safeParse=function(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return l(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=r}},e.exports.scan=i},29420:e=>{e.exports=function(e,t){let r;if("function"!=typeof e)throw TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let a=0;return function(...n){clearTimeout(r);let o=Date.now(),s=t-(o-a);s<=0?(a=o,e.apply(this,n)):r=setTimeout(()=>{a=Date.now(),e.apply(this,n)},s)}}},77132:(e,t,r)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=r(2265),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=a.useState,s=a.useEffect,l=a.useLayoutEffect,i=a.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=o({inst:{value:r,getSnapshot:t}}),n=a[0].inst,c=a[1];return l(function(){n.value=r,n.getSnapshot=t,u(n)&&c({inst:n})},[e,r,t]),s(function(){return u(n)&&c({inst:n}),e(function(){u(n)&&c({inst:n})})},[e]),i(r),r};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:c},43483:(e,t,r)=>{"use strict";e.exports=r(77132)}}]);