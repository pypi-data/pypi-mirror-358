"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8250],{47611:(e,t,a)=>{a.d(t,{Cv:()=>l,Hk:()=>d,SZ:()=>i,ZX:()=>n,fH:()=>o});var s=a(20357);let r=s.env.YAAAF_API_PORT||4e3;console.log("Using backend port as YAAAF_API_PORT=".concat(r));let n="<taskcompleted/>",l="<taskpaused/>",i="who is the prime minister of Italy,what is the capital of France,how to cook pasta,what is the weather today,how to learn programming",o=s.env.YAAAF_INFO_TITLE||"About YAAAF",d=s.env.YAAAF_INFO_MESSAGE||"YAAAF - Yet Another Autonomous Agents Framework\n\nContact: alberto@fractalego.io for any questions or issues.\n\n\uD83E\uDD16 Modular Agent System\nSpecialized agents for SQL, visualization, web search, ML, and more\n\n⚡ Real-time Streaming\nLive updates with structured responses and agent attribution\n\n\uD83D\uDCCA Artifact Management\nCentralized storage for generated content (tables, images, models)\n\n\uD83C\uDFF7️ Tag-Based Routing\nUse HTML-like tags for intuitive agent selection:\n• <sqlagent> for database queries\n• <visualizationagent> for charts and graphs\n• <websearchagent> for web searches\n• <bashagent> for filesystem operations\n\nStart chatting to explore YAAAF's capabilities!";console.log("Using query suggestions as YAAAF_QUERY_SUGGESTIONS=".concat(i)),console.log("Using info button title as YAAAF_INFO_TITLE=".concat(o))},48250:(e,t,a)=>{a.r(t),a.d(t,{ChatMessage:()=>N});var s=a(57437),r=a(2265),n=a(32222),l=a(71636),i=a(85712),o=a(78169),d=a(49067),c=a(99118),m=a(76660),x=a(37440),u=a(64719);let p=u.fC,g=u.wy,h=u.Fw;var f=a(97585),b=a(70055),w=a(47611),j=a(7393).Buffer;let v=(0,n.j)("group/message relative break-words rounded-xl p-4 text-sm sm:max-w-[75%] shadow-sm border",{variants:{isUser:{true:"bg-primary text-primary-foreground border-primary/20 shadow-md",false:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 text-foreground border-border/40 shadow-lg"},animation:{none:"",slide:"duration-300 animate-in fade-in-0",scale:"duration-300 animate-in fade-in-0 zoom-in-75",fade:"duration-500 animate-in fade-in-0"}},compoundVariants:[{isUser:!0,animation:"slide",class:"slide-in-from-right"},{isUser:!1,animation:"slide",class:"slide-in-from-left"},{isUser:!0,animation:"scale",class:"origin-bottom-right"},{isUser:!1,animation:"scale",class:"origin-bottom-left"}]}),N=e=>{let{role:t,content:a,createdAt:n,showTimeStamp:l=!1,animation:o="scale",actions:d,experimental_attachments:c,toolInvocations:m,parts:u,onArtifactClick:p}=e;console.log(a);let g=-1==a.indexOf(w.ZX)&&-1==a.indexOf(w.Cv),h=(0,r.useMemo)(()=>null==c?void 0:c.map(e=>{var t;return new File([function(e){let t=e.split(",")[1];return new Uint8Array(j.from(t,"base64"))}(e.url)],null!==(t=e.name)&&void 0!==t?t:"Unknown")}),[c]),N="user"===t,A=null==n?void 0:n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return N?(0,s.jsxs)("div",{className:(0,x.cn)("flex flex-col",N?"items-end":"items-start"),children:[h?(0,s.jsx)("div",{className:"mb-1 flex flex-wrap gap-2",children:h.map((e,t)=>(0,s.jsx)(f.FilePreview,{file:e},t))}):null,(0,s.jsx)("div",{className:(0,x.cn)(v({isUser:N,animation:o})),children:(0,s.jsx)(b.MarkdownRenderer,{onArtifactClick:p,children:a})}),l&&n?(0,s.jsx)("time",{dateTime:n.toISOString(),className:(0,x.cn)("mt-1 block px-1 text-xs opacity-50","none"!==o&&"duration-500 animate-in fade-in-0"),children:A}):null]}):u&&u.length>0?u.map((e,a)=>{if("text"===e.type){let r=e.text;return r=(r=(r=r.replaceAll("<br/>","\n")).replaceAll("&quot;",'"')).replaceAll("&nbsp;&nbsp;&nbsp;&nbsp;","	"),(0,s.jsxs)("div",{className:(0,x.cn)("flex flex-col",N?"items-end":"items-start"),children:[(0,s.jsxs)("div",{className:(0,x.cn)(v({isUser:N,animation:o})),children:[(0,s.jsx)(b.MarkdownRenderer,{onArtifactClick:p,children:r}),d?(0,s.jsx)("div",{className:"absolute -bottom-3 right-3 flex space-x-1 rounded-lg border bg-background/95 backdrop-blur-sm p-1.5 text-foreground opacity-0 transition-all duration-200 group-hover/message:opacity-100 shadow-md",children:d}):null,"assistant"==t&&g?(0,s.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-muted-foreground",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 animate-spin"}),(0,s.jsx)("span",{className:"text-xs",children:"Thinking..."})]}):null]}),l&&n?(0,s.jsx)("time",{dateTime:n.toISOString(),className:(0,x.cn)("mt-1 block px-1 text-xs opacity-50","none"!==o&&"duration-500 animate-in fade-in-0"),children:A}):null]},"text-".concat(a))}return"reasoning"===e.type?(0,s.jsx)(y,{part:e},"reasoning-".concat(a)):"tool-invocation"===e.type?(0,s.jsx)(k,{toolInvocations:[e.toolInvocation]},"tool-".concat(a)):null}):m&&m.length>0?(0,s.jsx)(k,{toolInvocations:m}):(0,s.jsxs)("div",{className:(0,x.cn)("flex flex-col",N?"items-end":"items-start"),children:[(0,s.jsxs)("div",{className:(0,x.cn)(v({isUser:N,animation:o})),children:[(0,s.jsx)(b.MarkdownRenderer,{onArtifactClick:p,children:a}),d?(0,s.jsx)("div",{className:"absolute -bottom-3 right-3 flex space-x-1 rounded-lg border bg-background/95 backdrop-blur-sm p-1.5 text-foreground opacity-0 transition-all duration-200 group-hover/message:opacity-100 shadow-md",children:d}):null]}),l&&n?(0,s.jsx)("time",{dateTime:n.toISOString(),className:(0,x.cn)("mt-1 block px-1 text-xs opacity-50","none"!==o&&"duration-500 animate-in fade-in-0"),children:A}):null]})},y=e=>{let{part:t}=e,[a,n]=(0,r.useState)(!1);return(0,s.jsx)("div",{className:"mb-3 flex flex-col items-start sm:max-w-[75%]",children:(0,s.jsxs)(p,{open:a,onOpenChange:n,className:"group w-full overflow-hidden rounded-xl border bg-gradient-to-br from-blue-50/80 to-indigo-50/80 dark:from-blue-950/30 dark:to-indigo-950/30 shadow-sm",children:[(0,s.jsx)("div",{className:"flex items-center p-3",children:(0,s.jsx)(g,{asChild:!0,children:(0,s.jsxs)("button",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-200 transition-colors",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4 transition-transform group-data-[state=open]:rotate-90"}),(0,s.jsx)("span",{className:"font-medium",children:"\uD83D\uDCAD Thinking"})]})})}),(0,s.jsx)(h,{forceMount:!0,children:(0,s.jsx)(l.E.div,{initial:!1,animate:a?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:.3,ease:[.04,.62,.23,.98]},className:"border-t border-blue-200/50 dark:border-blue-800/50",children:(0,s.jsx)("div",{className:"p-3 bg-white/50 dark:bg-slate-900/50",children:(0,s.jsx)("div",{className:"whitespace-pre-wrap text-sm text-slate-700 dark:text-slate-300 leading-relaxed",children:t.reasoning})})})})]})})};function k(e){let{toolInvocations:t}=e;return(null==t?void 0:t.length)?(0,s.jsx)("div",{className:"flex flex-col items-start gap-3",children:t.map((e,t)=>{if("result"===e.state&&!0===e.result.__cancelled)return(0,s.jsxs)("div",{className:"flex items-center gap-2 rounded-xl border bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-950/30 dark:to-orange-950/30 px-4 py-3 text-sm text-red-700 dark:text-red-300 shadow-sm",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:["Cancelled"," ",(0,s.jsx)("span",{className:"font-mono bg-red-100 dark:bg-red-900/50 px-1.5 py-0.5 rounded text-xs",children:e.toolName})]})]},t);switch(e.state){case"partial-call":case"call":return(0,s.jsxs)("div",{className:"flex items-center gap-2 rounded-xl border bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-950/30 dark:to-cyan-950/30 px-4 py-3 text-sm text-blue-700 dark:text-blue-300 shadow-sm",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:["Calling"," ",(0,s.jsx)("span",{className:"font-mono bg-blue-100 dark:bg-blue-900/50 px-1.5 py-0.5 rounded text-xs",children:e.toolName}),"..."]}),(0,s.jsx)(i.Z,{className:"h-3 w-3 animate-spin"})]},t);case"result":return(0,s.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl border bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 px-4 py-3 text-sm shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-300",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:["Result from"," ",(0,s.jsx)("span",{className:"font-mono bg-green-100 dark:bg-green-900/50 px-1.5 py-0.5 rounded text-xs",children:e.toolName})]})]}),(0,s.jsx)("pre",{className:"overflow-x-auto whitespace-pre-wrap text-slate-700 dark:text-slate-300 bg-white/50 dark:bg-slate-900/50 p-3 rounded-lg text-xs leading-relaxed",children:JSON.stringify(e.result,null,2)})]},t);default:return null}})}):null}},97585:(e,t,a)=>{a.r(t),a.d(t,{FilePreview:()=>o});var s=a(57437),r=a(2265),n=a(71636),l=a(55188),i=a(27069);let o=r.forwardRef((e,t)=>e.file.type.startsWith("image/")?(0,s.jsx)(d,{...e,ref:t}):e.file.type.startsWith("text/")||e.file.name.endsWith(".txt")||e.file.name.endsWith(".md")?(0,s.jsx)(c,{...e,ref:t}):(0,s.jsx)(m,{...e,ref:t}));o.displayName="FilePreview";let d=r.forwardRef((e,t)=>{let{file:a,onRemove:r}=e;return(0,s.jsxs)(n.E.div,{ref:t,className:"relative flex max-w-[200px] rounded-md border p-1.5 pr-2 text-xs",layout:!0,initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},children:[(0,s.jsxs)("div",{className:"flex w-full items-center space-x-2",children:[(0,s.jsx)("img",{alt:"Attachment ".concat(a.name),className:"grid h-10 w-10 shrink-0 place-items-center rounded-sm border bg-muted object-cover",src:URL.createObjectURL(a)}),(0,s.jsx)("span",{className:"w-full truncate text-muted-foreground",children:a.name})]}),r?(0,s.jsx)("button",{className:"absolute -right-2 -top-2 flex h-4 w-4 items-center justify-center rounded-full border bg-background",type:"button",onClick:r,"aria-label":"Remove attachment",children:(0,s.jsx)(l.Z,{className:"h-2.5 w-2.5"})}):null]})});d.displayName="ImageFilePreview";let c=r.forwardRef((e,t)=>{let{file:a,onRemove:i}=e,[o,d]=r.useState("");return(0,r.useEffect)(()=>{let e=new FileReader;e.onload=e=>{var t;let a=null===(t=e.target)||void 0===t?void 0:t.result;d(a.slice(0,50)+(a.length>50?"...":""))},e.readAsText(a)},[a]),(0,s.jsxs)(n.E.div,{ref:t,className:"relative flex max-w-[200px] rounded-md border p-1.5 pr-2 text-xs",layout:!0,initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},children:[(0,s.jsxs)("div",{className:"flex w-full items-center space-x-2",children:[(0,s.jsx)("div",{className:"grid h-10 w-10 shrink-0 place-items-center rounded-sm border bg-muted p-0.5",children:(0,s.jsx)("div",{className:"h-full w-full overflow-hidden text-[6px] leading-none text-muted-foreground",children:o||"Loading..."})}),(0,s.jsx)("span",{className:"w-full truncate text-muted-foreground",children:a.name})]}),i?(0,s.jsx)("button",{className:"absolute -right-2 -top-2 flex h-4 w-4 items-center justify-center rounded-full border bg-background",type:"button",onClick:i,"aria-label":"Remove attachment",children:(0,s.jsx)(l.Z,{className:"h-2.5 w-2.5"})}):null]})});c.displayName="TextFilePreview";let m=r.forwardRef((e,t)=>{let{file:a,onRemove:r}=e;return(0,s.jsxs)(n.E.div,{ref:t,className:"relative flex max-w-[200px] rounded-md border p-1.5 pr-2 text-xs",layout:!0,initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},children:[(0,s.jsxs)("div",{className:"flex w-full items-center space-x-2",children:[(0,s.jsx)("div",{className:"grid h-10 w-10 shrink-0 place-items-center rounded-sm border bg-muted",children:(0,s.jsx)(i.Z,{className:"h-6 w-6 text-foreground"})}),(0,s.jsx)("span",{className:"w-full truncate text-muted-foreground",children:a.name})]}),r?(0,s.jsx)("button",{className:"absolute -right-2 -top-2 flex h-4 w-4 items-center justify-center rounded-full border bg-background",type:"button",onClick:r,"aria-label":"Remove attachment",children:(0,s.jsx)(l.Z,{className:"h-2.5 w-2.5"})}):null]})});m.displayName="GenericFilePreview"}}]);