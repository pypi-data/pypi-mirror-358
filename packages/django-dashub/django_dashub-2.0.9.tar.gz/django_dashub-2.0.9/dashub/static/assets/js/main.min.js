!function(){const e=window.jQuery||window.django?.jQuery;e?function(e){function t(){const t=e(".errorlist").length,n=e(".page-header .col-md-6").eq(1);t&&n.length?n.html(`<div class="page_header_error_count">${t}</div>`):e(".page_header_error_count").remove()}function n(){!function(t){if(t&&t.length>0){const n=t.closest(".tab-pane");n.length&&e(`a[href="#${n.attr("id")}"]`).click(),t.find(".image_picker_container").length||t.find("input, select, textarea").focus(),e("html, body").animate({scrollTop:t.offset().top-100},300)}}(e(".errorlist").first().closest(".form-group"))}function o(){e(document).find(".dashub_tag_input").each((function(){if(0===e(this).closest(".empty-form").length){if(e(this).parent().find("tags").length<=0){const t=e(this).data("separator");new Tagify(this,{originalInputValueFormat:e=>e.map((e=>e.value)).join(t),delimiters:t})}}}))}e.fn.isInViewport=function(){const t=e(this).offset().top,n=t+e(this).outerHeight(),o=e(window).scrollTop(),i=o+e(window).height();return n>o&&t<i},e(document).on("click",".dh-hasmenu > .dh-link",(function(t){t.preventDefault();const n=e(this).parent(),o=n.find(".dh-submenu"),i=n.find(".dh-arrow");o.find(".dh-item").show(),n.hasClass("open-menu")?(o.slideUp(),i.css({transform:"rotate(0deg)"})):(o.slideDown(),i.css({transform:"rotate(90deg)"})),n.toggleClass("open-menu")})),e(document).ready((function(){e(".dh-item, .dh-hasmenu").removeClass("active open-menu");const t=window.location.pathname;if(t){let n=e("a[href='"+t+"']");if(n.length<=0&&(n=function(t,n){return n.includes("add")?(n=n.replace("/add/",""),e("a[href='"+n+"/']")):n.includes("change")?(n=n.replace("/change/","").split("/").slice(0,-1).join("/"),e("a[href='"+n+"/']")):t}(n,t)),n.length>0){n.addClass("active");const t=n.closest(".dh-hasmenu");if(t.length>0?(t.addClass("open-menu active"),n.closest(".dh-submenu").slideDown()):n.closest(".dh-item").addClass("active"),!n.isInViewport()){const t=e(".navbar-content");t.animate({scrollTop:n.offset().top/1.5-t.offset().top+t.scrollTop()},300)}}}})),e(document).on("click","#sidebar-hide",(function(t){t.preventDefault(),e("body").toggleClass("dh-sidebar-hide")})),e(document).on("click","#mobile-collapse",(function(t){t.preventDefault();const n=e(".dh-sidebar");n.toggleClass("mob-sidebar-active"),n.find(".dh-menu-overlay").toggleClass("d-none")})),e(document).on("click",".dh-menu-overlay",(function(t){t.preventDefault();const n=e(".dh-sidebar");n.removeClass("mob-sidebar-active"),n.find(".dh-menu-overlay").addClass("d-none")})),e(document).on("click",".password_field .show-hide",(function(){const t=e(this).parent().find("input"),n=t.attr("type");t.attr("type","password"===n?"text":"password"),t.attr("placeholder","password"===n?"Password":"********"),e(this).html(`<i class="fa-regular fa-eye${"password"===n?"":"-slash"}"></i>`)})),e(document).on("click",".addNewDocBtn",(function(){e("#docUploadModal").modal("show")})),e(document).on("click",".alert-dismissible .close",(function(){e(this).parent().remove()})),e(document).on("click",".horizontal_tabs .nav-link",(function(t){t.preventDefault();const n=e(this).attr("href");e(".horizontal_tabs .nav-link").removeClass("active"),e(this).addClass("active"),e(".horizontal_tabs .tab-pane").removeClass("active show"),e(n).addClass("active show"),history.pushState?history.pushState(null,null,n):location.hash=n})),e(document).ready((function(){const t=window.location.hash,n=e(".horizontal_tabs .nav-link");if(t){const e=n.filter(`[href='${t}']`);e.length&&e.click()}else n.first().click()})),e(".datetime").each((function(){e(this).find("input").length>1&&(e(this).find("[size=10]").tempusDominus({display:{components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0,clock:!1},theme:"light"},localization:{format:"yyyy-MM-dd"}}),e(this).find("[size=8]").tempusDominus({display:{components:{clock:!0,hours:!0,minutes:!0},theme:"light"},localization:{format:"HH:mm:ss"}}))})),e(".vDateField").tempusDominus({display:{components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0},theme:"light"},localization:{format:"yyyy-MM-dd"}}),e(document).on("click",".page_header_error_count",n),e(document).ready((function(){t(),n()})),e(document).on("change keyup",".form-control.is-invalid",(function(){e(this).removeClass("is-invalid").closest(".form-group").find(".errorlist").remove(),t()})),e(".image_picker_container").each((function(){new MutationObserver((function(n){n.forEach((n=>{if("class"===n.attributeName){const o=e(n.target).closest(".form-group");o.find(".errorlist").remove(),o.find("textarea").removeClass("is-invalid"),t()}}))})).observe(this,{attributes:!0})})),e(".stacked-inline-group .panel .card-header").each((function(){const t=e(this).parent();!t.find(".errorlist").length&&t.find(".delete").length&&(e(this).next().slideUp(),t.addClass("closed"))})),e(document).on("click",".stacked-inline-group .card:not(.deleted) .card-header",(function(t){if(e(t.target).closest(".card-tools.delete").length)return;e(this).closest(".card").toggleClass("closed"),e(this).next().slideToggle()})),e(document).on("click",".cancel-link",(function(e){e.preventDefault();const t=window.parent;return t&&t!==window&&"function"==typeof t.dismissRelatedObjectModal?t.dismissRelatedObjectModal():window.history.back(),!1})),o(),e(document).on("formset:added",o),e(document).on("change","input[name=_selected_action], #action-toggle",(function(){const t=e("input[name=_selected_action]:checked").length;e(".change-list-actions-row").toggleClass("hide",0===t)})),e(document).on("click",".vCheckboxLabel",(function(){const t=e(this).closest(".djn-item");t.find(".djn-item-content").is(":visible")&&(t.find(".djn-item-content").slideUp(),t.removeClass("open"))})),e(document).on("click",".djn-inline-form .djn-drag-handler",(function(){const t=e(this).closest(".djn-item");if(t.hasClass("grp-predelete"))return;t.find(".djn-item-content").slideToggle(),t.toggleClass("open")})),e(".djn-inline-form .djn-drag-handler").trigger("click"),e(".header_search_form input").on("keyup",(function(){const t=e(this).val().toLowerCase();let n=!1;e(".dh-navbar .dh-item").hide(),e(".dh-navbar .dh-caption").each((function(){const o=e(this),i=o.nextUntil(".dh-caption");let s=!1;o.text().toLowerCase().includes(t)?(o.add(i).show(),s=!0):(i.each((function(){e(this).text().toLowerCase().includes(t)&&(e(this).show(),s=!0)})),o.toggle(s)),s&&(n=!0)})),e(".navbar-content").toggleClass("nomenu",!n)})),e(document).on("change",".search-filter",(function(){const t=e(this).val().trim(),n=e(this).find("option[data-name]").eq(0).data("name");e(this).attr("name",t&&n?n:null)}))}(e):console.error("jQuery or django.jQuery not found.")}();