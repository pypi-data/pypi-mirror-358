Metadata-Version: 2.4
Name: ShellKit
Version: 0.1.0
Summary: A teaching-oriented simulation of system call formatting in Python
Author: Pokeya
License-Expression: MIT
Keywords: shell,libc,syscall
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Operating System :: OS Independent
Classifier: Topic :: System :: Shells
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: tomli; python_version < "3.11"
Provides-Extra: dev
Requires-Dist: black; extra == "dev"
Requires-Dist: isort; extra == "dev"
Requires-Dist: ruff; extra == "dev"
Requires-Dist: mypy; extra == "dev"
Requires-Dist: pytest; extra == "dev"
Requires-Dist: build; extra == "dev"
Requires-Dist: twine; extra == "dev"
Requires-Dist: types-setuptools; extra == "dev"
Dynamic: license-file

# ğŸš ShellKit (libc + pysh)

> Learn how `echo` works from shell to syscall â€” all in one Python playground.

[![Python Version](https://img.shields.io/badge/python-3.10%2B-blue)](https://www.python.org)
[![PyPI version](https://img.shields.io/pypi/v/shellkit)](https://pypi.org/project/shellkit/)
[![License: MIT](https://img.shields.io/badge/license-MIT-blue.svg)](./LICENSE)
[![Platform](https://img.shields.io/badge/platform-macOS%20%7C%20Linux-lightgrey)](https://github.com/pokeyaro/shellkit)
[![Languages](https://img.shields.io/badge/languages-EN%20%7C%20ä¸­æ–‡%20%7C%20æ—¥æœ¬èª%20%7C%20í•œêµ­ì–´-brightgreen)](./examples/)
[![CI](https://github.com/pokeyaro/shellkit/actions/workflows/ci.yml/badge.svg?branch=master)](https://github.com/pokeyaro/shellkit/actions/workflows/ci.yml)

**English** | [ç®€ä½“ä¸­æ–‡](./README_zh.md) | [æ—¥æœ¬èª](./README_ja.md) | [í•œêµ­ì–´](./README_ko.md)

---

## ğŸ“– Overview

`ShellKit` is a Unix-like educational terminal toolkit consisting of two main components:

* **Libc**: A Python-based simulation of core C library calls such as `syscall`, `write`, and `printf`. It walks through the transition from user space to kernel space.
* **Pysh**: An interactive shell built on top of `Libc`, featuring internal commands, REPL execution, cross-layer tracing, and multilingual support. Designed for system developers and terminal enthusiasts.

Runs on both `macOS` and `Linux`, supporting `Arm64` and `Intel x86_64` architectures.


## âœ¨ Features

### Pysh

* ğŸ§  Built-in commands (`cd`, `echo`, `pwd`, `env`, etc.)
* ğŸ§µ Multilingual support with full manuals (EN/CH/JP/KR)
* ğŸ” Cross-layer tracing: from command parsing â†’ libc functions â†’ C-level syscalls
* ğŸ§¹ Composable REPL execution model
* ğŸ”Œ Pluggable command registration system

### Libc

* ğŸ“¨ Custom `printf` engine with `%s`, `%d`, `%f` format specifiers and escape sequences
* ğŸ“œ Native syscall bridge (Python â†” C) via `syscall/syslib.so`
* ğŸ§ª Unit-tested via `pytest`, with benchmarks for key libc behaviors


## ğŸ“¦ Installation

> Requires `Python 3.10` or newer

Install via `pip`:

```bash
pip install shellkit
```

After installation, launch the interactive shell with:

```bash
pysh
```


## ğŸš€ Usage

```bash
pysh [options]
```

### CLI Options

| Option          | Description                                                    |
| --------------- | -------------------------------------------------------------- |
| `--command`     | Run a single command                                           |
| `--no-banner`   | Skip the startup banner                                        |
| `--no-reminder` | Disable rest reminder messages                                 |
| `--quiet`       | Quiet mode with minimal output                                 |
| `--safe`        | Enable safety mode (blocks dangerous commands like `rm -rf /`) |
| `--debug`       | Enable shell-level debug output                                |
| `--trace-echo`  | Trace `echo`/`printf` calls down to `libc` syscall layer       |

For more, run:

```bash
pysh --help
```


## ğŸ“š Examples & Tutorials

Want to see ShellKit in action? Check out our comprehensive examples:

â†’ **[Examples & Demos](./examples/README.md)** - Real terminal sessions from basic to advanced features

*Complete with multilingual demos, debugging tutorials, and advanced printf formatting!*


## ğŸ“¦ Project Structure (partial)

```text
shellkit/
â”œâ”€â”€ native/         # C code for native syscall implementation (builds syslib.so)
â”œâ”€â”€ shellkit/       # Main package
â”‚   â”œâ”€â”€ syscall/    # Python-side syscall wrappers via ctypes
â”‚   â”œâ”€â”€ libc/       # Custom libc (printf, write, exit)
â”‚   â”œâ”€â”€ shell/      # Core engine, built-in commands, runtime, REPL
â”‚   â”œâ”€â”€ inspector/  # Debugging and tracing tools
â”‚   â””â”€â”€ i18n/       # Multilingual dictionaries and support
â”œâ”€â”€ benchmarks/     # Performance benchmarks
â”œâ”€â”€ examples/       # Usage examples and demo logs
â””â”€â”€ tests/          # Test suite
```


## ğŸ¥‰ Platform Support for syslib.so

| Platform                   | Supported  | Notes                                          |
| -------------------------- |------------| ---------------------------------------------- |
| **Linux x86\_64**          | âœ… Yes     | Uses `rax = 1` + `syscall`                     |
| **Linux ARM64**            | âœ… Yes     | Uses `x8 = 64` + `svc #0`                      |
| **macOS Intel (x86)**      | âœ… Yes     | Uses `rax = 0x2000004` + `syscall`             |
| **macOS ARM64 (M1/M2/M3)** | âœ… Yes     | Uses `syscall(SYS_write, ...)` (soft wrapper)  |
| **Windows**                | âŒ No      | Not supported; lacks a unified `syscall()` ABI |


## ğŸ“Œ Changelog

See [CHANGELOG.md](./CHANGELOG.md) for version history.


## ğŸ“œ License

MIT License. See [LICENSE](./LICENSE) for details.


## ğŸ¤ Acknowledgments

Inspired by the spirit of classic Unix shells. \
Thanks to all system programmers and terminal geeks who paved the way.
