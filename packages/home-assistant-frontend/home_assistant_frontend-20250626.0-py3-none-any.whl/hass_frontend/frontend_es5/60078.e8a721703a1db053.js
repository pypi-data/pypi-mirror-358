"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["60078"],{1206:function(e,t,n){n.d(t,{r:function(){return o}});n(26847),n(54480),n(11353),n(67886),n(65451),n(46015),n(38334),n(94880),n(75643),n(29761),n(48694),n(27530);var a=!0,r=function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;if(!e||e===document.body)return null;if((e=null!==(n=e.assignedSlot)&&void 0!==n?n:e).parentElement)e=e.parentElement;else{var i=e.getRootNode();e=i instanceof ShadowRoot?i.host:null}return(o?Object.prototype.hasOwnProperty.call(e,t):e&&t in e)?e:r(e,t,o)},o=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,o=new Set;e;)o.add(e),e=r(e,t,n);return o}},93508:function(e,t,n){n.d(t,{j:function(){return a}});var a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return null!==(e=t.activeElement)&&void 0!==e&&null!==(e=e.shadowRoot)&&void 0!==e&&e.activeElement?a(t.activeElement.shadowRoot):t.activeElement}},65863:function(e,t,n){n.d(t,{T:function(){return a},y:function(){return r}});n(54480),n(1455);var a=function(e){requestAnimationFrame(function(){return setTimeout(e,0)})},r=function(){return new Promise(function(e){a(e)})}},83378:function(e,t,n){n.d(t,{i:function(){return h}});n(26847),n(27530),n(44776);var a=n(73742),r=n(24004),o=n(75907),i=n(59048),l=n(7616);n(12066),n(48017);let c,s,u,d=e=>e;const f=["button","ha-list-item"],h=(e,t)=>{var n;return(0,i.dy)(c||(c=d` <div class="header_title"> <ha-icon-button .label="${0}" .path="${0}" dialogAction="close" class="header_button"></ha-icon-button> <span>${0}</span> </div> `),null!==(n=null==e?void 0:e.localize("ui.common.close"))&&void 0!==n?n:"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",t)};class p extends r.M{scrollToPos(e,t){var n;null===(n=this.contentElement)||void 0===n||n.scrollTo(e,t)}renderHeading(){return(0,i.dy)(s||(s=d`<slot name="heading"> ${0} </slot>`),super.renderHeading())}firstUpdated(){var e;super.firstUpdated(),this.suppressDefaultPressSelector=[this.suppressDefaultPressSelector,f].join(", "),this._updateScrolledAttribute(),null===(e=this.contentElement)||void 0===e||e.addEventListener("scroll",this._onScroll,{passive:!0})}disconnectedCallback(){super.disconnectedCallback(),this.contentElement.removeEventListener("scroll",this._onScroll)}_updateScrolledAttribute(){this.contentElement&&this.toggleAttribute("scrolled",0!==this.contentElement.scrollTop)}constructor(...e){super(...e),this._onScroll=()=>{this._updateScrolledAttribute()}}}p.styles=[o.W,(0,i.iv)(u||(u=d`:host([scrolled]) ::slotted(ha-dialog-header){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.mdc-dialog{--mdc-dialog-scroll-divider-color:var(
          --dialog-scroll-divider-color,
          var(--divider-color)
        );z-index:var(--dialog-z-index,8);-webkit-backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));--mdc-dialog-box-shadow:var(--dialog-box-shadow, none);--mdc-typography-headline6-font-weight:var(--ha-font-weight-normal);--mdc-typography-headline6-font-size:1.574rem}.mdc-dialog__actions{justify-content:var(--justify-action-buttons,flex-end);padding:12px 24px max(var(--safe-area-inset-bottom),12px) 24px}.mdc-dialog__actions span:first-child{flex:var(--secondary-action-button-flex,unset)}.mdc-dialog__actions span:nth-child(2){flex:var(--primary-action-button-flex,unset)}.mdc-dialog__container{align-items:var(--vertical-align-dialog,center)}.mdc-dialog__title{padding:24px 24px 0 24px}.mdc-dialog__title:has(span){padding:12px 12px 0}.mdc-dialog__title::before{content:unset}.mdc-dialog .mdc-dialog__content{position:var(--dialog-content-position,relative);padding:var(--dialog-content-padding,24px)}:host([hideactions]) .mdc-dialog .mdc-dialog__content{padding-bottom:max(var(--dialog-content-padding,24px),var(--safe-area-inset-bottom))}.mdc-dialog .mdc-dialog__surface{position:var(--dialog-surface-position,relative);top:var(--dialog-surface-top);margin-top:var(--dialog-surface-margin-top);min-height:var(--mdc-dialog-min-height,auto);border-radius:var(--ha-dialog-border-radius,28px);-webkit-backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);background:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff))}:host([flexContent]) .mdc-dialog .mdc-dialog__content{display:flex;flex-direction:column}.header_title{display:flex;align-items:center;direction:var(--direction)}.header_title span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;padding-left:4px}.header_button{text-decoration:none;color:inherit;inset-inline-start:initial;inset-inline-end:-12px;direction:var(--direction)}.dialog-actions{inset-inline-start:initial!important;inset-inline-end:0px!important;direction:var(--direction)}`))],p=(0,a.__decorate)([(0,l.Mo)("ha-dialog")],p)},87979:function(e,t,n){n.d(t,{u:function(){return j}});var a,r,o,i,l,c,s,u,d,f=n(74904),h=n(10354),p=n(54982),v=n(29694),m=n(75706),g=n(75778),b=n(54521),_=n(4490),y=n(20129),k=n(85297),w=n(53389),x=(n(12212),n(26847),n(24819),n(81738),n(22960),n(6989),n(87799),n(48454),n(54480),n(1455),n(48694),n(67398),n(27530),n(73742)),Z=n(59048),E=n(7616),L=n(2595),C=n(39884),T=(n(12942),n(52658),{boolean:function(){return Promise.all([n.e("55540"),n.e("99979")]).then(n.bind(n,87925))},constant:function(){return n.e("11303").then(n.bind(n,29815))},float:function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("53390")]).then(n.bind(n,93358))},grid:function(){return n.e("45691").then(n.bind(n,767))},expandable:function(){return n.e("8397").then(n.bind(n,77691))},integer:function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("97103"),n.e("60986"),n.e("91789"),n.e("55540"),n.e("21351"),n.e("49713"),n.e("460")]).then(n.bind(n,88375))},multi_select:function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("97103"),n.e("60986"),n.e("15486"),n.e("72999"),n.e("98831"),n.e("99028"),n.e("91789"),n.e("55540"),n.e("79576"),n.e("81997"),n.e("3198")]).then(n.bind(n,90915))},positive_time_period_dict:function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("15486"),n.e("72999"),n.e("86689"),n.e("98831"),n.e("99028"),n.e("7850"),n.e("84055")]).then(n.bind(n,15542))},select:function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("97103"),n.e("60986"),n.e("15486"),n.e("72999"),n.e("86689"),n.e("11730"),n.e("98831"),n.e("99028"),n.e("7850"),n.e("91789"),n.e("55540"),n.e("20278"),n.e("42382"),n.e("75327"),n.e("16376"),n.e("1020"),n.e("64409")]).then(n.bind(n,97300))},string:function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("46816")]).then(n.bind(n,73620))},optional_actions:function(){return Promise.all([n.e("72999"),n.e("91517")]).then(n.bind(n,39804))}}),S=function(e,t){return e?!t.name||t.flatten?e:e[t.name]:null},j=function(e){function t(){var e;(0,b.Z)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=(0,y.Z)(this,t,[].concat(a))).narrow=!1,e.disabled=!1,e}return(0,k.Z)(t,e),(0,_.Z)(t,[{key:"getFormProperties",value:function(){return{}}},{key:"focus",value:(n=(0,g.Z)((0,v.Z)().m(function e(){var t,n,a,r,o;return(0,v.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:if(t=this.renderRoot.querySelector(".root")){e.n=2;break}return e.a(2);case 2:n=(0,m.Z)(t.children),e.p=3,n.s();case 4:if((a=n.n()).done){e.n=7;break}if("HA-ALERT"===(r=a.value).tagName){e.n=6;break}if(!(r instanceof Z.fl)){e.n=5;break}return e.n=5,r.updateComplete;case 5:return r.focus(),e.a(3,7);case 6:e.n=4;break;case 7:e.n=9;break;case 8:e.p=8,o=e.v,n.e(o);case 9:return e.p=9,n.f(),e.f(9);case 10:return e.a(2)}},e,this,[[3,8,9,10]])})),function(){return n.apply(this,arguments)})},{key:"willUpdate",value:function(e){e.has("schema")&&this.schema&&this.schema.forEach(function(e){var t;"selector"in e||null===(t=T[e.type])||void 0===t||t.call(T)})}},{key:"render",value:function(){var e=this;return(0,Z.dy)(a||(a=(0,p.Z)([' <div class="root" part="root"> '," "," </div> "])),this.error&&this.error.base?(0,Z.dy)(r||(r=(0,p.Z)([' <ha-alert alert-type="error"> '," </ha-alert> "])),this._computeError(this.error.base,this.schema)):"",this.schema.map(function(t){var n,a=function(e,t){return e&&t.name?e[t.name]:null}(e.error,t),r=function(e,t){return e&&t.name?e[t.name]:null}(e.warning,t);return(0,Z.dy)(o||(o=(0,p.Z)([" "," "," "])),a?(0,Z.dy)(i||(i=(0,p.Z)([' <ha-alert own-margin alert-type="error"> '," </ha-alert> "])),e._computeError(a,t)):r?(0,Z.dy)(l||(l=(0,p.Z)([' <ha-alert own-margin alert-type="warning"> '," </ha-alert> "])),e._computeWarning(r,t)):"","selector"in t?(0,Z.dy)(c||(c=(0,p.Z)(['<ha-selector .schema="','" .hass="','" .narrow="','" .name="','" .selector="','" .value="','" .label="','" .disabled="','" .placeholder="','" .helper="','" .localizeValue="','" .required="','" .context="','"></ha-selector>'])),t,e.hass,e.narrow,t.name,t.selector,S(e.data,t),e._computeLabel(t,e.data),t.disabled||e.disabled||!1,t.required?"":t.default,e._computeHelper(t),e.localizeValue,t.required||!1,e._generateContext(t)):(0,L.h)(e.fieldElementName(t.type),Object.assign({schema:t,data:S(e.data,t),label:e._computeLabel(t,e.data),helper:e._computeHelper(t),disabled:e.disabled||t.disabled||!1,hass:e.hass,localize:null===(n=e.hass)||void 0===n?void 0:n.localize,computeLabel:e.computeLabel,computeHelper:e.computeHelper,localizeValue:e.localizeValue,context:e._generateContext(t)},e.getFormProperties())))}))}},{key:"fieldElementName",value:function(e){return"ha-form-".concat(e)}},{key:"_generateContext",value:function(e){if(e.context){for(var t={},n=0,a=Object.entries(e.context);n<a.length;n++){var r=(0,h.Z)(a[n],2),o=r[0],i=r[1];t[o]=this.data[i]}return t}}},{key:"createRenderRoot",value:function(){var e=(0,w.Z)(t,"createRenderRoot",this,3)([]);return this.addValueChangedListener(e),e}},{key:"addValueChangedListener",value:function(e){var t=this;e.addEventListener("value-changed",function(e){e.stopPropagation();var n=e.target.schema;if(e.target!==t){var a=!n.name||"flatten"in n&&n.flatten?e.detail.value:(0,f.Z)({},n.name,e.detail.value);t.data=Object.assign(Object.assign({},t.data),a),(0,C.B)(t,"value-changed",{value:t.data})}})}},{key:"_computeLabel",value:function(e,t){return this.computeLabel?this.computeLabel(e,t):e?e.name:""}},{key:"_computeHelper",value:function(e){return this.computeHelper?this.computeHelper(e):""}},{key:"_computeError",value:function(e,t){var n=this;return Array.isArray(e)?(0,Z.dy)(s||(s=(0,p.Z)(["<ul> "," </ul>"])),e.map(function(e){return(0,Z.dy)(u||(u=(0,p.Z)(["<li> "," </li>"])),n.computeError?n.computeError(e,t):e)})):this.computeError?this.computeError(e,t):e}},{key:"_computeWarning",value:function(e,t){return this.computeWarning?this.computeWarning(e,t):e}}]);var n}(Z.oi);j.styles=(0,Z.iv)(d||(d=(0,p.Z)([".root>*{display:block}.root>:not([own-margin]):not(:last-child){margin-bottom:24px}ha-alert[own-margin]{margin-bottom:4px}"]))),(0,x.__decorate)([(0,E.Cb)({attribute:!1})],j.prototype,"hass",void 0),(0,x.__decorate)([(0,E.Cb)({type:Boolean})],j.prototype,"narrow",void 0),(0,x.__decorate)([(0,E.Cb)({attribute:!1})],j.prototype,"data",void 0),(0,x.__decorate)([(0,E.Cb)({attribute:!1})],j.prototype,"schema",void 0),(0,x.__decorate)([(0,E.Cb)({attribute:!1})],j.prototype,"error",void 0),(0,x.__decorate)([(0,E.Cb)({attribute:!1})],j.prototype,"warning",void 0),(0,x.__decorate)([(0,E.Cb)({type:Boolean})],j.prototype,"disabled",void 0),(0,x.__decorate)([(0,E.Cb)({attribute:!1})],j.prototype,"computeError",void 0),(0,x.__decorate)([(0,E.Cb)({attribute:!1})],j.prototype,"computeWarning",void 0),(0,x.__decorate)([(0,E.Cb)({attribute:!1})],j.prototype,"computeLabel",void 0),(0,x.__decorate)([(0,E.Cb)({attribute:!1})],j.prototype,"computeHelper",void 0),(0,x.__decorate)([(0,E.Cb)({attribute:!1})],j.prototype,"localizeValue",void 0),j=(0,x.__decorate)([(0,E.Mo)("ha-form")],j)},97903:function(e,t,n){if(n.d(t,{q:function(){return l}}),66977!=n.j)var a=n(5657);if(66977!=n.j)var r=n(87639);var o=function(e){return e.sendMessagePromise({type:"config/device_registry/list"})},i=function(e,t){return e.subscribeEvents((0,r.D)(function(){return o(e).then(function(e){return t.setState(e,!0)})},500,!0),"device_registry_updated")},l=function(e,t){return(0,a.B)("_dr",o,i,e,t)}},71765:function(e,t,n){n.r(t),n.d(t,{DialogForm:function(){return b}});var a,r,o=n(54982),i=n(29694),l=n(75778),c=n(54521),s=n(4490),u=n(20129),d=n(85297),f=(n(12212),n(73742)),h=n(59048),p=n(7616),v=n(39884),m=(n(72953),n(83378)),g=(n(87979),n(95814)),b=function(e){function t(){var e;(0,c.Z)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=(0,u.Z)(this,t,[].concat(a)))._data={},e}return(0,d.Z)(t,e),(0,s.Z)(t,[{key:"showDialog",value:(n=(0,l.Z)((0,i.Z)().m(function e(t){return(0,i.Z)().w(function(e){for(;;)switch(e.n){case 0:this._params=t,this._data=t.data||{};case 1:return e.a(2)}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"closeDialog",value:function(){return this._params=void 0,this._data={},(0,v.B)(this,"dialog-closed",{dialog:this.localName}),!0}},{key:"_submit",value:function(){var e,t;null===(e=this._params)||void 0===e||null===(t=e.submit)||void 0===t||t.call(e,this._data),this.closeDialog()}},{key:"_cancel",value:function(){var e,t;null===(e=this._params)||void 0===e||null===(t=e.cancel)||void 0===t||t.call(e),this.closeDialog()}},{key:"_valueChanged",value:function(e){this._data=e.detail.value}},{key:"render",value:function(){return this._params&&this.hass?(0,h.dy)(a||(a=(0,o.Z)([' <ha-dialog open scrimClickAction escapeKeyAction .heading="','" @closed="','"> <ha-form dialogInitialFocus .hass="','" .computeLabel="','" .computeHelper="','" .data="','" .schema="','" @value-changed="','"> </ha-form> <ha-button @click="','" slot="secondaryAction"> ',' </ha-button> <ha-button @click="','" slot="primaryAction"> '," </ha-button> </ha-dialog> "])),(0,m.i)(this.hass,this._params.title),this._cancel,this.hass,this._params.computeLabel,this._params.computeHelper,this._data,this._params.schema,this._valueChanged,this._cancel,this._params.cancelText||this.hass.localize("ui.common.cancel"),this._submit,this._params.submitText||this.hass.localize("ui.common.save")):h.Ld}}]);var n}(h.oi);b.styles=[g.yu,(0,h.iv)(r||(r=(0,o.Z)([""])))],(0,f.__decorate)([(0,p.Cb)({attribute:!1})],b.prototype,"hass",void 0),(0,f.__decorate)([(0,p.SB)()],b.prototype,"_params",void 0),(0,f.__decorate)([(0,p.SB)()],b.prototype,"_data",void 0),b=(0,f.__decorate)([(0,p.Mo)("dialog-form")],b)},12066:function(e,t,n){n.d(t,{L$:function(){return b},lD:function(){return k},ts:function(){return _},vC:function(){return m}});var a=n(75706),r=n(29694),o=n(75778),i=(n(14487),n(2394),n(13571),n(87799),n(54480),n(1455),n(83054)),l=n(1206);if(66977!=n.j)var c=n(93508);var s,u,d,f=n(65863),h={},p=[],v=Symbol.for("HA focus target"),m=66977!=n.j?(s=(0,o.Z)((0,r.Z)().m(function e(t,n,a,o,s){var u,d,f,g,b,_,k,x=arguments;return(0,r.Z)().w(function(e){for(;;)switch(e.n){case 0:if(u=!(x.length>5&&void 0!==x[5])||x[5],a in h){e.n=2;break}if(s){e.n=1;break}return e.a(2,!1);case 1:h[a]={element:s().then(function(){var e=document.createElement(a);return t.provideHass(e),e.addEventListener("dialog-closed",y),e.addEventListener("dialog-closed",w),e})};case 2:if(!u){e.n=5;break}if(g=i.E.history,null===(d=g.state)||void 0===d||!d.dialog||p.length){e.n=4;break}return e.n=3,new Promise(function(e){setTimeout(e)});case 3:return e.a(2,m(t,n,a,o,s,u));case 4:-1!==(b=p.findIndex(function(e){return e.dialogTag===a}))&&p.splice(b,1),p.push({element:t,root:n,dialogTag:a,dialogParams:o,dialogImport:s,addHistory:u}),_={dialog:a},null!==(f=g.state)&&void 0!==f&&f.dialog?g.replaceState(_,""):(g.replaceState(Object.assign(Object.assign({},g.state),{},{opensDialog:!0}),""),g.pushState(_,""));case 5:return h[a].closedFocusTargets=(0,l.r)((0,c.j)(),v),e.n=6,h[a].element;case 6:return k=e.v,n.appendChild(k),k.showDialog(o),e.a(2,!0)}},e)})),function(e,t,n,a,r){return s.apply(this,arguments)}):null,g=function(){var e=(0,o.Z)((0,r.Z)().m(function e(t){var n;return(0,r.Z)().w(function(e){for(;;)switch(e.n){case 0:if(t in h){e.n=1;break}return e.a(2,!0);case 1:return e.n=2,h[t].element;case 2:if(!(n=e.v).closeDialog){e.n=3;break}return e.a(2,!1!==n.closeDialog());case 3:return e.a(2,!0)}},e)}));return function(t){return e.apply(this,arguments)}}(),b=66977!=n.j?(u=(0,o.Z)((0,r.Z)().m(function e(){var t,n,a;return(0,r.Z)().w(function(e){for(;;)switch(e.n){case 0:if(!p.length){e.n=2;break}return n=p.pop(),e.n=1,g(n.dialogTag);case 1:return(a=e.v)||p.push(n),p.length&&null!==(t=i.E.history.state)&&void 0!==t&&t.opensDialog&&i.E.history.pushState({dialog:p[p.length-1].dialogTag},""),e.a(2,a);case 2:return e.a(2,!0)}},e)})),function(){return u.apply(this,arguments)}):null,_=function(){var e=(0,o.Z)((0,r.Z)().m(function e(){var t,n;return(0,r.Z)().w(function(e){for(;;)switch(e.n){case 0:t=p.length-1;case 1:if(!(t>=0)){e.n=5;break}if(n=!p[t]){e.n=3;break}return e.n=2,g(p[t].dialogTag);case 2:n=e.v;case 3:if(n){e.n=4;break}return e.a(2,!1);case 4:t--,e.n=1;break;case 5:return e.a(2,!0)}},e)}));return function(){return e.apply(this,arguments)}}(),y=function(e){var t,n=p.findIndex(function(t){return t.dialogTag===e.detail.dialog});-1!==n&&p.splice(n,1),(null===(t=i.E.history.state)||void 0===t?void 0:t.dialog)===e.detail.dialog&&(p.length?i.E.history.replaceState({dialog:p[p.length-1].dialogTag},""):-1!==n&&i.E.history.back())},k=function(e,t){e.addEventListener("show-dialog",function(n){var a=n.detail,r=a.dialogTag,o=a.dialogImport,i=a.dialogParams,l=a.addHistory;m(e,t,r,i,o,l)})},w=66977!=n.j?(d=(0,o.Z)((0,r.Z)().m(function e(t){var n,o,i,l,s,u;return(0,r.Z)().w(function(e){for(;;)switch(e.n){case 0:if(h[t.detail.dialog]){e.n=1;break}return e.a(2);case 1:if(n=h[t.detail.dialog].closedFocusTargets,delete h[t.detail.dialog].closedFocusTargets,n){e.n=2;break}return e.a(2);case 2:return(o=(0,c.j)())instanceof HTMLElement&&o.blur(),e.n=3,(0,f.y)();case 3:i=(0,a.Z)(n),e.p=4,i.s();case 5:if((l=i.n()).done){e.n=7;break}if(!((s=l.value)instanceof HTMLElement)){e.n=6;break}if(s.focus(),!(o=(0,c.j)())||o===document.body){e.n=6;break}return e.a(2);case 6:e.n=5;break;case 7:e.n=9;break;case 8:e.p=8,u=e.v,i.e(u);case 9:return e.p=9,i.f(),e.f(9);case 10:case 11:return e.a(2)}},e,null,[[4,8,9,10]])})),function(e){return d.apply(this,arguments)}):null},14487:function(e,t,n){var a=n(77341),r=n(15368).findIndex,o=n(84950),i="findIndex",l=!0;i in[]&&Array(1)[i](function(){l=!1}),a({target:"Array",proto:!0,forced:l},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(i)},5657:function(e,t,n){n.d(t,{B:function(){return o},_:function(){return r}});n(40777),n(12212);var a=n(55463),r=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{unsubGrace:!0};if(e[t])return e[t];var i,l,c=0,s=(0,a.M)(),u=function(){if(!n)throw new Error("Collection does not support refresh");return n(e).then(function(e){return s.setState(e,!0)})},d=function(){return u().catch(function(t){if(e.connected)throw t})},f=function(){l=void 0,i&&i.then(function(e){e()}),s.clearState(),e.removeEventListener("ready",u),e.removeEventListener("disconnected",h)},h=function(){l&&(clearTimeout(l),f())};return e[t]={get state(){return s.state},refresh:u,subscribe:function(t){1===++c&&function(){if(void 0!==l)return clearTimeout(l),void(l=void 0);r&&(i=r(e,s)),n&&(e.addEventListener("ready",d),d()),e.addEventListener("disconnected",h)}();var a=s.subscribe(t);return void 0!==s.state&&setTimeout(function(){return t(s.state)},0),function(){a(),--c||(o.unsubGrace?l=setTimeout(f,5e3):f())}}},e[t]},o=function(e,t,n,a,o){return r(a,e,t,n).subscribe(o)}},55463:function(e,t,n){n.d(t,{M:function(){return a}});n(2394),n(87799),n(54480),n(1455);var a=function(e){var t=[];function n(n,a){e=a?n:Object.assign(Object.assign({},e),n);for(var r=t,o=0;o<r.length;o++)r[o](e)}return{get state(){return e},action:function(t){function a(e){n(e,!1)}return function(){for(var n=[e],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=t.apply(this,n);if(null!=o)return o instanceof Promise?o.then(a):a(o)}},setState:n,clearState:function(){e=void 0},subscribe:function(e){return t.push(e),function(){!function(e){for(var n=[],a=0;a<t.length;a++)t[a]===e?e=null:n.push(t[a]);t=n}(e)}}}}}}]);
//# sourceMappingURL=60078.e8a721703a1db053.js.map