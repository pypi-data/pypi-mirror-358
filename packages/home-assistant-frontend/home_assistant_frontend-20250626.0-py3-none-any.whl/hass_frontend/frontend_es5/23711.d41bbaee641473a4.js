(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["23711"],{95962:function(i,e,a){a(81738),a(22960),i.exports=function i(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(a){!e.hasOwnProperty(a)||null===e[a]||"object"!=typeof e[a]&&"function"!=typeof e[a]||Object.isFrozen(e[a])||i(e[a])}),e}},10437:function(i,e,a){"use strict";a.a(i,async function(i,t){try{a.r(e),a.d(e,{HuiDialogSuggestBadge:function(){return A}});var s,n,o,r,d,l,c,h=a(29694),u=a(75778),g=a(54982),f=a(54521),p=a(4490),_=a(20129),v=a(85297),m=(a(12212),a(24819),a(81738),a(6989),a(70822),a(54480),a(73742)),y=a(95962),b=a.n(y),w=a(59048),C=a(7616),x=a(39884),k=(a(43109),a(6514)),Z=a(95814),z=a(74785),j=a(65136),O=a(20434),B=a(71796),D=i([k,j]);[k,j]=D.then?(await D)():D;var A=function(i){function e(){var i;(0,f.Z)(this,e);for(var a=arguments.length,t=new Array(a),s=0;s<a;s++)t[s]=arguments[s];return(i=(0,_.Z)(this,e,[].concat(t)))._saving=!1,i}return(0,v.Z)(e,i),(0,p.Z)(e,[{key:"showDialog",value:function(i){this._params=i,this._badgeConfig=i.badgeConfig,Object.isFrozen(this._badgeConfig)||(this._badgeConfig=b()(this._badgeConfig)),this._yamlEditor&&this._yamlEditor.setValue(this._badgeConfig)}},{key:"closeDialog",value:function(){this._params=void 0,this._badgeConfig=void 0,(0,x.B)(this,"dialog-closed",{dialog:this.localName})}},{key:"_renderPreview",value:function(){var i=this;return this._badgeConfig?(0,w.dy)(s||(s=(0,g.Z)([' <div class="element-preview"> '," </div> "])),this._badgeConfig.map(function(e){return(0,w.dy)(n||(n=(0,g.Z)([' <hui-badge .hass="','" .config="','" preview></hui-badge> '])),i.hass,e)})):w.Ld}},{key:"render",value:function(){return this._params?(0,w.dy)(o||(o=(0,g.Z)([' <ha-dialog open scrimClickAction @closed="','" .heading="','"> <div> '," ",' </div> <mwc-button slot="secondaryAction" @click="','" dialogInitialFocus> '," </mwc-button> "," </ha-dialog> "])),this.closeDialog,this.hass.localize("ui.panel.lovelace.editor.suggest_badge.header"),this._renderPreview(),this._params.yaml&&this._badgeConfig?(0,w.dy)(r||(r=(0,g.Z)([' <div class="editor"> <ha-yaml-editor .hass="','" .defaultValue="','"></ha-yaml-editor> </div> '])),this.hass,this._badgeConfig):w.Ld,this.closeDialog,this._params.yaml?this.hass.localize("ui.common.close"):this.hass.localize("ui.common.cancel"),this._params.yaml?w.Ld:(0,w.dy)(d||(d=(0,g.Z)([' <mwc-button slot="primaryAction" .disabled="','" @click="','"> '," </mwc-button> "])),this._saving,this._save,this._saving?(0,w.dy)(l||(l=(0,g.Z)([' <ha-spinner aria-label="Saving" size="small"></ha-spinner> ']))):this.hass.localize("ui.panel.lovelace.editor.suggest_badge.add"))):w.Ld}},{key:"_computeNewConfig",value:function(i,e){var a=(0,B.jb)(e).viewIndex,t=this._badgeConfig;return(0,O.xy)(i,[a],t)}},{key:"_save",value:(a=(0,u.Z)((0,h.Z)().m(function i(){var e,a,t,s;return(0,h.Z)().w(function(i){for(;;)switch(i.n){case 0:if(null!==(e=this._params)&&void 0!==e&&e.lovelaceConfig&&null!==(a=this._params)&&void 0!==a&&a.path&&null!==(t=this._params)&&void 0!==t&&t.saveConfig&&this._badgeConfig){i.n=1;break}return i.a(2);case 1:return this._saving=!0,s=this._computeNewConfig(this._params.lovelaceConfig,this._params.path),i.n=2,this._params.saveConfig(s);case 2:this._saving=!1,(0,z.f)(this,this.hass),this.closeDialog();case 3:return i.a(2)}},i,this)})),function(){return a.apply(this,arguments)})}],[{key:"styles",get:function(){return[Z.yu,(0,w.iv)(c||(c=(0,g.Z)(["@media all and (max-width:450px),all and (max-height:500px){ha-dialog{max-height:100%;height:100%}}@media all and (min-width:850px){ha-dialog{width:845px}}ha-dialog{max-width:845px;--dialog-z-index:6}.hidden{display:none}.element-preview{position:relative;display:flex;align-items:flex-start;flex-wrap:wrap;justify-content:center;gap:8px;margin:0}.editor{padding-top:16px}"])))]}}]);var a}(w.oi);(0,m.__decorate)([(0,C.Cb)({attribute:!1})],A.prototype,"hass",void 0),(0,m.__decorate)([(0,C.SB)()],A.prototype,"_params",void 0),(0,m.__decorate)([(0,C.SB)()],A.prototype,"_badgeConfig",void 0),(0,m.__decorate)([(0,C.SB)()],A.prototype,"_saving",void 0),(0,m.__decorate)([(0,C.IO)("ha-yaml-editor")],A.prototype,"_yamlEditor",void 0),A=(0,m.__decorate)([(0,C.Mo)("hui-dialog-suggest-badge")],A),t()}catch(F){t(F)}})},74785:function(i,e,a){"use strict";a.d(e,{f:function(){return s}});var t=a(35982),s=function(i,e){return(0,t.C)(i,{message:e.localize("ui.common.successfully_saved")})}},70822:function(i,e,a){"use strict";var t=a(77341),s=a(81455),n=a(86840),o=a(32185),r=a(30426),d=Object.isFrozen;t({target:"Object",stat:!0,forced:r||s(function(){d(1)})},{isFrozen:function(i){return!n(i)||(!(!r||"ArrayBuffer"!==o(i))||!!d&&d(i))}})}}]);
//# sourceMappingURL=23711.d41bbaee641473a4.js.map