"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["14809"],{54731:function(e,t,i){i.d(t,{z:function(){return a}});i(39710),i(56389);var a=function(e){return function(t,i){return e.includes(t,i)}}},6219:function(e,t,i){i.d(t,{N:function(){return n}});var a=i(44272);const n=e=>(0,a.M)(e.entity_id)},51574:function(e,t,i){i.d(t,{U:function(){return a},W:function(){return n}});const a=(e,t)=>{const i=t.entities[e.entity_id];return i?n(i,t):{entity:null,device:null,area:null,floor:null}},n=(e,t)=>{const i=t.entities[e.entity_id],a=null==e?void 0:e.device_id,n=a?t.devices[a]:void 0,r=(null==e?void 0:e.area_id)||(null==n?void 0:n.area_id),s=r?t.areas[r]:void 0,o=null==s?void 0:s.floor_id;return{entity:i,device:n||null,area:s||null,floor:(o?t.floors[o]:void 0)||null}}},36590:function(e,t,i){i.d(t,{e:function(){return a}});const a=(e,t)=>n(e.attributes,t),n=(e,t)=>0!==(e.supported_features&t)},7334:function(e,t,i){i.d(t,{T:function(){return n}});i(64455),i(32192);var a=/^(\w+)\.(\w+)$/,n=function(e){return a.test(e)}},28598:function(e,t,i){i.a(e,async function(e,a){try{i.d(t,{SL:function(){return c},l4:function(){return h},sJ:function(){return l},uf:function(){return u}});var n=i(62229),r=(i(39710),i(87799),i(56303),i(56389),i(38763)),s=i(98249),o=e([n]);n=(o.then?(await o)():o)[0];const c=e=>l(e.attributes),l=(e,t)=>!!e.unit_of_measurement||!!e.state_class||(t||[]).includes(e.device_class||""),d=e=>{switch(e.number_format){case r.y4.comma_decimal:return["en-US","en"];case r.y4.decimal_comma:return["de","es","it"];case r.y4.space_comma:return["fr","sv","cs"];case r.y4.system:return;default:return e.language}},u=(e,t,i)=>{const a=t?d(t):void 0;return Number.isNaN=Number.isNaN||function e(t){return"number"==typeof t&&e(t)},(null==t?void 0:t.number_format)===r.y4.none||Number.isNaN(Number(e))?Number.isNaN(Number(e))||""===e||(null==t?void 0:t.number_format)!==r.y4.none?"string"==typeof e?e:`${(0,s.N)(e,null==i?void 0:i.maximumFractionDigits).toString()}${"currency"===(null==i?void 0:i.style)?` ${i.currency}`:""}`:new Intl.NumberFormat("en-US",f(e,Object.assign(Object.assign({},i),{},{useGrouping:!1}))).format(Number(e)):new Intl.NumberFormat(a,f(e,i)).format(Number(e))},h=(e,t)=>{var i;const a=null==t?void 0:t.display_precision;return null!=a?{maximumFractionDigits:a,minimumFractionDigits:a}:Number.isInteger(Number(null==e||null===(i=e.attributes)||void 0===i?void 0:i.step))&&Number.isInteger(Number(null==e?void 0:e.state))?{maximumFractionDigits:0}:void 0},f=(e,t)=>{const i=Object.assign({maximumFractionDigits:2},t);if("string"!=typeof e)return i;if(!t||void 0===t.minimumFractionDigits&&void 0===t.maximumFractionDigits){const t=e.indexOf(".")>-1?e.split(".")[1].length:0;i.minimumFractionDigits=t,i.maximumFractionDigits=t}return i};a()}catch(c){a(c)}})},98249:function(e,t,i){i.d(t,{N:function(){return a}});var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}},54720:function(e,t,i){i.a(e,async function(e,t){try{var a,n,r,s,o=i(29694),c=i(75778),l=i(54982),d=i(42385),u=i(54521),h=i(4490),f=i(20129),p=i(85297),_=(i(12212),i(25518),i(39710),i(24819),i(81738),i(94814),i(6989),i(54480),i(56389),i(73742)),m=i(59048),v=i(7616),b=i(28105),g=i(39884),y=i(7334),w=i(55228),k=e([w]);w=(k.then?(await k)():k)[0];var x=function(e){function t(){var e;(0,u.Z)(this,t);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=(0,f.Z)(this,t,[].concat(a))).disabled=!1,e.required=!1,e._excludeEntities=(0,b.Z)(function(e,t){return void 0===e?t:[].concat((0,d.Z)(t||[]),(0,d.Z)(e))}),e}return(0,p.Z)(t,e),(0,h.Z)(t,[{key:"render",value:function(){var e=this;if(!this.hass)return m.Ld;var t=this._currentEntities;return(0,m.dy)(a||(a=(0,l.Z)([" "," ",' <div> <ha-entity-picker allow-custom-entity .hass="','" .includeDomains="','" .excludeDomains="','" .includeEntities="','" .excludeEntities="','" .includeDeviceClasses="','" .includeUnitOfMeasurement="','" .entityFilter="','" .placeholder="','" .helper="','" .disabled="','" .createDomains="','" .required="','" @value-changed="','"></ha-entity-picker> </div> '])),this.label?(0,m.dy)(n||(n=(0,l.Z)(["<label>","</label>"])),this.label):m.Ld,t.map(function(t){return(0,m.dy)(r||(r=(0,l.Z)([' <div> <ha-entity-picker allow-custom-entity .curValue="','" .hass="','" .includeDomains="','" .excludeDomains="','" .includeEntities="','" .excludeEntities="','" .includeDeviceClasses="','" .includeUnitOfMeasurement="','" .entityFilter="','" .value="','" .disabled="','" .createDomains="','" @value-changed="','"></ha-entity-picker> </div> '])),t,e.hass,e.includeDomains,e.excludeDomains,e.includeEntities,e.excludeEntities,e.includeDeviceClasses,e.includeUnitOfMeasurement,e.entityFilter,t,e.disabled,e.createDomains,e._entityChanged)}),this.hass,this.includeDomains,this.excludeDomains,this.includeEntities,this._excludeEntities(this.value,this.excludeEntities),this.includeDeviceClasses,this.includeUnitOfMeasurement,this.entityFilter,this.placeholder,this.helper,this.disabled,this.createDomains,this.required&&!t.length,this._addEntity)}},{key:"_currentEntities",get:function(){return this.value||[]}},{key:"_updateEntities",value:(s=(0,c.Z)((0,o.Z)().m(function e(t){return(0,o.Z)().w(function(e){for(;;)switch(e.n){case 0:this.value=t,(0,g.B)(this,"value-changed",{value:t});case 1:return e.a(2)}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"_entityChanged",value:function(e){e.stopPropagation();var t=e.currentTarget.curValue,i=e.detail.value;if(i!==t&&(void 0===i||(0,y.T)(i))){var a=this._currentEntities;i&&!a.includes(i)?this._updateEntities(a.map(function(e){return e===t?i:e})):this._updateEntities(a.filter(function(e){return e!==t}))}}},{key:"_addEntity",value:(i=(0,c.Z)((0,o.Z)().m(function e(t){var i,a;return(0,o.Z)().w(function(e){for(;;)switch(e.n){case 0:if(t.stopPropagation(),i=t.detail.value){e.n=1;break}return e.a(2);case 1:if(t.currentTarget.value="",i){e.n=2;break}return e.a(2);case 2:if(!(a=this._currentEntities).includes(i)){e.n=3;break}return e.a(2);case 3:this._updateEntities([].concat((0,d.Z)(a),[i]));case 4:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})}]);var i,s}(m.oi);x.styles=(0,m.iv)(s||(s=(0,l.Z)(["div{margin-top:8px}label{display:block;margin:0 0 8px}"]))),(0,_.__decorate)([(0,v.Cb)({attribute:!1})],x.prototype,"hass",void 0),(0,_.__decorate)([(0,v.Cb)({type:Array})],x.prototype,"value",void 0),(0,_.__decorate)([(0,v.Cb)({type:Boolean})],x.prototype,"disabled",void 0),(0,_.__decorate)([(0,v.Cb)({type:Boolean})],x.prototype,"required",void 0),(0,_.__decorate)([(0,v.Cb)()],x.prototype,"label",void 0),(0,_.__decorate)([(0,v.Cb)()],x.prototype,"placeholder",void 0),(0,_.__decorate)([(0,v.Cb)()],x.prototype,"helper",void 0),(0,_.__decorate)([(0,v.Cb)({type:Array,attribute:"include-domains"})],x.prototype,"includeDomains",void 0),(0,_.__decorate)([(0,v.Cb)({type:Array,attribute:"exclude-domains"})],x.prototype,"excludeDomains",void 0),(0,_.__decorate)([(0,v.Cb)({type:Array,attribute:"include-device-classes"})],x.prototype,"includeDeviceClasses",void 0),(0,_.__decorate)([(0,v.Cb)({type:Array,attribute:"include-unit-of-measurement"})],x.prototype,"includeUnitOfMeasurement",void 0),(0,_.__decorate)([(0,v.Cb)({type:Array,attribute:"include-entities"})],x.prototype,"includeEntities",void 0),(0,_.__decorate)([(0,v.Cb)({type:Array,attribute:"exclude-entities"})],x.prototype,"excludeEntities",void 0),(0,_.__decorate)([(0,v.Cb)({attribute:!1})],x.prototype,"entityFilter",void 0),(0,_.__decorate)([(0,v.Cb)({attribute:!1,type:Array})],x.prototype,"createDomains",void 0),x=(0,_.__decorate)([(0,v.Mo)("ha-entities-picker")],x),t()}catch(Z){t(Z)}})},83378:function(e,t,i){i.d(t,{i:function(){return f}});i(26847),i(27530),i(44776);var a=i(73742),n=i(24004),r=i(75907),s=i(59048),o=i(7616);i(12066),i(48017);let c,l,d,u=e=>e;const h=["button","ha-list-item"],f=(e,t)=>{var i;return(0,s.dy)(c||(c=u` <div class="header_title"> <ha-icon-button .label="${0}" .path="${0}" dialogAction="close" class="header_button"></ha-icon-button> <span>${0}</span> </div> `),null!==(i=null==e?void 0:e.localize("ui.common.close"))&&void 0!==i?i:"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",t)};class p extends n.M{scrollToPos(e,t){var i;null===(i=this.contentElement)||void 0===i||i.scrollTo(e,t)}renderHeading(){return(0,s.dy)(l||(l=u`<slot name="heading"> ${0} </slot>`),super.renderHeading())}firstUpdated(){var e;super.firstUpdated(),this.suppressDefaultPressSelector=[this.suppressDefaultPressSelector,h].join(", "),this._updateScrolledAttribute(),null===(e=this.contentElement)||void 0===e||e.addEventListener("scroll",this._onScroll,{passive:!0})}disconnectedCallback(){super.disconnectedCallback(),this.contentElement.removeEventListener("scroll",this._onScroll)}_updateScrolledAttribute(){this.contentElement&&this.toggleAttribute("scrolled",0!==this.contentElement.scrollTop)}constructor(...e){super(...e),this._onScroll=()=>{this._updateScrolledAttribute()}}}p.styles=[r.W,(0,s.iv)(d||(d=u`:host([scrolled]) ::slotted(ha-dialog-header){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.mdc-dialog{--mdc-dialog-scroll-divider-color:var(
          --dialog-scroll-divider-color,
          var(--divider-color)
        );z-index:var(--dialog-z-index,8);-webkit-backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));--mdc-dialog-box-shadow:var(--dialog-box-shadow, none);--mdc-typography-headline6-font-weight:var(--ha-font-weight-normal);--mdc-typography-headline6-font-size:1.574rem}.mdc-dialog__actions{justify-content:var(--justify-action-buttons,flex-end);padding:12px 24px max(var(--safe-area-inset-bottom),12px) 24px}.mdc-dialog__actions span:first-child{flex:var(--secondary-action-button-flex,unset)}.mdc-dialog__actions span:nth-child(2){flex:var(--primary-action-button-flex,unset)}.mdc-dialog__container{align-items:var(--vertical-align-dialog,center)}.mdc-dialog__title{padding:24px 24px 0 24px}.mdc-dialog__title:has(span){padding:12px 12px 0}.mdc-dialog__title::before{content:unset}.mdc-dialog .mdc-dialog__content{position:var(--dialog-content-position,relative);padding:var(--dialog-content-padding,24px)}:host([hideactions]) .mdc-dialog .mdc-dialog__content{padding-bottom:max(var(--dialog-content-padding,24px),var(--safe-area-inset-bottom))}.mdc-dialog .mdc-dialog__surface{position:var(--dialog-surface-position,relative);top:var(--dialog-surface-top);margin-top:var(--dialog-surface-margin-top);min-height:var(--mdc-dialog-min-height,auto);border-radius:var(--ha-dialog-border-radius,28px);-webkit-backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);background:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff))}:host([flexContent]) .mdc-dialog .mdc-dialog__content{display:flex;flex-direction:column}.header_title{display:flex;align-items:center;direction:var(--direction)}.header_title span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;padding-left:4px}.header_button{text-decoration:none;color:inherit;inset-inline-start:initial;inset-inline-end:-12px;direction:var(--direction)}.dialog-actions{inset-inline-start:initial!important;inset-inline-end:0px!important;direction:var(--direction)}`))],p=(0,a.__decorate)([(0,o.Mo)("ha-dialog")],p)},46358:function(e,t,i){i.r(t),i.d(t,{HaIcon:function(){return N}});var a=i(29694),n=i(10354),r=i(75778),s=i(54982),o=i(54521),c=i(4490),l=i(20129),d=i(85297),u=i(53389),h=(i(12212),i(39710),i(26847),i(54480),i(1455),i(56389),i(48694),i(27530),i(73742)),f=i(59048),p=i(7616),_=i(39884),m=i(87639),v=i(19941),b=(i(2394),i(81738),i(22960),i(61522)),g=i(28105),y=i(61036),w=JSON.parse('{"version":"7.4.47","parts":[{"file":"7a7139d465f1f41cb26ab851a17caa21a9331234"},{"start":"account-supervisor-circle-","file":"9561286c4c1021d46b9006596812178190a7cc1c"},{"start":"alpha-r-c","file":"eb466b7087fb2b4d23376ea9bc86693c45c500fa"},{"start":"arrow-decision-o","file":"4b3c01b7e0723b702940c5ac46fb9e555646972b"},{"start":"baby-f","file":"2611401d85450b95ab448ad1d02c1a432b409ed2"},{"start":"battery-hi","file":"89bcd31855b34cd9d31ac693fb073277e74f1f6a"},{"start":"blur-r","file":"373709cd5d7e688c2addc9a6c5d26c2d57c02c48"},{"start":"briefcase-account-","file":"a75956cf812ee90ee4f656274426aafac81e1053"},{"start":"calendar-question-","file":"3253f2529b5ebdd110b411917bacfacb5b7063e6"},{"start":"car-lig","file":"74566af3501ad6ae58ad13a8b6921b3cc2ef879d"},{"start":"cellphone-co","file":"7677f1cfb2dd4f5562a2aa6d3ae43a2e6997b21a"},{"start":"circle-slice-2","file":"70d08c50ec4522dd75d11338db57846588263ee2"},{"start":"cloud-co","file":"141d2bfa55ca4c83f4bae2812a5da59a84fec4ff"},{"start":"cog-s","file":"5a640365f8e47c609005d5e098e0e8104286d120"},{"start":"cookie-l","file":"dd85b8eb8581b176d3acf75d1bd82e61ca1ba2fc"},{"start":"currency-eur-","file":"15362279f4ebfc3620ae55f79d2830ad86d5213e"},{"start":"delete-o","file":"239434ab8df61237277d7599ebe066c55806c274"},{"start":"draw-","file":"5605918a592070803ba2ad05a5aba06263da0d70"},{"start":"emoticon-po","file":"a838cfcec34323946237a9f18e66945f55260f78"},{"start":"fan","file":"effd56103b37a8c7f332e22de8e4d67a69b70db7"},{"start":"file-question-","file":"b2424b50bd465ae192593f1c3d086c5eec893af8"},{"start":"flask-off-","file":"3b76295cde006a18f0301dd98eed8c57e1d5a425"},{"start":"food-s","file":"1c6941474cbeb1755faaaf5771440577f4f1f9c6"},{"start":"gamepad-u","file":"c6efe18db6bc9654ae3540c7dee83218a5450263"},{"start":"google-f","file":"df341afe6ad4437457cf188499cb8d2df8ac7b9e"},{"start":"head-c","file":"282121c9e45ed67f033edcc1eafd279334c00f46"},{"start":"home-pl","file":"27e8e38fc7adcacf2a210802f27d841b49c8c508"},{"start":"inbox-","file":"0f0316ec7b1b7f7ce3eaabce26c9ef619b5a1694"},{"start":"key-v","file":"ea33462be7b953ff1eafc5dac2d166b210685a60"},{"start":"leaf-circle-","file":"33db9bbd66ce48a2db3e987fdbd37fb0482145a4"},{"start":"lock-p","file":"b89e27ed39e9d10c44259362a4b57f3c579d3ec8"},{"start":"message-s","file":"7b5ab5a5cadbe06e3113ec148f044aa701eac53a"},{"start":"moti","file":"01024d78c248d36805b565e343dd98033cc3bcaf"},{"start":"newspaper-variant-o","file":"22a6ec4a4fdd0a7c0acaf805f6127b38723c9189"},{"start":"on","file":"c73d55b412f394e64632e2011a59aa05e5a1f50d"},{"start":"paw-ou","file":"3f669bf26d16752dc4a9ea349492df93a13dcfbf"},{"start":"pigg","file":"0c24edb27eb1c90b6e33fc05f34ef3118fa94256"},{"start":"printer-pos-sy","file":"41a55cda866f90b99a64395c3bb18c14983dcf0a"},{"start":"read","file":"c7ed91552a3a64c9be88c85e807404cf705b7edf"},{"start":"robot-vacuum-variant-o","file":"917d2a35d7268c0ea9ad9ecab2778060e19d90e0"},{"start":"sees","file":"6e82d9861d8fac30102bafa212021b819f303bdb"},{"start":"shoe-f","file":"e2fe7ce02b5472301418cc90a0e631f187b9f238"},{"start":"snowflake-m","file":"a28ba9f5309090c8b49a27ca20ff582a944f6e71"},{"start":"st","file":"7e92d03f095ec27e137b708b879dfd273bd735ab"},{"start":"su","file":"61c74913720f9de59a379bdca37f1d2f0dc1f9db"},{"start":"tag-plus-","file":"8f3184156a4f38549cf4c4fffba73a6a941166ae"},{"start":"timer-a","file":"baab470d11cfb3a3cd3b063ee6503a77d12a80d0"},{"start":"transit-d","file":"8561c0d9b1ac03fab360fd8fe9729c96e8693239"},{"start":"vector-arrange-b","file":"c9a3439257d4bab33d3355f1f2e11842e8171141"},{"start":"water-ou","file":"02dbccfb8ca35f39b99f5a085b095fc1275005a0"},{"start":"webc","file":"57bafd4b97341f4f2ac20a609d023719f23a619c"},{"start":"zip","file":"65ae094e8263236fa50486584a08c03497a38d93"}]}');const k=(0,g.Z)(async()=>{const e=(0,b.MT)("hass-icon-db","mdi-icon-store");{const t=await(0,b.U2)("_version",e);t?t!==w.version&&(await(0,b.ZH)(e),(0,b.t8)("_version",w.version,e)):(0,b.t8)("_version",w.version,e)}return e}),x=["mdi","hass","hassio","hademo"];let Z=[];const C=e=>new Promise((t,i)=>{if(Z.push([e,t,i]),Z.length>1)return;const a=k();(0,y.n)(1e3,(async()=>{(await a)("readonly",e=>{for(const[t,i,a]of Z)(0,b.RV)(e.get(t)).then(e=>i(e)).catch(e=>a(e));Z=[]})})()).catch(e=>{for(const[,,t]of Z)t(e);Z=[]})}),E=e=>{let t;for(const i of w.parts){if(void 0!==i.start&&e<i.start)break;t=i}return t.file};i(993);var S,z,O,A={},I={},D=(0,m.D)(function(){return(async e=>{const t=Object.keys(e),i=await Promise.all(Object.values(e));(await k())("readwrite",a=>{i.forEach((i,n)=>{Object.entries(i).forEach(([e,t])=>{a.put(t,e)}),delete e[t[n]]})})})(I)},2e3),L={},N=function(e){function t(){var e;(0,o.Z)(this,t);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=(0,l.Z)(this,t,[].concat(a)))._legacy=!1,e}return(0,d.Z)(t,e),(0,c.Z)(t,[{key:"willUpdate",value:function(e){(0,u.Z)(t,"willUpdate",this,3)([e]),e.has("icon")&&(this._path=void 0,this._secondaryPath=void 0,this._viewBox=void 0,this._loadIcon())}},{key:"render",value:function(){return this.icon?this._legacy?(0,f.dy)(S||(S=(0,s.Z)([' <iron-icon .icon="','"></iron-icon>'])),this.icon):(0,f.dy)(z||(z=(0,s.Z)(['<ha-svg-icon .path="','" .secondaryPath="','" .viewBox="','"></ha-svg-icon>'])),this._path,this._secondaryPath,this._viewBox):f.Ld}},{key:"_loadIcon",value:(m=(0,r.Z)((0,a.Z)().m(function e(){var t,r,s,o,c,l,d,u,h,f,p,m,b;return(0,a.Z)().w(function(e){for(;;)switch(e.n){case 0:if(this.icon){e.n=1;break}return e.a(2);case 1:if(t=this.icon,r=this.icon.split(":",2),s=(0,n.Z)(r,2),o=s[0],c=s[1],l=c,o&&l){e.n=2;break}return e.a(2);case 2:if(x.includes(o)){e.n=4;break}if(!(d=v.g[o])){e.n=3;break}return d&&"function"==typeof d.getIcon&&this._setCustomPath(d.getIcon(l),t),e.a(2);case 3:return this._legacy=!0,e.a(2);case 4:if(this._legacy=!1,l in A&&((u=A[l]).newName?(h="Icon ".concat(o,":").concat(l," was renamed to ").concat(o,":").concat(u.newName,", please change your config, it will be removed in version ").concat(u.removeIn,"."),l=u.newName):h="Icon ".concat(o,":").concat(l," was removed from MDI, please replace this icon with an other icon in your config, it will be removed in version ").concat(u.removeIn,"."),console.warn(h),(0,_.B)(this,"write_log",{level:"warning",message:h})),!(l in L)){e.n=5;break}return this._path=L[l],e.a(2);case 5:if("home-assistant"!==l){e.n=7;break}return e.n=6,i.e("55742").then(i.bind(i,56730));case 6:return f=e.v.mdiHomeAssistant,this.icon===t&&(this._path=f),L[l]=f,e.a(2);case 7:return e.p=7,e.n=8,C(l);case 8:p=e.v,e.n=10;break;case 9:e.p=9,e.v,p=void 0;case 10:if(!p){e.n=11;break}return this.icon===t&&(this._path=p),L[l]=p,e.a(2);case 11:if(!((m=E(l))in I)){e.n=12;break}return this._setPath(I[m],l,t),e.a(2);case 12:b=fetch("/static/mdi/".concat(m,".json")).then(function(e){return e.json()}),I[m]=b,this._setPath(b,l,t),D();case 13:return e.a(2)}},e,this,[[7,9]])})),function(){return m.apply(this,arguments)})},{key:"_setCustomPath",value:(p=(0,r.Z)((0,a.Z)().m(function e(t,i){var n;return(0,a.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t;case 1:if(n=e.v,this.icon===i){e.n=2;break}return e.a(2);case 2:this._path=n.path,this._secondaryPath=n.secondaryPath,this._viewBox=n.viewBox;case 3:return e.a(2)}},e,this)})),function(e,t){return p.apply(this,arguments)})},{key:"_setPath",value:(h=(0,r.Z)((0,a.Z)().m(function e(t,i,n){var r;return(0,a.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t;case 1:r=e.v,this.icon===n&&(this._path=r[i]),L[i]=r[i];case 2:return e.a(2)}},e,this)})),function(e,t,i){return h.apply(this,arguments)})}]);var h,p,m}(f.oi);N.styles=(0,f.iv)(O||(O=(0,s.Z)([":host{fill:currentcolor}"]))),(0,h.__decorate)([(0,p.Cb)()],N.prototype,"icon",void 0),(0,h.__decorate)([(0,p.SB)()],N.prototype,"_path",void 0),(0,h.__decorate)([(0,p.SB)()],N.prototype,"_secondaryPath",void 0),(0,h.__decorate)([(0,p.SB)()],N.prototype,"_viewBox",void 0),(0,h.__decorate)([(0,p.SB)()],N.prototype,"_legacy",void 0),N=(0,h.__decorate)([(0,p.Mo)("ha-icon")],N)},55245:function(e,t,i){var a,n,r=i(54982),s=i(54521),o=i(4490),c=i(20129),l=i(85297),d=(i(12212),i(73742)),u=i(59048),h=i(7616),f=function(e){function t(){var e;(0,s.Z)(this,t);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=(0,c.Z)(this,t,[].concat(a))).narrow=!1,e.slim=!1,e.threeLine=!1,e.wrapHeading=!1,e}return(0,l.Z)(t,e),(0,o.Z)(t,[{key:"render",value:function(){return(0,u.dy)(a||(a=(0,r.Z)([' <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="','" ?three-line="','"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> '])),!this.threeLine,this.threeLine)}}])}(u.oi);f.styles=(0,u.iv)(n||(n=(0,r.Z)([":host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding-top:8px;padding-bottom:8px;padding-left:0;padding-inline-start:0;padding-right:16px;padding-inline-end:16px;overflow:hidden;display:var(--layout-vertical_-_display,flex);flex-direction:var(--layout-vertical_-_flex-direction,column);justify-content:var(--layout-center-justified_-_justify-content,center);flex:var(--layout-flex_-_flex,1);flex-basis:var(--layout-flex_-_flex-basis,0.000000001px)}.body[three-line]{min-height:88px}:host(:not([wrap-heading])) body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(\n        --mdc-typography-body2-font-family,\n        var(--mdc-typography-font-family, var(--ha-font-family-body))\n      );font-size:var(--mdc-typography-body2-font-size, var(--ha-font-size-s));-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-weight:var(--mdc-typography-body2-font-weight,var(--ha-font-weight-normal));line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(72px - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}:host([slim]),:host([slim]) .content,:host([slim]) ::slotted(ha-switch){padding:0}:host([slim]) .body{min-height:0}"]))),(0,d.__decorate)([(0,h.Cb)({type:Boolean,reflect:!0})],f.prototype,"narrow",void 0),(0,d.__decorate)([(0,h.Cb)({type:Boolean,reflect:!0})],f.prototype,"slim",void 0),(0,d.__decorate)([(0,h.Cb)({type:Boolean,attribute:"three-line"})],f.prototype,"threeLine",void 0),(0,d.__decorate)([(0,h.Cb)({type:Boolean,attribute:"wrap-heading",reflect:!0})],f.prototype,"wrapHeading",void 0),f=(0,d.__decorate)([(0,h.Mo)("ha-settings-row")],f)},73048:function(e,t,i){i.a(e,async function(e,t){try{var a=i(73742),n=i(59048),r=i(7616),s=i(12790),o=i(6219),c=i(29402),l=(i(46358),i(993),e([c]));c=(l.then?(await l)():l)[0];let d,u,h,f,p=e=>e;class _ extends n.oi{render(){var e,t;const i=this.icon||this.stateObj&&(null===(e=this.hass)||void 0===e||null===(e=e.entities[this.stateObj.entity_id])||void 0===e?void 0:e.icon)||(null===(t=this.stateObj)||void 0===t?void 0:t.attributes.icon);if(i)return(0,n.dy)(d||(d=p`<ha-icon .icon="${0}"></ha-icon>`),i);if(!this.stateObj)return n.Ld;if(!this.hass)return this._renderFallback();const a=(0,c.gD)(this.hass,this.stateObj,this.stateValue).then(e=>e?(0,n.dy)(u||(u=p`<ha-icon .icon="${0}"></ha-icon>`),e):this._renderFallback());return(0,n.dy)(h||(h=p`${0}`),(0,s.C)(a))}_renderFallback(){const e=(0,o.N)(this.stateObj);return(0,n.dy)(f||(f=p` <ha-svg-icon .path="${0}"></ha-svg-icon> `),c.Ls[e]||c.Rb)}}(0,a.__decorate)([(0,r.Cb)({attribute:!1})],_.prototype,"hass",void 0),(0,a.__decorate)([(0,r.Cb)({attribute:!1})],_.prototype,"stateObj",void 0),(0,a.__decorate)([(0,r.Cb)({attribute:!1})],_.prototype,"stateValue",void 0),(0,a.__decorate)([(0,r.Cb)()],_.prototype,"icon",void 0),_=(0,a.__decorate)([(0,r.Mo)("ha-state-icon")],_),t()}catch(d){t(d)}})},60673:function(e,t,i){i.d(t,{Cp:function(){return c},TZ:function(){return l},W2:function(){return o},YY:function(){return u},iI:function(){return s},j2:function(){return d},oT:function(){return r}});var a=i(29694),n=i(75778),r=(i(39710),i(24819),i(81738),i(6989),i(21700),i(87799),i(54480),i(1455),i(26086),i(56389),function(e){return e.map(function(e){if("string"!==e.type)return e;switch(e.name){case"username":return Object.assign(Object.assign({},e),{},{autocomplete:"username",autofocus:!0});case"password":return Object.assign(Object.assign({},e),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},e),{},{autocomplete:"one-time-code",autofocus:!0});default:return e}})}),s=function(e,t){return e.callWS({type:"auth/sign_path",path:t})},o=function(){var e=(0,n.Z)((0,a.Z)().m(function e(t,i,n,r){return(0,a.Z)().w(function(e){for(;;)if(0===e.n)return e.a(2,t.callWS({type:"config/auth_provider/homeassistant/create",user_id:i,username:n,password:r}))},e)}));return function(t,i,a,n){return e.apply(this,arguments)}}(),c=function(e,t,i){return e.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:t,new_password:i})},l=function(e,t,i){return e.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:t,password:i})},d=function(e,t,i){return e.callWS({type:"config/auth_provider/homeassistant/admin_change_username",user_id:t,username:i})},u=function(e,t,i){return e.callWS({type:"auth/delete_all_refresh_tokens",token_type:t,delete_current_token:i})}},61447:function(e,t,i){i.d(t,{T9:function(){return m},kU:function(){return l},i4:function(){return f},sF:function(){return o},z9:function(){return Z},nk:function(){return h},Mw:function(){return g},Ch:function(){return u},Lr:function(){return _},jU:function(){return d},Xn:function(){return b},r:function(){return v},B:function(){return w},ou:function(){return x},zj:function(){return k},qW:function(){return c}});i(87799),i(1455),i(44261);var a=i(29694),n=i(75778),r=(i(12212),function(){var e=(0,n.Z)((0,a.Z)().m(function e(t,i,n,r,s){var o,c,l,d,u,h,f=arguments;return(0,a.Z)().w(function(e){for(;;)switch(e.n){case 0:if((o=r[t])||(o=r[t]={}),!(c=o[s])){e.n=1;break}return e.a(2,c);case 1:for(l=f.length,d=new Array(l>5?l-5:0),u=5;u<l;u++)d[u-5]=f[u];return h=n.apply(void 0,[r,s].concat(d)),o[s]=h,h.then(function(){return setTimeout(function(){o[s]=void 0},i)},function(){o[s]=void 0}),e.a(2,h)}},e)}));return function(t,i,a,n,r){return e.apply(this,arguments)}}()),s=i(60673);const o=[1,2,3,4,6,8],c=2,l="hls",d="web_rtc",u=(e,t,i)=>`${e}&width=${t}&height=${i}`,h=e=>`/api/camera_proxy_stream/${e.entity_id}?token=${e.attributes.access_token}`,f=async(e,t,i,a)=>{const n=await r("_cameraTmbUrl",9e3,p,e,t);return u(n,i,a)},p=async(e,t)=>{const i=await(0,s.iI)(e,`/api/camera_proxy/${t}`);return e.hassUrl(i.path)},_=async(e,t,i)=>{const a={type:"camera/stream",entity_id:t};i&&(a.format=i);const n=await e.callWS(a);return n.url=e.hassUrl(n.url),n},m=(e,t,i,a)=>e.connection.subscribeMessage(a,{type:"camera/webrtc/offer",entity_id:t,offer:i}),v=(e,t,i,a)=>e.callWS({type:"camera/webrtc/candidate",entity_id:t,session_id:i,candidate:a}),b=(e,t)=>e.callWS({type:"camera/get_prefs",entity_id:t}),g=(e,t,i)=>e.callWS(Object.assign({type:"camera/update_prefs",entity_id:t},i)),y="media-source://camera/",w=e=>e.startsWith(y),k=e=>e.substring(22),x=async(e,t)=>e.callWS({type:"camera/capabilities",entity_id:t}),Z=async(e,t)=>e.callWS({type:"camera/webrtc/get_client_config",entity_id:t})},19941:function(e,t,i){i.d(t,{g:function(){return s}});var a=window;"customIconsets"in a||(a.customIconsets={});var n=a.customIconsets;const r=window;"customIcons"in r||(r.customIcons={});const s=new Proxy(r.customIcons,{get:(e,t)=>{var i;return null!==(i=e[t])&&void 0!==i?i:n[t]?{getIcon:n[t]}:void 0}})},16230:function(e,t,i){i.d(t,{ON:function(){return s},PX:function(){return o},V_:function(){return c},lz:function(){return r},nZ:function(){return n},rk:function(){return d}});var a=i(54731),n="unavailable",r="unknown",s="on",o="off",c=[n,r],l=[n,r,o],d=(0,a.z)(c);(0,a.z)(l)},58747:function(e,t,i){i.a(e,async function(e,a){try{i.d(t,{EX:function(){return _},Fj:function(){return Z},M$:function(){return C},SO:function(){return m},Sk:function(){return b},TN:function(){return S},UJ:function(){return g},Ym:function(){return E},hF:function(){return v}});var n=i(29694),r=i(75778),s=(i(25518),i(24819),i(18574),i(81738),i(94814),i(6989),i(54480),i(69920),i(1455),i(40141)),o=i(44272),c=i(6219),l=i(36590),d=i(28598),u=i(36221),h=i(72242),f=i(35982),p=e([d]);d=(p.then?(await p)():p)[0];var _=function(e){return e[e.INSTALL=1]="INSTALL",e[e.SPECIFIC_VERSION=2]="SPECIFIC_VERSION",e[e.PROGRESS=4]="PROGRESS",e[e.BACKUP=8]="BACKUP",e[e.RELEASE_NOTES=16]="RELEASE_NOTES",e}({}),m=function(e){return(0,l.e)(e,4)&&null!==e.attributes.update_percentage},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(e.state===s.uo||t&&Boolean(e.attributes.skipped_version))&&(0,l.e)(e,1)},b=function(e){return!!e.attributes.in_progress},g=function(e,t){return e.callWS({type:"update/release_notes",entity_id:t})},y="Home Assistant Core",w="Home Assistant Supervisor",k="Home Assistant Operating System",x=function(e,t){return Object.values(e).filter(function(e){return"update"===(0,c.N)(e)}).sort(function(e,i){return e.attributes.title===y?-3:i.attributes.title===y?3:e.attributes.title===k?-2:i.attributes.title===k?2:e.attributes.title===w?-1:i.attributes.title===w?1:(0,u.fe)(e.attributes.title||e.attributes.friendly_name||"",i.attributes.title||i.attributes.friendly_name||"",t)})},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return x(e).filter(function(e){return v(e,t)})},C=function(){var e=(0,r.Z)((0,n.Z)().m(function e(t,i){var a,r,s;return(0,n.Z)().w(function(e){for(;;)switch(e.n){case 0:if((a=x(i.states,i.locale.language).map(function(e){return e.entity_id})).length){e.n=1;break}return(0,h.showAlertDialog)(t,{title:i.localize("ui.panel.config.updates.no_update_entities.title"),text:i.localize("ui.panel.config.updates.no_update_entities.description"),warning:!0}),e.a(2);case 1:return(0,f.C)(t,{message:i.localize("ui.panel.config.updates.checking_updates")}),r=0,e.n=2,i.connection.subscribeEvents(function(e){"update"===(0,o.M)(e.data.entity_id)&&(r++,(0,f.C)(t,{message:i.localize("ui.panel.config.updates.updates_refreshed",{count:r})}))},"state_changed");case 2:return s=e.v,e.n=3,i.callService("homeassistant","update_entity",{entity_id:a});case 3:return e.n=4,new Promise(function(e){setTimeout(e,15e3)});case 4:s(),0===r&&(0,f.C)(t,{message:i.localize("ui.panel.config.updates.no_new_updates")});case 5:return e.a(2)}},e)}));return function(t,i){return e.apply(this,arguments)}}(),E=function(e,t){var i=e.state,a=e.attributes;if("off"===i)return a.latest_version&&a.skipped_version===a.latest_version?a.latest_version:t.formatEntityState(e);if("on"===i&&b(e))return(0,l.e)(e,4)&&null!==a.update_percentage?t.localize("ui.card.update.installing_with_progress",{progress:(0,d.uf)(a.update_percentage,t.locale,{maximumFractionDigits:a.display_precision,minimumFractionDigits:a.display_precision})}):t.localize("ui.card.update.installing");return t.formatEntityState(e)},S=function(e,t){var i;if("hassio"!==(null===(i=t[e.entity_id])||void 0===i?void 0:i.domain))return"generic";var a=e.attributes.title||"";return a===y?"home_assistant":a===k?"home_assistant_os":a!==w?"addon":"generic"};a()}catch(z){a(z)}})},19331:function(e,t,i){i.d(t,{X:function(){return r},y:function(){return n}});var a=i(54731),n=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],r=(0,a.z)(n)},27278:function(e,t,i){i.a(e,async function(e,a){try{i.r(t);var n,r,s,o,c,l,d,u,h,f,p,_=i(54982),m=i(29694),v=i(75778),b=i(54521),g=i(4490),y=i(20129),w=i(85297),k=(i(12212),i(70021),i(39710),i(87622),i(81738),i(29981),i(72489),i(87799),i(24533),i(54480),i(56389),i(20655),i(73742)),x=i(59048),Z=i(7616),C=i(28105),E=i(54720),S=(i(72953),i(83378)),z=(i(48017),i(28541)),O=(i(55245),i(37492),i(60673)),A=i(99918),I=i(72242),D=i(95814),L=i(42399),N=i(20069),j=i(80954),P=i(39884),B=e([E,z]);[E,z]=B.then?(await B)():B;var T="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",U=["device_tracker"],F={round:!0,quality:.75,aspectRatio:1},M=function(e){function t(){var e;(0,b.Z)(this,t);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=(0,y.Z)(this,t,[].concat(a)))._submitting=!1,e._personExists=!1,e._deviceTrackersAvailable=(0,C.Z)(function(e){return Object.keys(e.states).some(function(e){return"device_tracker"===e.substr(0,e.indexOf("."))})}),e}return(0,w.Z)(t,e),(0,g.Z)(t,[{key:"showDialog",value:(z=(0,v.Z)((0,m.Z)().m(function e(t){var i,a,n=this;return(0,m.Z)().w(function(e){for(;;)switch(e.n){case 0:return this._params=t,this._error=void 0,this._params.entry?(this._personExists=!0,this._name=this._params.entry.name||"",this._userId=this._params.entry.user_id||void 0,this._deviceTrackers=this._params.entry.device_trackers||[],this._picture=this._params.entry.picture||null,this._user=this._userId?this._params.users.find(function(e){return e.id===n._userId}):void 0,this._isAdmin=null===(i=this._user)||void 0===i?void 0:i.group_ids.includes(A.Pb),this._localOnly=null===(a=this._user)||void 0===a?void 0:a.local_only):(this._personExists=!1,this._name="",this._userId=void 0,this._user=void 0,this._isAdmin=void 0,this._localOnly=void 0,this._deviceTrackers=[],this._picture=null),e.n=1,this.updateComplete;case 1:return e.a(2)}},e,this)})),function(e){return z.apply(this,arguments)})},{key:"closeDialog",value:function(){if(!this._personExists&&this._userId){var e,t=null===(e=this._params)||void 0===e?void 0:e.refreshUsers;(0,A.h8)(this.hass,this._userId).then(function(){null==t||t()}),this._userId=void 0}return this._params=void 0,(0,P.B)(this,"dialog-closed",{dialog:this.localName}),!0}},{key:"render",value:function(){var e;if(!this._params)return x.Ld;var t=""===this._name.trim();return(0,x.dy)(n||(n=(0,_.Z)([' <ha-dialog open @closed="','" scrimClickAction escapeKeyAction .heading="','"> <div> ',' <div class="form"> <ha-textfield dialogInitialFocus .value="','" @input="','" label="','" .validationMessage="','" required></ha-textfield> <ha-picture-upload .hass="','" .value="','" crop select-media .cropOptions="','" @change="','"></ha-picture-upload> <ha-settings-row> <span slot="heading"> ',' </span> <span slot="description"> ',' </span> <ha-switch @change="','" .disabled="','" .checked="','"></ha-switch> </ha-settings-row> '," "," </div> </div> ",' <ha-button slot="primaryAction" @click="','" .disabled="','"> '," </ha-button> </ha-dialog> "])),this.closeDialog,(0,S.i)(this.hass,this._params.entry?this._params.entry.name:this.hass.localize("ui.panel.config.person.detail.new_person")),this._error?(0,x.dy)(r||(r=(0,_.Z)([' <div class="error">',"</div> "])),this._error):"",this._name,this._nameChanged,this.hass.localize("ui.panel.config.person.detail.name"),this.hass.localize("ui.panel.config.person.detail.name_error_msg"),this.hass,this._picture,F,this._pictureChanged,this.hass.localize("ui.panel.config.person.detail.allow_login"),this.hass.localize("ui.panel.config.person.detail.allow_login_description"),this._allowLoginChanged,this._user&&(this._user.id===(null===(e=this.hass.user)||void 0===e?void 0:e.id)||this._user.system_generated||this._user.is_owner),this._userId,this._renderUserFields(),this._deviceTrackersAvailable(this.hass)?(0,x.dy)(s||(s=(0,_.Z)([" <p> ",' </p> <ha-entities-picker .hass="','" .value="','" .includeDomains="','" .pickedEntityLabel="','" .pickEntityLabel="','" @value-changed="','"> </ha-entities-picker> '])),this.hass.localize("ui.panel.config.person.detail.device_tracker_intro"),this.hass,this._deviceTrackers,U,this.hass.localize("ui.panel.config.person.detail.device_tracker_picked"),this.hass.localize("ui.panel.config.person.detail.device_tracker_pick"),this._deviceTrackersChanged):(0,x.dy)(o||(o=(0,_.Z)([" <p> ",' </p> <ul> <li> <a href="','" target="_blank" rel="noreferrer">','</a> </li> <li> <a @click="','" href="/config/integrations"> ',"</a> </li> </ul> "])),this.hass.localize("ui.panel.config.person.detail.no_device_tracker_available_intro"),(0,L.R)(this.hass,"/integrations/#presence-detection"),this.hass.localize("ui.panel.config.person.detail.link_presence_detection_integrations"),this.closeDialog,this.hass.localize("ui.panel.config.person.detail.link_integrations_page")),this._params.entry?(0,x.dy)(c||(c=(0,_.Z)([' <ha-button slot="secondaryAction" class="warning" @click="','" .disabled="','"> '," </ha-button> "])),this._deleteEntry,this._user&&this._user.is_owner||this._submitting,this.hass.localize("ui.panel.config.person.detail.delete")):x.Ld,this._updateEntry,t||this._submitting,this._params.entry?this.hass.localize("ui.panel.config.person.detail.update"):this.hass.localize("ui.panel.config.person.detail.create"))}},{key:"_renderUserFields",value:function(){var e,t,i,a=this._user;return a?(0,x.dy)(l||(l=(0,_.Z)([" "," ",' <ha-settings-row> <span slot="heading"> ',' </span> <span slot="description"> ',' </span> <ha-switch .disabled="','" .checked="','" @change="','"> </ha-switch> </ha-settings-row> <ha-settings-row> <span slot="heading"> ',' </span> <span slot="description"> ',' </span> <ha-switch .disabled="','" .checked="','" @change="','"> </ha-switch> </ha-settings-row> '])),a.system_generated?x.Ld:(0,x.dy)(d||(d=(0,_.Z)([' <ha-settings-row> <span slot="heading"> ',' </span> <span slot="description">',"</span> "," </ha-settings-row> "])),this.hass.localize("ui.panel.config.person.detail.username"),a.username,null!==(e=this.hass.user)&&void 0!==e&&e.is_owner?(0,x.dy)(u||(u=(0,_.Z)([' <ha-icon-button .path="','" @click="','" .label="','"> </ha-icon-button> '])),T,this._changeUsername,this.hass.localize("ui.panel.config.person.detail.change_username")):x.Ld),!a.system_generated&&null!==(t=this.hass.user)&&void 0!==t&&t.is_owner?(0,x.dy)(h||(h=(0,_.Z)([' <ha-settings-row> <span slot="heading"> ',' </span> <span slot="description">************</span> '," </ha-settings-row> "])),this.hass.localize("ui.panel.config.person.detail.password"),null!==(i=this.hass.user)&&void 0!==i&&i.is_owner?(0,x.dy)(f||(f=(0,_.Z)([' <ha-icon-button .path="','" @click="','" .label="','"> </ha-icon-button> '])),T,this._changePassword,this.hass.localize("ui.panel.config.person.detail.change_password")):x.Ld):x.Ld,this.hass.localize("ui.panel.config.person.detail.local_access_only"),this.hass.localize("ui.panel.config.person.detail.local_access_only_description"),a.system_generated,this._localOnly,this._localOnlyChanged,this.hass.localize("ui.panel.config.person.detail.admin"),this.hass.localize("ui.panel.config.person.detail.admin_description"),a.system_generated||a.is_owner,this._isAdmin,this._adminChanged):x.Ld}},{key:"_nameChanged",value:function(e){this._error=void 0,this._name=e.target.value}},{key:"_adminChanged",value:function(e){this._isAdmin=e.target.checked}},{key:"_localOnlyChanged",value:function(e){this._localOnly=e.target.checked}},{key:"_allowLoginChanged",value:(E=(0,v.Z)((0,m.Z)().m(function e(t){var i,a,n=this;return(0,m.Z)().w(function(e){for(;;)switch(e.n){case 0:if(!(i=t.target).checked){e.n=1;break}i.checked=!1,(0,N.G)(this,{userAddedCallback:function(){var e=(0,v.Z)((0,m.Z)().m(function e(t){var a;return(0,m.Z)().w(function(e){for(;;)switch(e.n){case 0:if(!t){e.n=2;break}if(i.checked=!0,!n._params.entry){e.n=1;break}return e.n=1,n._params.updateEntry({user_id:t.id});case 1:null===(a=n._params)||void 0===a||a.refreshUsers(),n._user=t,n._userId=t.id,n._isAdmin=t.group_ids.includes(A.Pb),n._localOnly=t.local_only;case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),name:this._name}),e.n=5;break;case 1:if(!this._userId){e.n=5;break}return e.n=2,(0,I.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.person.detail.confirm_delete_user_title"),text:this.hass.localize("ui.panel.config.person.detail.confirm_delete_user_text",{name:this._name}),confirmText:this.hass.localize("ui.common.delete"),dismissText:this.hass.localize("ui.common.cancel"),destructive:!0});case 2:if(e.v){e.n=3;break}return i.checked=!0,e.a(2);case 3:return e.n=4,(0,A.h8)(this.hass,this._userId);case 4:null===(a=this._params)||void 0===a||a.refreshUsers(),this._userId=void 0,this._user=void 0,this._isAdmin=void 0,this._localOnly=void 0;case 5:return e.a(2)}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"_deviceTrackersChanged",value:function(e){this._error=void 0,this._deviceTrackers=e.detail.value}},{key:"_pictureChanged",value:function(e){this._error=void 0,this._picture=e.target.value}},{key:"_changePassword",value:(Z=(0,v.Z)((0,m.Z)().m(function e(){return(0,m.Z)().w(function(e){for(;;)switch(e.n){case 0:if(this._user){e.n=1;break}return e.a(2);case 1:if(this._user.credentials.find(function(e){return"homeassistant"===e.type})){e.n=2;break}return(0,I.showAlertDialog)(this,{title:"No Home Assistant credentials found."}),e.a(2);case 2:(0,j.o)(this,{userId:this._user.id});case 3:return e.a(2)}},e,this)})),function(){return Z.apply(this,arguments)})},{key:"_changeUsername",value:(k=(0,v.Z)((0,m.Z)().m(function e(){var t,i,a;return(0,m.Z)().w(function(e){for(;;)switch(e.n){case 0:if(this._user){e.n=1;break}return e.a(2);case 1:if(this._user.credentials.find(function(e){return"homeassistant"===e.type})){e.n=2;break}return(0,I.showAlertDialog)(this,{title:"No Home Assistant credentials found."}),e.a(2);case 2:return e.n=3,(0,I.showPromptDialog)(this,{inputLabel:this.hass.localize("ui.panel.config.users.change_username.new_username"),confirmText:this.hass.localize("ui.panel.config.users.change_username.change"),title:this.hass.localize("ui.panel.config.users.change_username.caption"),defaultValue:this._user.username});case 3:if(!(t=e.v)){e.n=7;break}return e.p=4,e.n=5,(0,O.j2)(this.hass,this._user.id,t);case 5:null===(i=this._params)||void 0===i||i.refreshUsers(),this._user=Object.assign(Object.assign({},this._user),{},{username:t}),(0,I.showAlertDialog)(this,{text:this.hass.localize("ui.panel.config.users.change_username.username_changed")}),e.n=7;break;case 6:e.p=6,a=e.v,(0,I.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.users.change_username.failed"),text:a.message});case 7:return e.a(2)}},e,this,[[4,6]])})),function(){return k.apply(this,arguments)})},{key:"_updateEntry",value:(a=(0,v.Z)((0,m.Z)().m(function e(){var t,i,a,n,r,s;return(0,m.Z)().w(function(e){for(;;)switch(e.n){case 0:if(this._submitting=!0,e.p=1,!(this._userId&&this._name!==(null===(t=this._params.entry)||void 0===t?void 0:t.name)||this._isAdmin!==(null===(i=this._user)||void 0===i?void 0:i.group_ids.includes(A.Pb))||this._localOnly!==(null===(a=this._user)||void 0===a?void 0:a.local_only))){e.n=3;break}return e.n=2,(0,A.Nq)(this.hass,this._userId,{name:this._name.trim(),group_ids:[this._isAdmin?A.Pb:A.CE],local_only:this._localOnly});case 2:null===(n=this._params)||void 0===n||n.refreshUsers();case 3:if(r={name:this._name.trim(),device_trackers:this._deviceTrackers,user_id:this._userId||null,picture:this._picture},!this._params.entry){e.n=5;break}return e.n=4,this._params.updateEntry(r);case 4:e.n=7;break;case 5:return e.n=6,this._params.createEntry(r);case 6:this._personExists=!0;case 7:this.closeDialog(),e.n=9;break;case 8:e.p=8,s=e.v,this._error=s?s.message:"Unknown error";case 9:return e.p=9,this._submitting=!1,e.f(9);case 10:return e.a(2)}},e,this,[[1,8,9,10]])})),function(){return a.apply(this,arguments)})},{key:"_deleteEntry",value:(i=(0,v.Z)((0,m.Z)().m(function e(){return(0,m.Z)().w(function(e){for(;;)switch(e.n){case 0:return this._submitting=!0,e.p=1,e.n=2,this._params.removeEntry();case 2:if(!e.v){e.n=3;break}this._params.entry.user_id&&(0,A.h8)(this.hass,this._params.entry.user_id),this.closeDialog();case 3:return e.p=3,this._submitting=!1,e.f(3);case 4:return e.a(2)}},e,this,[[1,,3,4]])})),function(){return i.apply(this,arguments)})}],[{key:"styles",get:function(){return[D.yu,(0,x.iv)(p||(p=(0,_.Z)(["ha-picture-upload,ha-textfield{display:block}ha-picture-upload{margin-bottom:16px;--file-upload-image-border-radius:50%}ha-settings-row{padding:0}a{color:var(--primary-color)}p{color:var(--primary-text-color)}"])))]}}]);var i,a,k,Z,E,z}(x.oi);(0,k.__decorate)([(0,Z.Cb)({attribute:!1})],M.prototype,"hass",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_name",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_userId",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_user",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_isAdmin",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_localOnly",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_deviceTrackers",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_picture",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_error",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_params",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_submitting",void 0),(0,k.__decorate)([(0,Z.SB)()],M.prototype,"_personExists",void 0),customElements.define("dialog-person-detail",M),a()}catch($){a($)}})},20069:function(e,t,i){i.d(t,{G:function(){return r}});i(26847),i(54480),i(1455),i(48694),i(27530);var a=i(39884),n=function(){return i.e("23275").then(i.bind(i,7935))},r=function(e,t){(0,a.B)(e,"show-dialog",{dialogTag:"dialog-add-user",dialogImport:n,dialogParams:t})}},80954:function(e,t,i){i.d(t,{o:function(){return r}});i(26847),i(54480),i(1455),i(48694),i(27530);var a=i(39884),n=function(){return Promise.all([i.e("68858"),i.e("2139")]).then(i.bind(i,54949))},r=function(e,t){(0,a.B)(e,"show-dialog",{dialogTag:"dialog-admin-change-password",dialogImport:n,dialogParams:t})}},56730:function(e,t,i){i.r(t),i.d(t,{mdiHomeAssistant:function(){return a}});const a="m12.151 1.5882c-.3262 0-.6523.1291-.8996.3867l-8.3848 8.7354c-.0619.0644-.1223.1368-.1807.2154-.0588.0789-.1151.1638-.1688.2534-.2593.4325-.4552.9749-.5232 1.4555-.0026.018-.0076.0369-.0094.0548-.0121.0987-.0184.1944-.0184.2857v8.0124a1.2731 1.2731 0 001.2731 1.2731h7.8313l-3.4484-3.593a1.7399 1.7399 0 111.0803-1.125l2.6847 2.7972v-10.248a1.7399 1.7399 0 111.5276-0v7.187l2.6702-2.782a1.7399 1.7399 0 111.0566 1.1505l-3.7269 3.8831v2.7299h8.174a1.2471 1.2471 0 001.2471-1.2471v-8.0375c0-.0912-.0059-.1868-.0184-.2855-.0603-.4935-.2636-1.0617-.5326-1.5105-.0537-.0896-.1101-.1745-.1684-.253-.0588-.079-.1191-.1513-.181-.2158l-8.3848-8.7363c-.2473-.2577-.5735-.3866-.8995-.3864"},83788:function(e,t,i){i.a(e,async function(e,t){try{i(26847),i(54480),i(1455),i(48694),i(27530);"function"!=typeof window.ResizeObserver&&(window.ResizeObserver=(await i.e("89931").then(i.bind(i,11860))).default),t()}catch(a){t(a)}},1)}}]);
//# sourceMappingURL=14809.4cffc5d339018706.js.map