(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["26775"],{7334:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});n(64455),n(32192);var i=/^(\w+)\.(\w+)$/,a=function(e){return i.test(e)}},21682:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});const i=e=>{const t=window.location.pathname;return e?t+"?"+e:t}},81010:function(e,t,n){"use strict";var i,a,r,o=n(54982),s=n(10354),c=n(54521),u=n(4490),l=n(20129),d=n(85297),h=n(53389),p=(n(12212),n(25518),n(24819),n(18574),n(81738),n(94814),n(6989),n(87799),n(48454),n(54480),n(73742)),f=n(59048),v=n(7616),b=n(28105),g=n(39884),m=n(98921),y=n(36221),_=n(80972),w=(n(69760),n(86633),function(e){function t(){var e;(0,c.Z)(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=(0,l.Z)(this,t,[].concat(i))).value="",e.domain="automation",e.disabled=!1,e._processedBlueprints=(0,b.Z)(function(t){return t?Object.entries(t).filter(function(e){return!("error"in e[1])}).map(function(e){var t=(0,s.Z)(e,2),n=t[0],i=t[1];return Object.assign(Object.assign({},i.metadata),{},{path:n})}).sort(function(t,n){return(0,y.$K)(t.name,n.name,e.hass.locale.language)}):[]}),e}return(0,d.Z)(t,e),(0,u.Z)(t,[{key:"open",value:function(){var e,t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("ha-select");t&&(t.menuOpen=!0)}},{key:"render",value:function(){return this.hass?(0,f.dy)(i||(i=(0,o.Z)([' <ha-select .label="','" fixedMenuPosition naturalMenuWidth .value="','" .disabled="','" @selected="','" @closed="','"> '," </ha-select> "])),this.label||this.hass.localize("ui.components.blueprint-picker.select_blueprint"),this.value,this.disabled,this._blueprintChanged,m.U,this._processedBlueprints(this.blueprints).map(function(e){return(0,f.dy)(a||(a=(0,o.Z)([' <ha-list-item .value="','"> '," </ha-list-item> "])),e.path,e.name)})):f.Ld}},{key:"firstUpdated",value:function(e){var n=this;(0,h.Z)(t,"firstUpdated",this,3)([e]),void 0===this.blueprints&&(0,_.wc)(this.hass,this.domain).then(function(e){n.blueprints=e})}},{key:"_blueprintChanged",value:function(e){var t=this,n=e.target.value;n!==this.value&&(this.value=n,setTimeout(function(){(0,g.B)(t,"value-changed",{value:n}),(0,g.B)(t,"change")},0))}}])}(f.oi));w.styles=(0,f.iv)(r||(r=(0,o.Z)([":host{display:inline-block}ha-select{width:100%;min-width:200px;display:block}"]))),(0,p.__decorate)([(0,v.Cb)()],w.prototype,"label",void 0),(0,p.__decorate)([(0,v.Cb)()],w.prototype,"value",void 0),(0,p.__decorate)([(0,v.Cb)()],w.prototype,"domain",void 0),(0,p.__decorate)([(0,v.Cb)({attribute:!1})],w.prototype,"blueprints",void 0),(0,p.__decorate)([(0,v.Cb)({type:Boolean})],w.prototype,"disabled",void 0),w=(0,p.__decorate)([(0,v.Mo)("ha-blueprint-picker")],w)},42946:function(e,t,n){"use strict";var i,a,r,o,s,c=n(75706),u=n(29694),l=n(75778),d=n(10354),h=n(54982),p=n(54521),f=n(4490),v=n(20129),b=n(85297),g=n(53389),m=(n(12212),n(39710),n(26847),n(24819),n(2394),n(81738),n(22960),n(6989),n(48454),n(24533),n(54480),n(1455),n(11353),n(67886),n(65451),n(46015),n(38334),n(94880),n(75643),n(29761),n(56389),n(48694),n(67398),n(27530),n(73742)),y=n(59048),_=n(7616),w=n(39884),k=n(80972),Z=n(2528),x=n(95814),C=(n(93673),n(19515),n(48017),n(64881),n(65829)),L=function(e){function t(){var e;(0,p.Z)(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=(0,v.Z)(this,t,[].concat(i))).narrow=!1,e.expanded=!1,e._shouldRender=!1,e}return(0,b.Z)(t,e),(0,f.Z)(t,[{key:"willUpdate",value:function(e){(0,g.Z)(t,"willUpdate",this,3)([e]),e.has("value")&&!(0,C.v)(this.value,e.get("value"))&&this._findRelated()}},{key:"render",value:function(){var e,t,n=this;return(0,y.dy)(i||(i=(0,h.Z)([' <ha-expansion-panel left-chevron .expanded="','" @expanded-will-change="','" @expanded-changed="','"> <div slot="header" class="header"> '," "," </div> "," </ha-expansion-panel> "])),this.expanded,this._expandedWillChange,this._expandedChanged,this.hass.localize("ui.panel.config.blueprint.caption"),null!==(e=this.value)&&void 0!==e&&e.length?(0,y.dy)(a||(a=(0,h.Z)(['<div class="badge">','</div> <ha-icon-button .path="','" @click="','"></ha-icon-button>'])),null===(t=this.value)||void 0===t?void 0:t.length,"M21 8H3V6H21V8M13.81 16H10V18H13.09C13.21 17.28 13.46 16.61 13.81 16M18 11H6V13H18V11M21.12 15.46L19 17.59L16.88 15.46L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88L21.12 15.46Z",this._clearFilter):y.Ld,this._blueprints&&this._shouldRender?(0,y.dy)(r||(r=(0,h.Z)([' <ha-list @selected="','" multi class="ha-scrollbar"> '," </ha-list> "])),this._blueprintsSelected,Object.entries(this._blueprints).map(function(e){var t=(0,d.Z)(e,2),i=t[0],a=t[1];return"error"in a?y.Ld:(0,y.dy)(o||(o=(0,h.Z)(['<ha-check-list-item .value="','" .selected="','"> '," </ha-check-list-item>"])),i,(n.value||[]).includes(i),a.metadata.name||i)})):y.Ld)}},{key:"firstUpdated",value:(_=(0,l.Z)((0,u.Z)().m(function e(){return(0,u.Z)().w(function(e){for(;;)switch(e.n){case 0:if(this.type){e.n=1;break}return e.a(2);case 1:return e.n=2,(0,k.wc)(this.hass,this.type);case 2:this._blueprints=e.v;case 3:return e.a(2)}},e,this)})),function(){return _.apply(this,arguments)})},{key:"updated",value:function(e){var t=this;e.has("expanded")&&this.expanded&&setTimeout(function(){!t.narrow&&t.expanded&&(t.renderRoot.querySelector("ha-list").style.height="".concat(t.clientHeight-49,"px"))},300)}},{key:"_expandedWillChange",value:function(e){this._shouldRender=e.detail.expanded}},{key:"_expandedChanged",value:function(e){this.expanded=e.detail.expanded}},{key:"_blueprintsSelected",value:(m=(0,l.Z)((0,u.Z)().m(function e(t){var n,i,a,r,o,s;return(0,u.Z)().w(function(e){for(;;)switch(e.n){case 0:if(n=this._blueprints,t.detail.index.size){e.n=1;break}return(0,w.B)(this,"data-table-filter-changed",{value:[],items:void 0}),this.value=[],e.a(2);case 1:i=[],a=(0,c.Z)(t.detail.index);try{for(a.s();!(r=a.n()).done;)o=r.value,s=Object.keys(n)[o],i.push(s)}catch(u){a.e(u)}finally{a.f()}this.value=i;case 2:return e.a(2)}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"_findRelated",value:(n=(0,l.Z)((0,u.Z)().m(function e(){var t,n,i,a,r,o,s,l,d,h;return(0,u.Z)().w(function(e){for(;;)switch(e.n){case 0:if(null!==(t=this.value)&&void 0!==t&&t.length){e.n=1;break}return this.value=[],(0,w.B)(this,"data-table-filter-changed",{value:[],items:void 0}),e.a(2);case 1:n=[],i=(0,c.Z)(this.value);try{for(i.s();!(a=i.n()).done;)r=a.value,this.type&&n.push((0,Z.K)(this.hass,"".concat(this.type,"_blueprint"),r))}catch(u){i.e(u)}finally{i.f()}return e.n=2,Promise.all(n);case 2:o=e.v,s=new Set,l=(0,c.Z)(o);try{for(l.s();!(d=l.n()).done;)(h=d.value)[this.type]&&h[this.type].forEach(function(e){return s.add(e)})}catch(u){l.e(u)}finally{l.f()}(0,w.B)(this,"data-table-filter-changed",{value:this.value,items:this.type?s:void 0});case 3:return e.a(2)}},e,this)})),function(){return n.apply(this,arguments)})},{key:"_clearFilter",value:function(e){e.preventDefault(),this.value=void 0,(0,w.B)(this,"data-table-filter-changed",{value:void 0,items:void 0})}}],[{key:"styles",get:function(){return[x.$c,(0,y.iv)(s||(s=(0,h.Z)([":host{border-bottom:1px solid var(--divider-color)}:host([expanded]){flex:1;height:0}ha-expansion-panel{--ha-card-border-radius:0;--expansion-panel-content-padding:0}.header{display:flex;align-items:center}.header ha-icon-button{margin-inline-start:auto;margin-inline-end:8px}.badge{display:inline-block;margin-left:8px;margin-inline-start:8px;margin-inline-end:0;min-width:16px;box-sizing:border-box;border-radius:50%;font-size:var(--ha-font-size-xs);font-weight:var(--ha-font-weight-normal);background-color:var(--primary-color);line-height:var(--ha-line-height-normal);text-align:center;padding:0px 2px;color:var(--text-primary-color)}"])))]}}]);var n,m,_}(y.oi);(0,m.__decorate)([(0,_.Cb)({attribute:!1})],L.prototype,"hass",void 0),(0,m.__decorate)([(0,_.Cb)({attribute:!1})],L.prototype,"value",void 0),(0,m.__decorate)([(0,_.Cb)()],L.prototype,"type",void 0),(0,m.__decorate)([(0,_.Cb)({type:Boolean})],L.prototype,"narrow",void 0),(0,m.__decorate)([(0,_.Cb)({type:Boolean,reflect:!0})],L.prototype,"expanded",void 0),(0,m.__decorate)([(0,_.SB)()],L.prototype,"_shouldRender",void 0),(0,m.__decorate)([(0,_.SB)()],L.prototype,"_blueprints",void 0),L=(0,m.__decorate)([(0,_.Mo)("ha-filter-blueprints")],L)},5778:function(e,t,n){"use strict";var i,a=n(77528),r=n(29694),o=n(42385),s=n(75778),c=n(54521),u=n(4490),l=n(67063),d=n(20129),h=n(85297),p=n(53389),f=(n(12212),n(25518),n(55204),n(39710),n(26847),n(24819),n(44438),n(69643),n(81738),n(94814),n(6989),n(93190),n(54480),n(1455),n(65640),n(28660),n(64455),n(56303),n(56389),n(48694),n(27530),n(73742)),v=n(59048),b=n(7616),g=n(82040),m=n.n(g),y=n(39884),_=(n(41465),n(34845),n(95729),n(36330),n(38221),n(75863),n(86190)),w=function(){var e=(0,s.Z)((0,r.Z)().m(function e(t,a,o){return(0,r.Z)().w(function(e){for(;;)if(0===e.n)return i||(i=(0,_.Ud)(new Worker(new URL(n.p+n.u("45845"),n.b)))),e.a(2,i.renderMarkdown(t,a,o))},e)}));return function(t,n,i){return e.apply(this,arguments)}}(),k=new(n(28773).L)(1e3),Z={reType:RegExp("(?<input>(\\[!(?<type>caution|important|note|tip|warning)\\])(?:\\s|\\\\n)?)","i"),typeToHaAlert:{caution:"error",important:"info",note:"info",tip:"success",warning:"warning"}},x=function(e){function t(){var e;(0,c.Z)(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=(0,d.Z)(this,t,[].concat(i))).allowSvg=!1,e.allowDataUrl=!1,e.breaks=!1,e.lazyImages=!1,e.cache=!1,e._resize=function(){return(0,y.B)((0,l.Z)(e),"content-resize")},e}return(0,h.Z)(t,e),(0,u.Z)(t,[{key:"disconnectedCallback",value:function(){if((0,p.Z)(t,"disconnectedCallback",this,3)([]),this.cache){var e=this._computeCacheKey();k.set(e,this.innerHTML)}}},{key:"createRenderRoot",value:function(){return this}},{key:"update",value:function(e){(0,p.Z)(t,"update",this,3)([e]),void 0!==this.content&&this._render()}},{key:"willUpdate",value:function(e){if(!this.innerHTML&&this.cache){var t=this._computeCacheKey();k.has(t)&&(this.innerHTML=k.get(t),this._resize())}}},{key:"_computeCacheKey",value:function(){return m()({content:this.content,allowSvg:this.allowSvg,allowDataUrl:this.allowDataUrl,breaks:this.breaks})}},{key:"_render",value:(i=(0,s.Z)((0,r.Z)().m(function e(){var t,i,s=this;return(0,r.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,w(String(this.content),{breaks:this.breaks,gfm:!0},{allowSvg:this.allowSvg,allowDataUrl:this.allowDataUrl});case 1:this.innerHTML=e.v,this._resize(),t=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,null),i=(0,r.Z)().m(function e(){var i,a,c,u,l;return(0,r.Z)().w(function(e){for(;;)switch(e.n){case 0:(i=t.currentNode)instanceof HTMLAnchorElement&&i.host!==document.location.host?(i.target="_blank",i.rel="noreferrer noopener"):i instanceof HTMLImageElement?(s.lazyImages&&(i.loading="lazy"),i.addEventListener("load",s._resize)):i instanceof HTMLQuoteElement?(c=(null===(a=i.firstElementChild)||void 0===a||null===(a=a.firstChild)||void 0===a?void 0:a.textContent)&&Z.reType.exec(i.firstElementChild.firstChild.textContent))&&(u=c.groups.type,(l=document.createElement("ha-alert")).alertType=Z.typeToHaAlert[u.toLowerCase()],l.append.apply(l,(0,o.Z)(Array.from(i.childNodes).map(function(e){var t=Array.from(e.childNodes);if(!s.breaks&&t.length){var n,i=t[0];i.nodeType===Node.TEXT_NODE&&i.textContent===c.input&&null!==(n=i.textContent)&&void 0!==n&&n.includes("\n")&&(i.textContent=i.textContent.split("\n").slice(1).join("\n"))}return t}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return e.textContent&&e.textContent!==c.input}))),t.parentNode().replaceChild(l,i)):i instanceof HTMLElement&&["ha-alert","ha-qr-code","ha-icon","ha-svg-icon"].includes(i.localName)&&n(23265)("./".concat(i.localName));case 1:return e.a(2)}},e)});case 2:if(!t.nextNode()){e.n=4;break}return e.d((0,a.Z)(i()),3);case 3:e.n=2;break;case 4:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})}]);var i}(v.fl);(0,f.__decorate)([(0,b.Cb)()],x.prototype,"content",void 0),(0,f.__decorate)([(0,b.Cb)({attribute:"allow-svg",type:Boolean})],x.prototype,"allowSvg",void 0),(0,f.__decorate)([(0,b.Cb)({attribute:"allow-data-url",type:Boolean})],x.prototype,"allowDataUrl",void 0),(0,f.__decorate)([(0,b.Cb)({type:Boolean})],x.prototype,"breaks",void 0),(0,f.__decorate)([(0,b.Cb)({type:Boolean,attribute:"lazy-images"})],x.prototype,"lazyImages",void 0),(0,f.__decorate)([(0,b.Cb)({type:Boolean})],x.prototype,"cache",void 0),x=(0,f.__decorate)([(0,b.Mo)("ha-markdown-element")],x)},45861:function(e,t,n){"use strict";var i,a,r=n(54982),o=n(54521),s=n(4490),c=n(20129),u=n(85297),l=(n(12212),n(73742)),d=n(59048),h=n(7616),p=(n(5778),function(e){function t(){var e;(0,o.Z)(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=(0,c.Z)(this,t,[].concat(i))).allowSvg=!1,e.allowDataUrl=!1,e.breaks=!1,e.lazyImages=!1,e.cache=!1,e}return(0,u.Z)(t,e),(0,s.Z)(t,[{key:"render",value:function(){return this.content?(0,d.dy)(i||(i=(0,r.Z)(['<ha-markdown-element .content="','" .allowSvg="','" .allowDataUrl="','" .breaks="','" .lazyImages="','" .cache="','"></ha-markdown-element>'])),this.content,this.allowSvg,this.allowDataUrl,this.breaks,this.lazyImages,this.cache):d.Ld}}])}(d.oi));p.styles=(0,d.iv)(a||(a=(0,r.Z)([":host{display:block}ha-markdown-element{-ms-user-select:text;-webkit-user-select:text;-moz-user-select:text}ha-markdown-element>:first-child{margin-top:0}ha-markdown-element>:last-child{margin-bottom:0}ha-alert{display:block;margin:4px 0}a{color:var(--primary-color)}img{max-width:100%}code,pre{background-color:var(--markdown-code-background-color,none);border-radius:3px}svg{background-color:var(--markdown-svg-background-color,none);color:var(--markdown-svg-color,none)}code{font-size:var(--ha-font-size-s);padding:.2em .4em}pre code{padding:0}pre{padding:16px;overflow:auto;line-height:var(--ha-line-height-condensed);font-family:var(--ha-font-family-code)}h1,h2,h3,h4,h5,h6{line-height:initial}h2{font-size:var(--ha-font-size-xl);font-weight:var(--ha-font-weight-bold)}hr{border-color:var(--divider-color);border-bottom:none;margin:16px 0}"]))),(0,l.__decorate)([(0,h.Cb)()],p.prototype,"content",void 0),(0,l.__decorate)([(0,h.Cb)({attribute:"allow-svg",type:Boolean})],p.prototype,"allowSvg",void 0),(0,l.__decorate)([(0,h.Cb)({attribute:"allow-data-url",type:Boolean})],p.prototype,"allowDataUrl",void 0),(0,l.__decorate)([(0,h.Cb)({type:Boolean})],p.prototype,"breaks",void 0),(0,l.__decorate)([(0,h.Cb)({type:Boolean,attribute:"lazy-images"})],p.prototype,"lazyImages",void 0),(0,l.__decorate)([(0,h.Cb)({type:Boolean})],p.prototype,"cache",void 0),p=(0,l.__decorate)([(0,h.Mo)("ha-markdown")],p)},73048:function(e,t,n){"use strict";n.a(e,async function(e,t){try{var i=n(73742),a=n(59048),r=n(7616),o=n(12790),s=n(6219),c=n(29402),u=(n(46358),n(993),e([c]));c=(u.then?(await u)():u)[0];let l,d,h,p,f=e=>e;class v extends a.oi{render(){var e,t;const n=this.icon||this.stateObj&&(null===(e=this.hass)||void 0===e||null===(e=e.entities[this.stateObj.entity_id])||void 0===e?void 0:e.icon)||(null===(t=this.stateObj)||void 0===t?void 0:t.attributes.icon);if(n)return(0,a.dy)(l||(l=f`<ha-icon .icon="${0}"></ha-icon>`),n);if(!this.stateObj)return a.Ld;if(!this.hass)return this._renderFallback();const i=(0,c.gD)(this.hass,this.stateObj,this.stateValue).then(e=>e?(0,a.dy)(d||(d=f`<ha-icon .icon="${0}"></ha-icon>`),e):this._renderFallback());return(0,a.dy)(h||(h=f`${0}`),(0,o.C)(i))}_renderFallback(){const e=(0,s.N)(this.stateObj);return(0,a.dy)(p||(p=f` <ha-svg-icon .path="${0}"></ha-svg-icon> `),c.Ls[e]||c.Rb)}}(0,i.__decorate)([(0,r.Cb)({attribute:!1})],v.prototype,"hass",void 0),(0,i.__decorate)([(0,r.Cb)({attribute:!1})],v.prototype,"stateObj",void 0),(0,i.__decorate)([(0,r.Cb)({attribute:!1})],v.prototype,"stateValue",void 0),(0,i.__decorate)([(0,r.Cb)()],v.prototype,"icon",void 0),v=(0,i.__decorate)([(0,r.Mo)("ha-state-icon")],v),t()}catch(l){t(l)}})},60673:function(e,t,n){"use strict";n.d(t,{Cp:function(){return c},TZ:function(){return u},W2:function(){return s},YY:function(){return d},iI:function(){return o},j2:function(){return l},oT:function(){return r}});var i=n(29694),a=n(75778),r=(n(39710),n(24819),n(81738),n(6989),n(21700),n(87799),n(54480),n(1455),n(26086),n(56389),function(e){return e.map(function(e){if("string"!==e.type)return e;switch(e.name){case"username":return Object.assign(Object.assign({},e),{},{autocomplete:"username",autofocus:!0});case"password":return Object.assign(Object.assign({},e),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},e),{},{autocomplete:"one-time-code",autofocus:!0});default:return e}})}),o=function(e,t){return e.callWS({type:"auth/sign_path",path:t})},s=function(){var e=(0,a.Z)((0,i.Z)().m(function e(t,n,a,r){return(0,i.Z)().w(function(e){for(;;)if(0===e.n)return e.a(2,t.callWS({type:"config/auth_provider/homeassistant/create",user_id:n,username:a,password:r}))},e)}));return function(t,n,i,a){return e.apply(this,arguments)}}(),c=function(e,t,n){return e.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:t,new_password:n})},u=function(e,t,n){return e.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:t,password:n})},l=function(e,t,n){return e.callWS({type:"config/auth_provider/homeassistant/admin_change_username",user_id:t,username:n})},d=function(e,t,n){return e.callWS({type:"auth/delete_all_refresh_tokens",token_type:t,delete_current_token:n})}},80972:function(e,t,n){"use strict";n.d(t,{Bp:function(){return r},E2:function(){return s},Uk:function(){return c},Zt:function(){return o},fQ:function(){return a},wc:function(){return i}});n(39710),n(56389);var i=function(e,t){return e.callWS({type:"blueprint/list",domain:t})},a=function(e,t){return e.callWS({type:"blueprint/import",url:t})},r=function(e,t,n,i,a,r){return e.callWS({type:"blueprint/save",domain:t,path:n,yaml:i,source_url:a,allow_override:r})},o=function(e,t,n){return e.callWS({type:"blueprint/delete",domain:t,path:n})},s=function(e){var t=e.metadata.source_url;return t?t.includes("github.com/home-assistant")?"homeassistant":"community":"local"},c=function(e,t,n,i){return e.callWS({type:"blueprint/substitute",domain:t,path:n,input:i})}},61447:function(e,t,n){"use strict";n.d(t,{T9:function(){return b},kU:function(){return u},i4:function(){return p},sF:function(){return s},z9:function(){return x},nk:function(){return h},Mw:function(){return y},Ch:function(){return d},Lr:function(){return v},jU:function(){return l},Xn:function(){return m},r:function(){return g},B:function(){return w},ou:function(){return Z},zj:function(){return k},qW:function(){return c}});n(87799),n(1455),n(44261);var i=n(29694),a=n(75778),r=(n(12212),function(){var e=(0,a.Z)((0,i.Z)().m(function e(t,n,a,r,o){var s,c,u,l,d,h,p=arguments;return(0,i.Z)().w(function(e){for(;;)switch(e.n){case 0:if((s=r[t])||(s=r[t]={}),!(c=s[o])){e.n=1;break}return e.a(2,c);case 1:for(u=p.length,l=new Array(u>5?u-5:0),d=5;d<u;d++)l[d-5]=p[d];return h=a.apply(void 0,[r,o].concat(l)),s[o]=h,h.then(function(){return setTimeout(function(){s[o]=void 0},n)},function(){s[o]=void 0}),e.a(2,h)}},e)}));return function(t,n,i,a,r){return e.apply(this,arguments)}}()),o=n(60673);const s=[1,2,3,4,6,8],c=2,u="hls",l="web_rtc",d=(e,t,n)=>`${e}&width=${t}&height=${n}`,h=e=>`/api/camera_proxy_stream/${e.entity_id}?token=${e.attributes.access_token}`,p=async(e,t,n,i)=>{const a=await r("_cameraTmbUrl",9e3,f,e,t);return d(a,n,i)},f=async(e,t)=>{const n=await(0,o.iI)(e,`/api/camera_proxy/${t}`);return e.hassUrl(n.path)},v=async(e,t,n)=>{const i={type:"camera/stream",entity_id:t};n&&(i.format=n);const a=await e.callWS(i);return a.url=e.hassUrl(a.url),a},b=(e,t,n,i)=>e.connection.subscribeMessage(i,{type:"camera/webrtc/offer",entity_id:t,offer:n}),g=(e,t,n,i)=>e.callWS({type:"camera/webrtc/candidate",entity_id:t,session_id:n,candidate:i}),m=(e,t)=>e.callWS({type:"camera/get_prefs",entity_id:t}),y=(e,t,n)=>e.callWS(Object.assign({type:"camera/update_prefs",entity_id:t},n)),_="media-source://camera/",w=e=>e.startsWith(_),k=e=>e.substring(22),Z=async(e,t)=>e.callWS({type:"camera/capabilities",entity_id:t}),x=async(e,t)=>e.callWS({type:"camera/webrtc/get_client_config",entity_id:t})},69992:function(e,t,n){"use strict";n.d(t,{B:function(){return a},l:function(){return r}});var i=n(10354),a=(n(55204),n(26847),n(81738),n(22960),n(48454),n(54480),n(11353),n(67886),n(65451),n(46015),n(38334),n(94880),n(75643),n(29761),n(48694),n(67398),n(27530),function(e){var t={};return Object.entries(e).forEach(function(e){var n=(0,i.Z)(e,2),a=n[0],r=n[1];t[a]={value:r.value,items:r.items instanceof Set?Array.from(r.items):r.items}}),t}),r=function(e){var t={};return Object.entries(e).forEach(function(e){var n=(0,i.Z)(e,2),a=n[0],r=n[1];t[a]={value:r.value,items:Array.isArray(r.items)?new Set(r.items):r.items}}),t}},99469:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var i=n(39884),a=function(e,t){return(0,i.B)(e,"hass-more-info",t)}},27295:function(e,t,n){"use strict";n.d(t,{C:function(){return d}});var i=n(29694),a=n(75778),r=n(54521),o=n(4490),s=n(20129),c=n(85297),u=n(53389),l=(n(12212),n(16954)),d=function(e){var t=function(e){function t(){var e;(0,r.Z)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=(0,s.Z)(this,t,[].concat(o)))._handleClick=function(){var t=(0,a.Z)((0,i.Z)().m(function t(n){var a,r;return(0,i.Z)().w(function(t){for(;;)switch(t.n){case 0:if(a=n.composedPath()[0],(0,l.J)(n)){t.n=1;break}return t.a(2);case 1:return t.n=2,e.promptDiscardChanges();case 2:t.v&&(e._removeListeners(),a&&(r=new MouseEvent(n.type,n),a.dispatchEvent(r)));case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),e._handleUnload=function(e){return e.preventDefault()},e}return(0,c.Z)(t,e),(0,o.Z)(t,[{key:"_removeListeners",value:function(){window.removeEventListener("click",this._handleClick,!0),window.removeEventListener("beforeunload",this._handleUnload)}},{key:"willUpdate",value:function(e){(0,u.Z)(t,"willUpdate",this,3)([e]),this.isDirty?(window.addEventListener("click",this._handleClick,!0),window.addEventListener("beforeunload",this._handleUnload)):this._removeListeners()}},{key:"disconnectedCallback",value:function(){(0,u.Z)(t,"disconnectedCallback",this,3)([]),this._removeListeners()}},{key:"isDirty",get:function(){return!1}},{key:"promptDiscardChanges",value:(n=(0,a.Z)((0,i.Z)().m(function e(){return(0,i.Z)().w(function(e){for(;;)if(0===e.n)return e.a(2,!0)},e)})),function(){return n.apply(this,arguments)})}]);var n}(e);return t}},2609:function(e,t,n){"use strict";n.d(t,{E:function(){return r},O:function(){return a}});n(26847),n(54480),n(1455),n(48694),n(27530);var i=n(39884),a=function(){return Promise.all([n.e("73614"),n.e("2243"),n.e("75696"),n.e("60986"),n.e("11730"),n.e("91789"),n.e("15634"),n.e("26452"),n.e("8605"),n.e("76782"),n.e("3401"),n.e("79914"),n.e("16376"),n.e("39432"),n.e("2769"),n.e("96910"),n.e("19596"),n.e("66156"),n.e("42281"),n.e("59905"),n.e("726"),n.e("60322")]).then(n.bind(n,14065))},r=function(e,t){(0,i.B)(e,"show-dialog",{dialogTag:"dialog-area-registry-detail",dialogImport:a,dialogParams:t})}},71541:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});n(26847),n(54480),n(1455),n(48694),n(27530);var i=n(39884),a=function(){return Promise.all([n.e("20278"),n.e("88737")]).then(n.bind(n,93999))},r=function(e,t){(0,i.B)(e,"show-dialog",{dialogTag:"ha-dialog-automation-mode",dialogImport:a,dialogParams:t})}},18942:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});n(26847),n(54480),n(1455),n(48694),n(27530);var i=n(39884),a=function(){return Promise.all([n.e("59905"),n.e("8484"),n.e("3045")]).then(n.bind(n,59833))},r=function(e,t){(0,i.B)(e,"show-dialog",{dialogTag:"ha-dialog-automation-save",dialogImport:a,dialogParams:t})}},96346:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});n(26847),n(54480),n(1455),n(48694),n(27530);var i=n(39884),a=function(){return n.e("33386").then(n.bind(n,97646))},r=function(e,t){(0,i.B)(e,"show-dialog",{dialogTag:"ha-dialog-paste-replace",dialogImport:a,dialogParams:t})}},74380:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});n(26847),n(54480),n(1455),n(48694),n(27530);var i=n(39884),a=function(){return n.e("87646").then(n.bind(n,51901))},r=function(e,t){(0,i.B)(e,"show-dialog",{dialogTag:"ha-dialog-new-automation",dialogImport:a,dialogParams:t})}},44139:function(e,t,n){"use strict";n.a(e,async function(e,i){try{n.d(t,{k:function(){return U}});var a,r,o,s,c,u,l,d,h,p,f,v,b,g=n(74904),m=n(10354),y=n(54982),_=n(54521),w=n(4490),k=n(20129),Z=n(85297),x=n(53389),C=(n(73249),n(84730),n(12212),n(24819),n(81738),n(6989),n(72489),n(87799),n(48454),n(24533),n(54480),n(69920),n(73742)),L=(n(98334),n(59048)),S=n(7616),O=n(39884),B=(n(81010),n(31138),n(6514)),j=(n(45861),n(52658),n(55245),n(95814)),T=e([B]);B=(T.then?(await T)():T)[0];var U=function(e){function t(){var e;(0,_.Z)(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=(0,k.Z)(this,t,[].concat(i))).isWide=!1,e.disabled=!1,e.narrow=!1,e}return(0,Z.Z)(t,e),(0,w.Z)(t,[{key:"firstUpdated",value:function(e){(0,x.Z)(t,"firstUpdated",this,3)([e]),this._getBlueprints()}},{key:"_blueprint",get:function(){if(this._blueprints)return this._blueprints[this._config.use_blueprint.path]}},{key:"renderCard",value:function(){var e,t=this,n=this._blueprint,i=!0;return(0,L.dy)(a||(a=(0,y.Z)([' <ha-card outlined class="blueprint" .header="','"> <div class="blueprint-picker-container"> '," </div> "," </ha-card> "])),this.hass.localize("ui.panel.config.automation.editor.blueprint.header"),this._blueprints?Object.keys(this._blueprints).length?(0,L.dy)(r||(r=(0,y.Z)([' <ha-blueprint-picker .hass="','" .label="','" .blueprints="','" .value="','" .disabled="','" @value-changed="','"></ha-blueprint-picker> '])),this.hass,this.hass.localize("ui.panel.config.automation.editor.blueprint.blueprint_to_use"),this._blueprints,this._config.use_blueprint.path,this.disabled,this._blueprintChanged):this.hass.localize("ui.panel.config.automation.editor.blueprint.no_blueprints"):(0,L.dy)(o||(o=(0,y.Z)(["<ha-spinner></ha-spinner>"]))),this._config.use_blueprint.path?n&&"error"in n?(0,L.dy)(s||(s=(0,y.Z)(['<p class="warning padding"> There is an error in this Blueprint: '," </p>"])),n.error):(0,L.dy)(c||(c=(0,y.Z)([""," ",""])),null!=n&&n.metadata.description?(0,L.dy)(u||(u=(0,y.Z)(['<ha-markdown class="card-content" breaks .content="','"></ha-markdown>'])),n.metadata.description):"",null!=n&&null!==(e=n.metadata)&&void 0!==e&&e.input&&Object.keys(n.metadata.input).length?Object.entries(n.metadata.input).map(function(e){var n=(0,m.Z)(e,2),a=n[0],r=n[1];if(r&&"input"in r){var o=t._renderSection(a,r);return i=!1,o}var s=t._renderSettingRow(a,r,i);return i=!0,s}):(0,L.dy)(l||(l=(0,y.Z)(['<p class="padding"> '," </p>"])),this.hass.localize("ui.panel.config.automation.editor.blueprint.no_inputs"))):"")}},{key:"_renderSection",value:function(e,t){var n=this,i=(null==t?void 0:t.name)||e,a=t.input&&Object.values(t.input).some(function(e){return null===e||void 0===e.default}),r=!t.collapsed||a;return(0,L.dy)(d||(d=(0,y.Z)(['<ha-expansion-panel outlined .expanded="','" .noCollapse="','"> ',' <div slot="header" role="heading" aria-level="3" class="section-header"> <ha-markdown .content="','"></ha-markdown> </div> <div class="content"> '," "," </div> </ha-expansion-panel>"])),r,a,null!=t&&t.icon?(0,L.dy)(h||(h=(0,y.Z)([' <ha-icon slot="leading-icon" class="section-header" .icon="','"></ha-icon> '])),t.icon):L.Ld,i,null!=t&&t.description?(0,L.dy)(p||(p=(0,y.Z)(['<ha-markdown .content="','"></ha-markdown>'])),t.description):L.Ld,t.input?Object.entries(t.input).map(function(e){var t=(0,m.Z)(e,2),i=t[0],a=t[1];return n._renderSettingRow(i,a,!0)}):L.Ld)}},{key:"_renderSettingRow",value:function(e,t,n){var i,a=null!==(i=null==t?void 0:t.selector)&&void 0!==i?i:{text:void 0};return(0,L.dy)(f||(f=(0,y.Z)(['<ha-settings-row .narrow="','" class="','"> <span slot="heading">','</span> <ha-markdown slot="description" class="card-content" breaks .content="','"></ha-markdown> '," </ha-settings-row>"])),this.narrow,n?"border":"",(null==t?void 0:t.name)||e,null==t?void 0:t.description,(0,L.dy)(v||(v=(0,y.Z)(['<ha-selector .hass="','" .selector="','" .key="','" .disabled="','" .required="','" .placeholder="','" .value="','" @value-changed="','"></ha-selector>'])),this.hass,a,e,this.disabled,void 0===(null==t?void 0:t.default),null==t?void 0:t.default,this._config.use_blueprint.input&&e in this._config.use_blueprint.input?this._config.use_blueprint.input[e]:null==t?void 0:t.default,this._inputChanged))}},{key:"_blueprintChanged",value:function(e){e.stopPropagation(),this._config.use_blueprint.path!==e.detail.value&&(0,O.B)(this,"value-changed",{value:Object.assign(Object.assign({},this._config),{},{use_blueprint:{path:e.detail.value}})})}},{key:"_inputChanged",value:function(e){e.stopPropagation();var t=e.target,n=t.key,i=e.detail?e.detail.value:t.value;if(!(this._config.use_blueprint.input&&this._config.use_blueprint.input[n]===i||!this._config.use_blueprint.input&&""===i)){var a=Object.assign(Object.assign({},this._config.use_blueprint.input),{},(0,g.Z)({},n,i));(0,O.B)(this,"value-changed",{value:Object.assign(Object.assign({},this._config),{},{use_blueprint:Object.assign(Object.assign({},this._config.use_blueprint),{},{input:a})})})}}}],[{key:"styles",get:function(){return[j.Qx,(0,L.iv)(b||(b=(0,y.Z)([":host{display:block}ha-card.blueprint{margin:0 auto;margin-bottom:64px}.padding{padding:16px}.link-button-row{padding:14px}.blueprint-picker-container{padding:0 16px 16px}ha-blueprint-picker,ha-textfield{display:block}h3{margin:16px}.introduction{margin-top:0;margin-bottom:12px}.introduction a{color:var(--primary-color)}p{margin-bottom:0}.description{margin-bottom:16px}ha-settings-row{--settings-row-content-width:100%;--settings-row-prefix-display:contents}ha-settings-row.border{border-top:1px solid var(--divider-color)}ha-expansion-panel{margin:8px;margin-left:8px;margin-right:8px}div.section-header{display:flex;vertical-align:middle}ha-icon.section-header{padding-right:10px}ha-alert{display:block;margin-bottom:16px}"])))]}}])}(L.oi);(0,C.__decorate)([(0,S.Cb)({attribute:!1})],U.prototype,"hass",void 0),(0,C.__decorate)([(0,S.Cb)({attribute:"is-wide",type:Boolean})],U.prototype,"isWide",void 0),(0,C.__decorate)([(0,S.Cb)({type:Boolean})],U.prototype,"disabled",void 0),(0,C.__decorate)([(0,S.Cb)({type:Boolean,reflect:!0})],U.prototype,"narrow",void 0),(0,C.__decorate)([(0,S.SB)()],U.prototype,"_blueprints",void 0),U=(0,C.__decorate)([(0,S.Mo)("blueprint-generic-editor")],U),i()}catch(z){i(z)}})},28773:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var i=n(54521),a=n(4490),r=(n(26847),n(7175),n(54480),n(48694),n(27530),function(){return(0,a.Z)(function e(t){(0,i.Z)(this,e),this._cache=new Map,this._expiration=t},[{key:"get",value:function(e){return this._cache.get(e)}},{key:"set",value:function(e,t){var n=this;this._cache.set(e,t),this._expiration&&window.setTimeout(function(){return n._cache.delete(e)},this._expiration)}},{key:"has",value:function(e){return this._cache.has(e)}}])}())},23265:function(e,t,n){var i={"./ha-icon":["46358","82343"],"./ha-icon-button-toggle":["68695","54472"],"./ha-svg-icon":["993"],"./ha-icon-button-group":["15053","59877"],"./ha-svg-icon.ts":["993"],"./ha-icon.ts":["46358","82343"],"./ha-icon-overflow-menu":["65014","97103","60986","91789","22092","79576","37165"],"./ha-icon-next":["5786","41374"],"./ha-icon-picker":["65981","73614","2243","97103","60986","11730","16376","94855"],"./ha-qr-code.ts":["2183","16892","22954"],"./ha-icon-button-arrow-prev.ts":["45109","86454"],"./ha-icon-button-arrow-prev":["45109","86454"],"./ha-icon-overflow-menu.ts":["65014","97103","60986","91789","22092","79576","37165"],"./ha-alert":["12942","43404"],"./ha-icon-button-next":["22852","8145"],"./ha-icon-button":["48017"],"./ha-icon-button-next.ts":["22852","8145"],"./ha-icon-picker.ts":["65981","73614","2243","97103","60986","11730","16376","94855"],"./ha-icon-button-group.ts":["15053","59877"],"./ha-icon-button-toggle.ts":["68695","54472"],"./ha-icon-button-arrow-next.ts":["51383","30113"],"./ha-icon-button-prev.ts":["29813","54260"],"./ha-icon-prev":["21940","55974"],"./ha-icon-prev.ts":["21940","55974"],"./ha-icon-button.ts":["48017"],"./ha-alert.ts":["12942","43404"],"./ha-icon-button-prev":["29813","54260"],"./ha-qr-code":["2183","16892","22954"],"./ha-icon-next.ts":["5786","41374"],"./ha-icon-button-arrow-next":["51383","30113"]};function a(e){if(!n.o(i,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=i[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(a)})}a.keys=function(){return Object.keys(i)},a.id=23265,e.exports=a}}]);
//# sourceMappingURL=26775.3efc297e67277948.js.map