/*! For license information please see 72825.874c60779cf76d2d.js.LICENSE.txt */
(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["72825"],{1521:function(t,i,e){"use strict";e.d(i,{Z:function(){return a}});var n=e(61943);e(24819),e(81738),e(22960),e(6989),e(24533),e(54480),e(56303),e(67398);function a(t){if(!t||"object"!=(0,n.Z)(t))return t;if("[object Date]"==Object.prototype.toString.call(t))return new Date(t.getTime());if(Array.isArray(t))return t.map(a);var i={};return Object.keys(t).forEach(function(e){i[e]=a(t[e])}),i}},95962:function(t,i,e){e(81738),e(22960),t.exports=function t(i){return Object.freeze(i),Object.getOwnPropertyNames(i).forEach(function(e){!i.hasOwnProperty(e)||null===i[e]||"object"!=typeof i[e]&&"function"!=typeof i[e]||Object.isFrozen(i[e])||t(i[e])}),i}},85734:function(t,i,e){"use strict";e.a(t,async function(t,n){try{e.r(i),e.d(i,{HuiDialogSuggestCard:function(){return I}});var a,o,r,s,c,u,l,h,d,f=e(29694),p=e(75778),v=e(54982),g=e(54521),_=e(4490),m=e(20129),y=e(85297),b=(e(12212),e(24819),e(81738),e(6989),e(70822),e(54480),e(73742)),C=e(95962),w=e.n(C),k=e(59048),Z=e(7616),S=e(39884),x=(e(43109),e(6514)),j=e(52802),z=e(95814),A=e(74785),O=e(53153),D=e(20434),F=e(71796),B=e(72456),N=e(2313),E=t([x,O,B]);[x,O,B]=E.then?(await E)():E;var I=function(t){function i(){var t;(0,g.Z)(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=(0,m.Z)(this,i,[].concat(n)))._saving=!1,t}return(0,y.Z)(i,t),(0,_.Z)(i,[{key:"showDialog",value:function(t){this._params=t,this._cardConfig=t.cardConfig,this._sectionConfig=t.sectionConfig,Object.isFrozen(this._cardConfig)||(this._cardConfig=w()(this._cardConfig)),Object.isFrozen(this._sectionConfig)||(this._sectionConfig=w()(this._sectionConfig)),this._yamlEditor&&this._yamlEditor.setValue(this._cardConfig)}},{key:"closeDialog",value:function(){this._params=void 0,this._cardConfig=void 0,(0,S.B)(this,"dialog-closed",{dialog:this.localName})}},{key:"_viewSupportsSection",get:function(){var t,i;if(null===(t=this._params)||void 0===t||!t.lovelaceConfig||null===(i=this._params)||void 0===i||!i.path)return!1;var e=(0,F.jb)(this._params.path).viewIndex,n=this._params.lovelaceConfig.views[e];return!(0,j.s)(n)&&"sections"===n.type}},{key:"_renderPreview",value:function(){var t=this;return this._sectionConfig&&this._viewSupportsSection?(0,k.dy)(a||(a=(0,v.Z)([' <div class="element-preview"> <hui-section .hass="','" .config="','" preview></hui-section> </div> '])),this.hass,this._sectionConfig):this._cardConfig?(0,k.dy)(o||(o=(0,v.Z)([' <div class="element-preview"> '," </div> "])),this._cardConfig.map(function(i){return(0,k.dy)(r||(r=(0,v.Z)([' <hui-card .hass="','" .config="','" preview></hui-card> '])),t.hass,i)})):k.Ld}},{key:"render",value:function(){return this._params?(0,k.dy)(s||(s=(0,v.Z)([' <ha-dialog open scrimClickAction @closed="','" .heading="','"> <div> '," ",' </div> <mwc-button slot="secondaryAction" @click="','" dialogInitialFocus> '," </mwc-button> "," </ha-dialog> "])),this.closeDialog,this.hass.localize("ui.panel.lovelace.editor.suggest_card.header"),this._renderPreview(),this._params.yaml&&this._cardConfig?(0,k.dy)(c||(c=(0,v.Z)([' <div class="editor"> <ha-yaml-editor .hass="','" .defaultValue="','"></ha-yaml-editor> </div> '])),this.hass,this._cardConfig):k.Ld,this.closeDialog,this._params.yaml?this.hass.localize("ui.common.close"):this.hass.localize("ui.common.cancel"),this._params.yaml?k.Ld:(0,k.dy)(u||(u=(0,v.Z)([" ",' <mwc-button slot="primaryAction" .disabled="','" @click="','"> '," </mwc-button> "])),this._sectionConfig&&this._viewSupportsSection?k.Ld:(0,k.dy)(l||(l=(0,v.Z)([' <mwc-button slot="primaryAction" @click="','"> '," </mwc-button> "])),this._pickCard,this.hass.localize("ui.panel.lovelace.editor.suggest_card.create_own")),this._saving,this._save,this._saving?(0,k.dy)(h||(h=(0,v.Z)([' <ha-spinner aria-label="Saving" size="small"></ha-spinner> ']))):this.hass.localize("ui.panel.lovelace.editor.suggest_card.add"))):k.Ld}},{key:"_pickCard",value:function(){var t,i,e;null!==(t=this._params)&&void 0!==t&&t.lovelaceConfig&&null!==(i=this._params)&&void 0!==i&&i.path&&null!==(e=this._params)&&void 0!==e&&e.saveConfig&&((0,N.F)(this,{lovelaceConfig:this._params.lovelaceConfig,saveConfig:this._params.saveConfig,path:this._params.path,entities:this._params.entities}),this.closeDialog())}},{key:"_computeNewConfig",value:function(t,i){if(!this._viewSupportsSection)return(0,D.BN)(t,i,this._cardConfig);var e=(0,F.jb)(i),n=e.viewIndex,a=e.sectionIndex;if(void 0===a){var o,r=null!==(o=this._sectionConfig)&&void 0!==o?o:{type:"grid",cards:this._cardConfig};return(0,D.qG)(t,n,r)}var s=this._sectionConfig?this._sectionConfig.cards||[]:this._cardConfig;return(0,D.BN)(t,[n,a],s)}},{key:"_save",value:(e=(0,p.Z)((0,f.Z)().m(function t(){var i,e,n,a;return(0,f.Z)().w(function(t){for(;;)switch(t.n){case 0:if(null!==(i=this._params)&&void 0!==i&&i.lovelaceConfig&&null!==(e=this._params)&&void 0!==e&&e.path&&null!==(n=this._params)&&void 0!==n&&n.saveConfig&&this._cardConfig){t.n=1;break}return t.a(2);case 1:return this._saving=!0,a=this._computeNewConfig(this._params.lovelaceConfig,this._params.path),t.n=2,this._params.saveConfig(a);case 2:this._saving=!1,(0,A.f)(this,this.hass),this.closeDialog();case 3:return t.a(2)}},t,this)})),function(){return e.apply(this,arguments)})}],[{key:"styles",get:function(){return[z.yu,(0,k.iv)(d||(d=(0,v.Z)(["@media all and (max-width:450px),all and (max-height:500px){ha-dialog{max-height:100%;height:100%}}@media all and (min-width:850px){ha-dialog{width:845px}}ha-dialog{max-width:845px;--dialog-z-index:6}.hidden{display:none}.element-preview{position:relative}hui-card,hui-section{padding-top:8px;margin:4px auto;max-width:390px;display:block;width:100%}.editor{padding-top:16px}"])))]}}]);var e}(k.oi);(0,b.__decorate)([(0,Z.Cb)({attribute:!1})],I.prototype,"hass",void 0),(0,b.__decorate)([(0,Z.SB)()],I.prototype,"_params",void 0),(0,b.__decorate)([(0,Z.SB)()],I.prototype,"_cardConfig",void 0),(0,b.__decorate)([(0,Z.SB)()],I.prototype,"_sectionConfig",void 0),(0,b.__decorate)([(0,Z.SB)()],I.prototype,"_saving",void 0),(0,b.__decorate)([(0,Z.IO)("ha-yaml-editor")],I.prototype,"_yamlEditor",void 0),I=(0,b.__decorate)([(0,Z.Mo)("hui-dialog-suggest-card")],I),n()}catch(L){n(L)}})},74785:function(t,i,e){"use strict";e.d(i,{f:function(){return a}});var n=e(35982),a=function(t,i){return(0,n.C)(t,{message:i.localize("ui.common.successfully_saved")})}},70822:function(t,i,e){"use strict";var n=e(77341),a=e(81455),o=e(86840),r=e(32185),s=e(30426),c=Object.isFrozen;n({target:"Object",stat:!0,forced:s||a(function(){c(1)})},{isFrozen:function(t){return!o(t)||(!(!s||"ArrayBuffer"!==r(t))||!!c&&c(t))}})},77528:function(t,i,e){"use strict";e.d(i,{Z:function(){return a}});e(73249),e(84730),e(79133),e(40777),e(26847),e(54480),e(48694),e(27530);var n=e(61943);function a(t){if(null!=t){var i=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError((0,n.Z)(t)+" is not iterable")}},45300:function(t,i,e){"use strict";e.d(i,{e:function(){return n}});e(31454);function n(t,i){!i.bubbles||t.shadowRoot&&!i.composed||i.stopPropagation();var e=Reflect.construct(i.constructor,[i.type,i]),n=t.dispatchEvent(e);return n||i.preventDefault(),n}},31578:function(t,i,e){"use strict";e.d(i,{N:function(){return u},b:function(){return s}});var n=e(54521),a=e(4490),o=e(20129),r=e(85297),s=(e(11807),e(73249),e(84730),e(54480),Symbol("internals")),c=Symbol("privateInternals");function u(t){var i=function(t){function i(){return(0,n.Z)(this,i),(0,o.Z)(this,i,arguments)}return(0,r.Z)(i,t),(0,a.Z)(i,[{key:s,get:function(){return this[c]||(this[c]=this.attachInternals()),this[c]}}])}(t);return i}},82747:function(t,i,e){"use strict";e.d(i,{$u:function(){return h},hz:function(){return f}});var n=e(54521),a=e(4490),o=e(20129),r=e(53389),s=e(85297),c=(e(44776),e(73249),e(84730),e(40777),e(54480),e(73742)),u=e(7616),l=e(31578),h=Symbol("getFormValue"),d=Symbol("getFormState");function f(t){var i=function(t){function i(){return(0,n.Z)(this,i),(0,o.Z)(this,i,arguments)}return(0,s.Z)(i,t),(0,a.Z)(i,[{key:"form",get:function(){return this[l.b].form}},{key:"labels",get:function(){return this[l.b].labels}},{key:"name",get:function(){var t;return null!==(t=this.getAttribute("name"))&&void 0!==t?t:""},set:function(t){this.setAttribute("name",t)}},{key:"disabled",get:function(){return this.hasAttribute("disabled")},set:function(t){this.toggleAttribute("disabled",t)}},{key:"attributeChangedCallback",value:function(t,e,n){if("name"!==t&&"disabled"!==t)(0,r.Z)(i,"attributeChangedCallback",this,3)([t,e,n]);else{var a="disabled"===t?null!==e:e;this.requestUpdate(t,a)}}},{key:"requestUpdate",value:function(t,e,n){(0,r.Z)(i,"requestUpdate",this,3)([t,e,n]),this[l.b].setFormValue(this[h](),this[d]())}},{key:h,value:function(){throw new Error("Implement [getFormValue]")}},{key:d,value:function(){return this[h]()}},{key:"formDisabledCallback",value:function(t){this.disabled=t}}])}(t);return i.formAssociated=!0,(0,c.__decorate)([(0,u.Cb)({noAccessor:!0})],i.prototype,"name",null),(0,c.__decorate)([(0,u.Cb)({type:Boolean,noAccessor:!0})],i.prototype,"disabled",null),i}},58104:function(t,i,e){"use strict";e.d(i,{p:function(){return o}});var n=e(40246),a=e(7722);function o(t,i,e){var o=(0,a.j)(t,i,e)/7;return(0,n.u)(null==e?void 0:e.roundingMethod)(o)}}}]);
//# sourceMappingURL=72825.874c60779cf76d2d.js.map